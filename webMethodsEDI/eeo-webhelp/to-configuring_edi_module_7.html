<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Associating the EDI Format Services with EDI Data Types</title><link rel="Prev" href="to-configuring_edi_module_6.html" title="Previous" /><link rel="Next" href="to-configuring_edi_module_8.html" title="Next" /><link rel="StyleSheet" href="css/_edi_module_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_edi_module_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/eeo-webhelp/to-configuring_edi_module_7.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pct2uHWTDkY45pXf6JRw6_002bg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/eeo-webhelp/to-configuring_edi_module_7.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Module for EDI</span>&nbsp;9.12 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../eeo-webhelp/_edi_module_integrated_webhelp.1.055.html#wwconnect_header">Installing and Using EDI Module</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../eeo-webhelp/to-configuring_edi_module.html#wwconnect_header">Configuring webMethods Module for EDI</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../eeo-webhelp/to-configuring_edi_module_5.html#wwconnect_header">Setting Up Items Required for Structural Validation and Conversion</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Associating the EDI Format Services with EDI Data Types</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EIVKM" class="Heading_3">Associating the EDI Format Services with EDI Data Types</div><div id="wwID0EWVKM" class="Body">When you create a flat file schema from a SEF file, you can have the <span class="apiname">wm.b2b.edi:SEFParse</span> service automatically assign format services to the fields in the flat file schema. For this service to be able to assign the format services, you must associate EDI format services with EDI data types. The <span class="apiname">wm.b2b.edi:SEFParse</span> service assigns the format services to fields based on the fields' data types. For example, if a field has a data type of “DT”, the <span class="apiname">wm.b2b.edi:SEFParse</span> service assigns the format service that you associate with the DT data type to that field. For more information about how to create flat files from SEF files, see 
    <a href="../eeo-webhelp/to-app_using_edi_module_without_tn_7.html#wwID0E61YS"
   
     title="Creating a Flat File Schema from a SEF File"
    ><span class="heading-page">Creating a Flat File Schema from a SEF
								File</span></a>.</div><div id="wwID0EJYKM" class="Body">To determine the data type of a field, the <span class="apiname">wm.b2b.edi:SEFParse</span> service uses the element definition contained within the SEF file. The element definition has the following structure:</div><div id="wwID0EAZKM" class="Preformatted">&lt;element name&gt;=&lt;data type&gt;,&lt;min length&gt;,&lt;max length&gt;</div><div id="wwID0EGZKM" class="Body">To determine the format service to associate with a specific data type, the <span class="apiname">wm.b2b.edi:SEFParse</span> service uses information that you configure in the following configuration file:</div><div id="wwID0ERZKM" class="Body"><span class="ph_002c_emphasis">Integration&nbsp;Server_directory</span>\instances\<span class="varname">$instance_name</span>\packages\WmEDI\config\format.xml</div><div id="wwID0EF1KM" class="Body">In the format.xml configuration file, you configure the format service you want the <span class="apiname">wm.b2b.edi:SEFParse</span> service to use for each EDI data type.</div><div id="wwID0EW1KM" class="Body">To associate EDI format services with EDI data types, perform the following procedure to update the configuration in memory (so the changes take effect immediately) and in the <span class="codeph">format.xml</span> file.</div><div id="wwID0EA2KM" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To associate EDI format services with EDI data types</div><div id="wwID0EY2KM" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command">In </span><span class="Command_002c_Command">My webMethods</span><span class="Command">: </span><span class="Command_002c_uicontrol">Administration &gt; Integration &gt; B2B Settings &gt; Configure Properties</span><span class="Command">. </span></div><div id="wwID0E23KM" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">In the </span><span class="Command_002c_Command">Module for EDI</span><span class="Command"> Format Settings panel, update each entry in the </span><span class="Command_002c_codeph">format.xml</span><span class="Command"> configuration file as needed. Each entry has the following format structure: </span></div><div id="wwID0ED5KM" class="Preformatted_1">&lt;DatatypeFormat     <br />datatype="data_type"     <br />service="format_service_to_associate_with_datatype"/&gt;</div><div id="wwID0EJ5KM" class="Body_1">For more information about the format services provided with <span class="ph">Module for EDI</span>, see the description of the <span class="apiname">wm.b2b.edi.util.formatServices</span> folder in <span class="ph"> </span><span class="ph_002c_Citation">webMethods Module for EDI Built-In Services Reference</span>.</div><div id="wwID0EC6KM" class="Body_1"><span class="emphasis">Examples:</span></div><div id="wwID0ER6KM" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The following entry associates the data type <span class="codeph">N1</span> with the <span class="apiname">formatN1</span> format service. This entry matches all elements with data type <span class="codeph">N1</span>, regardless of their length.</div><div id="wwID0EPALM" class="Preformatted_2">&lt;DatatypeFormat     <br />datatype="N1"     <br />service="wm.b2b.edi.util.formatServices:formatN1"/&gt;</div><div id="wwID0EWALM" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The following entry associates the data type <span class="codeph">TM</span> with a minimum length of 4 and a maximum length of 8 with the <span class="apiname">formatTime4_8</span> format service:</div><div id="wwID0EQBLM" class="Preformatted_2">&lt;DatatypeFormat     <br />datatype="TM,4,8"     <br />service="wm.b2b.edi.util.formatServices:formatTime4_8"/&gt;</div><div id="wwID0EZBLM" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command">Resequence the </span><span class="Command_002c_codeph">DatatypeFormat</span><span class="Command"> entries, if necessary. </span></div><div id="wwID0E2CLM" class="Body_1">The <span class="apiname">wm.b2b.edi:SEFParse</span> service searches the <span class="codeph">DatatypeFormat</span> entries sequentially in the <span class="codeph">format.xml</span> configuration file and uses the first match. As a result, ensure your entries are listed from more specific to less specific.</div><div id="wwID0EODLM" class="Body_1"><span class="emphasis">Example:</span></div><div id="wwID0EYDLM" class="Body_1">To use format service “<span class="apiname">example:service1</span>" for data type <span class="codeph">N1</span> where the minimum length is 1 and maximum length is 5 and to use format service "<span class="apiname">example:service2</span>" for all other <span class="codeph">N1</span> data types, the <span class="codeph">format.xml</span> file would contain <span class="codeph">DatatypeFormat</span> entries in the following order:</div><div id="wwID0EYELM" class="Preformatted_1">&lt;DatatypeFormat     <br />datatype="N1,1,5"     <br />service="example:service1"/&gt;     <br />&lt;DatatypeFormat     <br />datatype="N1"     <br />service="example:service2"/&gt;</div><div id="wwID0EAFLM" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Save</span><span class="Command">. </span></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2000-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>