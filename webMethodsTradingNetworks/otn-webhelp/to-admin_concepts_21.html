<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Document Processing</title><link rel="Prev" href="to-admin_concepts_20.html" title="Previous" /><link rel="Next" href="to-admin_concepts_22.html" title="Next" /><link rel="StyleSheet" href="css/_tn_guides_integrated_diba2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_tn_guides_integrated_diba2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/otn-webhelp/to-admin_concepts_21.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pM1dcIh4NpcdGDS3BgNfxDg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/otn-webhelp/to-admin_concepts_21.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Trading Networks</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../otn-webhelp/_tn_guides_integrated_diba2.1.0006.html#wwconnect_header">Administering Trading Networks</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../otn-webhelp/to-admin_concepts.html#wwconnect_header">Understanding webMethods Trading Networks</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Document Processing</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EC6DI" class="Heading_2">Document Processing</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../otn-webhelp/to-admin_concepts_22.html#wwconnect_header">Error Logging</a></div></dd></dl></div><div id="wwID0EP6DI" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>A partner sends a document, as follows:</div><div id="wwID0EEAAK" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The partner sends an XML document to the <span class="ph">Trading Networks</span> <span class="apiname">wm.tn:receive</span> service. The service reads the document into the pipeline. If coded to do so, the service places the name of the document type and processing rule to use for the document on variables in the pipeline.</div><div id="wwID0E5AAK" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The partner sends a flat file document to a document gateway service. The gateway service reads the document and places variables you specify (for example, SenderID, ReceiverID, DocumentID, and ConversationID) in the pipeline. If coded to do so, the gateway service places the name of the document type and processing rule to use for the document on variables in the pipeline, and places specified custom document attributes and their values in the pipeline. The gateway service then invokes the <span class="apiname">wm.tn:receive</span> service.</div><div id="wwID0EWBAK" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If <span class="ph">Trading Networks</span> does not find a document type name in the pipeline, it performs <span class="term">document recognition</span>; that is, it compares the XML document to the criteria specified in enabled XML document types, or the flat file document to the criteria specified in enabled flat file document types. When it finds a match, <span class="ph">Trading Networks</span> creates a BizDocEnvelope from the document and places the BizDocEnvelope in the bizdoc variable in the pipeline. It then extracts the document attributes that are specified in the matching document type from the pipeline and adds them to the BizDocEnvelope, along with additional information required to route and process the document. The BizDocEnvelope represents a routeable <span class="ph">Trading Networks</span> transaction and conforms to the <span class="apiname">wm.tn.rec:BizDocEnvelope</span>. The bizdoc variable adheres to the <span class="apiname">wm.tn.rec:BizDocEnvelope</span> IS document type and is an instance of <span class="apiname">com.wm.app.tn.doc.BizDocEnvelope.</span></div><div id="wwID0EGDAK" class="Numbered_1_Continued"><span class="ph">Trading Networks</span> also places the sender and receiver variables in the pipeline. These variables contain the partners identified as the sender and receiver, respectively, in the document. The variables adhere to the <span class="apiname">wm.tn.rec:ProfileSummary</span> IS document type and are instances of <span class="apiname">com.wm.app.tn.profile.ProfileSummary</span>. To view the IS document type, open <span class="ph">Software AG Designer</span> and look in the WmTN package <span class="apiname">wm.tn.rec folder</span>.</div><div id="wwID0EEEAK" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>The next action depends on whether the pipeline contains a processing rule name and what the document type specifies, as follows:</div><div id="wwID0EYEAK" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the document type specifies the use of a processing rule, <span class="ph">Trading Networks</span> continues with step 4.</div><div id="wwID0E5FAK" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the pipeline specifies a processing rule name, <span class="ph">Trading Networks</span> skips to step 5.</div><div id="wwID0EVGAK" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the pipeline does not contain a processing rule name, and the document type specifies to <span class="emphasis">not</span> use a processing rule, <span class="ph">Trading Networks</span> performs any pre-processing actions that are specified in the document type in the order they are listed in 
    <a href="../otn-webhelp/to-admin_concepts_8.html#wwID0E5FBI"
   
     title="Document Types"
    ><span class="heading-page">Document Types</span></a>. <span class="ph">Trading Networks</span> then skips to step 7.</div><div id="wwID0E5HAK" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="ph">Trading Networks</span> compares the document to the criteria specified in all enabled processing rules.</div><div id="wwID0E1IAK" class="Table_Description">The following table describes the criteria and the action:</div><div class="ww_skin_page_overflow"><table class="Rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="padding-left: 2pt; padding-right: 2pt; width: 108pt"><div id="wwID0E2JAK" class="Table_Cell_Head">Criteria</div></td><td class="Table_Cell_Head" style="padding-left: 2pt; padding-right: 2pt; width: 306.71999999999997pt"><div id="wwID0EBKAK" class="Table_Cell_Head"><span class="ph">Trading Networks</span> Action</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVKAK" class="Table_Cell">Sender, receiver, or both</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2KAK" class="Table_Cell">Compares to the SenderID and ReceiverID system attributes in the document. If <span class="ph">Trading Networks</span> matches these SenderID and ReceiverID system attributes to a partner profile, it uses the corporation name and unit name specified in the profile as the name of the sender, the receiver, or both. <span class="ph">Trading Networks</span> compares the name of the partner to the partner or partners specified in the processing rule.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPLAK" class="Table_Cell">Document type</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVLAK" class="Table_Cell">Compares to the document type for the document.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAMAK" class="Table_Cell">User status</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGMAK" class="Table_Cell">Compares to the UserStatus system attribute for the document.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERMAK" class="Table_Cell">Occurrence or non-occurrence of errors during document recognition</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXMAK" class="Table_Cell">Checks for errors in the pipeline.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECNAK" class="Table_Cell">Custom attributes</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EINAK" class="Table_Cell">Compares to the attributes it extracted from the document.</div></td></tr></table></div><div id="wwID0ETNAK" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="ph">Trading Networks</span> performs the pre-processing actions specified by the matching processing rule in the order they are listed in 
    <a href="../otn-webhelp/to-admin_concepts_11.html#wwID0E41BI"
   
     title="Processing Rules"
    ><span class="heading-page">Processing Rules</span></a>.</div><div id="wwID0EROAK" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>6. </span></span><span class="ph">Trading Networks</span> performs the processing actions specified in the processing rule in the order they are listed in the following table:</div><div class="ww_skin_page_overflow"><table class="Rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="padding-left: 2pt; padding-right: 2pt; width: 90pt"><div id="wwID0EJQAK" class="Table_Cell_Head">Criteria</div></td><td class="Table_Cell_Head" style="padding-left: 2pt; padding-right: 2pt; width: 324pt"><div id="wwID0EPQAK" class="Table_Cell_Head"><span class="ph">Trading Networks</span> Action</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDRAK" class="Table_Cell">Execute a Service</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJRAK" class="Table_Cell">Processing depends on how you invoke the action, as follows:</div><div id="wwID0ETRAK" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Synchronous</span>: Invokes the service once, waits for the service to complete, and places the results in the pipeline. You can use the service results in output templates or other processing actions. If you do not use the Respond With action, <span class="ph">Trading Networks</span> returns the results of the service unmodified to the client that sent the document. If you do use that action, <span class="ph">Trading Networks</span> returns only the message you specify.</div><div id="wwID0EQSAK" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Asynchronous</span>: Invokes the service once and does not place the results in the pipeline. If there are subsequent processing actions, <span class="ph">Trading Networks</span> immediately performs them; if there are not, it returns to the caller that sent the document for processing. If you do not use the Respond With action, <span class="ph">Trading Networks</span> returns no information to the caller. If you do use that action, <span class="ph">Trading Networks</span> returns the message you specify.</div><div id="wwID0ERTAK" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Service execution task</span>: Invokes the service and uses reliable execution to retry the service if it fails. <span class="ph">Trading Networks</span> creates a <span class="term">service execution task</span> to keep track of its attempts to execute the service. If <span class="ph">Trading Networks</span> retries the maximum number of times and the service is still unsuccessful, it updates the task status to FAILED. The processing and information returned to the caller are the same as for <span class="uicontrol">Asynchronous</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4UAK" class="Table_Cell">Send an Alert Email</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDVAK" class="Table_Cell">Sends the specified email to the specified person.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOVAK" class="Table_Cell">Change User Status</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUVAK" class="Table_Cell">Assigns the specified user status to the document. For an example of using user status criteria during processing, see 
    <a href="../otn-webhelp/to-app_userstatus_example.html#wwID0ETIGR"
   
     title="Example of User Status in Document Processing"
    ><span class="heading-page">Example of User Status in Document
				Processing</span></a>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJWAK" class="Table_Cell">Deliver Document By</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPWAK" class="Table_Cell">Delivers the document to the receiver that is identified in the document using the delivery method you specified in the processing rule.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1WAK" class="Table_Cell">Respond with</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAXAK" class="Table_Cell">Returns the specified message to the caller that sent the document to be processed.</div></td></tr></table></div><div id="wwID0ELXAK" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>7. </span></span>If you extracted the ConversationID system attribute from the document, <span class="ph">Trading Networks</span> passes the document to the <span class="ph">Process Engine</span> for processing by a business process. If the <span class="ph">Process Engine</span> finds a running business process that uses the document’s conversation ID, it passes the document to the running process. If <span class="ph">Process Engine</span> does not find such a running business process, it searches for a process model whose first step waits for the document and starts a new instance of the process model. The <span class="ph">Process Engine</span> logs the status of business processes so you can view and monitor their progress.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2024&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>