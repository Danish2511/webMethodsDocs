<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>wm.tn.mime:sign</title><link rel="Prev" href="wm_tn_mime_setDigestAlgorithm.html" title="Previous" /><link rel="Next" href="wm_tn_mime_verify.html" title="Next" /><link rel="StyleSheet" href="css/_tn_guides_integrated_diba2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_tn_guides_integrated_diba2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/otn-webhelp/wm_tn_mime_sign.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pbc0dPB0QxwQtt2UmEPB4xg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/otn-webhelp/wm_tn_mime_sign.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Trading Networks</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../otn-webhelp/_tn_guides_integrated_diba2.1.0574.html#wwconnect_header">Building Services with Trading Networks</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../otn-webhelp/to-tnbis_mimefolder.html#wwconnect_header">Mime Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../otn-webhelp/to-tnbis_mimefolder_5.html#wwconnect_header">Summary of Elements in this Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">wm.tn.mime:sign</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EUMOT" class="Heading_3">wm.tn.mime:sign</div><div id="wwID0E5NOT" class="Body">Creates a PKCS7 SignedData object.</div><div id="wwID0EFOOT" class="Body">The resulting signature is a Java byte[] that is a DER-encoded representation of the SignedData object as specified in PKCS7.</div><div id="wwID0EKOOT" class="Body">This service also allows for the creation of an explicit message digest. The service computes this digest separately from the one contained in the signed message. The default algorithm for this digest is SHA-1.</div><div id="wwID0EXOOT" class="Section_Title">Input Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25%"><div id="wwID0ECQOT" class="Table_Cell"><span class="varname">signerInfo</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 75%"><div id="wwID0EOQOT" class="Table_Cell"><span class="bisdatatype">IData [ ]</span> An array containing information about a single signer of the document.</div><div id="wwID0EZQOT" class="Table_Cell">For each <span class="varname">signerInfoRecord</span>, one of the following is required:</div><div id="wwID0EKROT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="varname">certChain</span> that contains a certificate chain and private key</div><div id="wwID0ECSOT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="varname">keyAlias</span> that references a certificate chain and private key in the key store</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENTOT" class="Table_Cell">This IData object contains the following keys:</div><div id="wwID0EYTOT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="varname">certChain</span> <span class="bisdatatype">Object [ ]</span> A X509 certificate of the signer. The certificate of the signer must be the first certificate in this chain; the root Certifying Authority (CA) certificate must be the last.</div><div id="wwID0EVUOT" class="List_1_Continued">This should be a Certificate[] or an array of byte[].</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUVOT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="varname">key</span> <span class="bisdatatype">Object</span> The private key that corresponds to the public key in the certificate of the signer. (That is, the first certificate in <span class="varname">certChain</span>). The service uses this key to digitally sign the data. The private key can be any asymmetric encryption key that is supported by the <span class="ph">webMethods Integration Server</span>; for example, DSA or RSA.</div><div id="wwID0E1WOT" class="List_1_Continued">This should be an instance of Java.security.PrivateKey or byte[].</div><div id="wwID0EAXOT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="varname">keyAlias</span> <span class="bisdatatype">String</span> (optional) The alias that refers to the certificate chain and private key in the key store. This is not currently used.</div><div id="wwID0E4XOT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="varname">hashAlgorithm</span> <span class="bisdatatype">String</span> The algorithm to use when computing the digest of the specified data. Specify either <span class="codeph">SHA</span> or <span class="codeph">MD5</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJZOT" class="Table_Cell"><span class="varname">data</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVZOT" class="Table_Cell"><span class="bisdatatype">InputStream or Byte [ ]</span> The message to sign, which must be provided as a Java byte [].</div><div id="wwID0EA1OT" class="Table_Cell">This stream is fully read during the construction of the signature. Calls to read additional information from the stream after the execution of this service will fail.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EL1OT" class="Table_Cell"><span class="varname">detachedSignature</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EX1OT" class="Table_Cell"><span class="bisdatatype">String</span> Whether you want the created PKCS#7 object to contain the data that is digitally signed. A detached signature does not include the data. Valid values are:</div><div id="wwID0EI2OT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">true</span> - Create a detached signature that does <span class="emphasis">not</span> include the digitally signed data.</div><div id="wwID0EE3OT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">false</span> - Create a signature that includes the digitally signed data.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EC4OT" class="Table_Cell"><span class="varname">signatureStream</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EO4OT" class="Table_Cell"><span class="bisdatatype">OutputStream</span> (optional) OutputStream to which you want the signature written. If you do not specify <span class="varname">signatureStream</span> and <span class="varname">data</span> is a byte[], this service returns the signature as a byte[] in <span class="varname">signatureBytes</span>. If you do not specify <span class="varname">signatureStream</span> and <span class="varname">data</span> is an InputStream, this service throws an exception.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EY5OT" class="Table_Cell"><span class="varname">dataStream</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EE6OT" class="Table_Cell"><span class="bisdatatype">OutputStream</span> (optional) OutputStream to which you want the service to write the message contained in <span class="varname">data</span>. If you do not specify a stream for <span class="varname">dataStream</span>, the service discards the contents of <span class="varname">data</span>. This service <span class="emphasis">only</span> writes the message contained in <span class="varname">data</span> to this stream if you request a detached signature.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOAPT" class="Table_Cell"><span class="varname">createDigest</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1APT" class="Table_Cell"><span class="bisdatatype">String</span> (optional) Whether you want the service to compute the message digest. Valid values are:</div><div id="wwID0ELBPT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">yes</span> - Compute a message digest.</div><div id="wwID0ECCPT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">no</span> - Default. Do not compute a message digest.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EADPT" class="Table_Cell"><span class="varname">digestAlgorithm</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMDPT" class="Table_Cell"><span class="bisdatatype">String</span> (optional) The algorithm to use to compute the digest if you specified <span class="codeph">yes</span> for <span class="varname">createDigest</span>. You can specify one of the following values for <span class="varname">digestAlgorithm</span>: <span class="codeph">SHA-1</span> or <span class="codeph">MD5</span>.<span class="codeph">SHA-1</span> is the default.</div></td></tr></table></div><div id="wwID0E5EPT" class="Section_Title">Output Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25%"><div id="wwID0EJGPT" class="Table_Cell"><span class="varname">bytesWritten</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 75%"><div id="wwID0EVGPT" class="Table_Cell"><span class="bisdatatype">String</span> Size (in bytes) of the signature.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGHPT" class="Table_Cell"><span class="varname">signatureBytes</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESHPT" class="Table_Cell"><span class="bisdatatype">Byte [ ]</span> (optional) If you did not specify <span class="varname">signatureStream</span> and <span class="varname">data</span> contained a byte[], <span class="varname">signatureBytes</span> contains the digital signature for the specified data.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESIPT" class="Table_Cell"><span class="varname">messageDigest</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5IPT" class="Table_Cell"><span class="bisdatatype">String</span> (optional) If <span class="varname">createDigest</span> is <span class="codeph">yes</span> and you specified a valid value for <span class="varname">digestAlgorithm</span>, <span class="varname">messageDigest</span> contains a Base64 encoded message digest of the specified data.</div></td></tr></table></div><div id="wwID0EJKPT" class="Section_Title">Usage Notes</div><div id="wwID0EUKPT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>This service provides the capability for multiple entities to sign the specified data.</div><div id="wwID0EHLPT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Each <span class="varname">signerInfo</span> block contained in the resulting signature contains the two authenticated attributes content type and a timestamp.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2024&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>