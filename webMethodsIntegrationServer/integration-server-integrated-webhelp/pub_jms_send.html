<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>pub.jms:send</title><link rel="Prev" href="pub_jms_reply.html" title="Previous" /><link rel="Next" href="pub_jms_sendAndWait.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/integration-server-integrated-webhelp/pub_jms_send.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN_002bMEyQCHr4n_002f52Lv2OuMh8Q" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/integration-server-integrated-webhelp/pub_jms_send.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.11 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-webhelp_intro_is_bis_guide.html#wwconnect_header">Built-In Services Reference Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/JMS%20folder.html#wwconnect_header">JMS Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/JMS%20folder2.html#wwconnect_header">Summary of Elements in This Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">pub.jms:send</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EZ6UCB" class="Heading_3">pub.jms:send</div><div id="wwID0EYAVCB" class="Body">WmPublic. Sends a JMS message to the JMS provider.</div><div id="wwID0EHBVCB" class="Section_Title">Input Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.5%"><div id="wwID0EGDVCB" class="Lines"><br /><span class="varname">connectionAlias Name</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.4%" colspan="3"><div id="wwID0EWDVCB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the JMS connection alias that you want to use to send the message.</div><div id="wwID0EDEVCB" class="Table_Cell">The JMS connection alias indicates how <span class="ph">Integration Server</span> connects to the JMS provider. A JMS connection alias can specify that <span class="ph">Integration Server</span> use a JNDI provider to look up administered objects (connection factories and destinations) and then use the connection factory to create a connection. Alternatively, a JMS connection alias can specify that <span class="ph">Integration Server</span> uses the native <span class="ph">webMethods</span> API to create the connection directly on the <span class="ph">webMethods Broker</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.5%"><div id="wwID0EDFVCB" class="Table_Cell"><span class="varname">destinationName</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.4%" colspan="3"><div id="wwID0EPFVCB" class="Table_Cell"><span class="bisdatatype">String</span> Name or lookup name of the Destination to which you want to send the message. Specify the lookup name of the Destination object when the JMS connection alias uses JNDI to retrieve administered objects. Specify the provider-specific name of the Destination when the JMS connection alias uses the native <span class="ph">webMethods</span> API to connect directly to the <span class="ph">webMethods Broker</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.5%"><div id="wwID0EKGVCB" class="Table_Cell"><span class="varname">destinationType</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.4%" colspan="3"><div id="wwID0EWGVCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. Type of destination to which you want to send the message. Specify one of the following:</div><div id="wwID0EJHVCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">QUEUE</span> to send the message to a particular queue. This is the default.</div><div id="wwID0EAIVCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">TOPIC</span> to send the message to a topic.</div><div id="wwID0EXIVCB" class="Note_1"><span class="Bold">Note:<br /></span>You need to specify <span class="varname">destinationType</span> only if you specified a <span class="varname">connectionAliasName</span> that uses the native <span class="ph">webMethods</span> API.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.5%"><div id="wwID0EDKVCB" class="Table_Cell"><span class="varname">JMSMessage</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.4%" colspan="3"><div id="wwID0EPKVCB" class="Table_Cell"><span class="bisdatatype">Document</span> A document representing the JMS message you want to send.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.5%"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 18.4%"><div id="wwID0EILVCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 22.4%"><div id="wwID0EOLVCB" class="internalheadrule">Description</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 38.5%"></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFMVCB" class="Table_Cell"><span class="varname">header</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0ERMVCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Optional. A document containing the header of the JMS message.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQNVCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWNVCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENOVCB" class="Table_Cell"><span class="varname">deliveryMode</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZOVCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. Specifies the message delivery mode for the message. Specify one of the following:</div><div id="wwID0EMPVCB" class="Definition_Term"><span class="codeph">PERSISTENT</span></div><div id="wwID0EWPVCB" class="Definition_Description">Default. Provide once-and-only-once delivery for the message. The message will not be lost if a JMS provider failure occurs.</div><div id="wwID0EAQVCB" class="Definition_Term"><span class="codeph">NON_PERSISTENT</span></div><div id="wwID0EKQVCB" class="Definition_Description">Provide at-most-once delivery for the message. The message has no guarantee of being saved if a JMS provider failure occurs.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDRVCB" class="Table_Cell"><span class="varname">priority</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPRVCB" class="Table_Cell"><span class="bisdatatype">java.lang.Integer</span>. Optional. Specifies the message priority. The JMS standard defines priority levels from 0 to 9, with 0 as the lowest priority and 9 as the highest.</div><div id="wwID0E1RVCB" class="Table_Cell">The default is 4.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERSVCB" class="Table_Cell"><span class="varname">replyTo</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4SVCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. Name or lookup name of the destination to which you want a reply message sent.</div><div id="wwID0EITVCB" class="Table_Cell">If the JMS connection alias used by the <span class="apiname">pub.jms:send</span> service connects to the JMS provider using JNDI, set <span class="varname">replyTo</span> to be the lookup name of the destination lookup object name.</div><div id="wwID0EYTVCB" class="Table_Cell">If the JMS connection alias used by the <span class="apiname">pub.jms:send</span> service connects to the JMS provider using a native Broker connection, set replyTo to the <span class="ph">Broker</span> queue name. That is, if the JMS connection alias specifies the <span class="ph">Broker</span> as the JMS provider and uses the native <span class="ph">webMethods</span> API to connect directly to the <span class="ph">webMethods Broker</span>, specify the name of the queue on the <span class="ph">Broker</span> that should receive replies to the message.</div><div id="wwID0EXUVCB" class="Note"><span class="Bold">Note:<br /></span>When using the native <span class="ph">webMethods</span> API to connect to the <span class="ph">Broker</span>, the <span class="varname">replyTo</span> destination must be a queue. Topics are not supported</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMWVCB" class="Table_Cell"><span class="varname">timeToLive</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYWVCB" class="Table_Cell"><span class="bisdatatype">java.lang.Long</span>. Optional. Length of time, in milliseconds, that the JMS provider retains the message. The default is 0, meaning that the message does not expire.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVXVCB" class="Table_Cell"><span class="varname">JMSType</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBYVCB" class="Table_Cell">Optional. Message type identifier for the message.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESYVCB" class="Table_Cell"><span class="varname">properties</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0E5YVCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Optional. A Document containing optional fields added to the message header. <span class="ph">Integration Server</span> adds the following properties to JMS messages it sends.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EB1VCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EH1VCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EE2VCB" class="Lines"><br /><span class="varname">JMS_WMCluster Nodes</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EU2VCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. Name of the <span class="ph">Broker</span> in a <span class="ph">Broker</span> cluster that you want to receive the message. The specified <span class="ph">Broker</span> effectively overrides the policy applied to the cluster connection factory used by the JMS connection alias. If the applied policy is multisend guaranteed or multisend best effort, the <span class="varname">JMS_WMClusterNodes</span> value should contain multiple <span class="ph">Broker</span>s.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ES4VCB" class="Important"><span class="Bold">Important:</span><span class="ph">Software&nbsp;AG</span> requires that you specify the value for <span class="varname">JMS_WMClusterNodes</span> by mapping the contents of the service output parameter <span class="varname">JMS_WMClusterNodes</span> produced by a previous invocation of <span class="apiname">pub.jms:send</span> or <span class="apiname">pub.jms:sendAndWait</span>.</div><div id="wwID0EA6VCB" class="Table_Cell">Use this field to override a <span class="ph">Broker</span> cluster policy when all of the following are true:</div><div id="wwID0EQ6VCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The <span class="ph">Broker Server</span> is the JMS provider.</div><div id="wwID0EHAWCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The JMS connection alias used to send the message (<span class="varname">connectionAliasName</span>) uses a connection from a cluster connection factory.</div><div id="wwID0E6AWCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The cluster connection factory permits the applied policy to be overridden.</div><div id="wwID0ETBWCB" class="Table_Cell">Leave this field blank if the above conditions are not met or if you want the JMS message to be distributed according to the policy applied to the cluster connection factory.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKCWCB" class="Table_Cell"><span class="varname">activation</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWCWCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. A unique identifier used to group together messages that will be received by a JMS trigger with a join. A JMS trigger can join together messages with the same <span class="varname">activation</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYDWCB" class="Table_Cell"><span class="varname">uuid</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEEWCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. A universally unique identifier for the message. <span class="ph">Integration Server</span> can use the <span class="varname">uuid</span> for exactly-once processing or for request/reply.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEFWCB" class="Table_Cell"><span class="varname">body</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EQFWCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Optional. A Document containing the JMS message body. <span class="ph">Integration Server</span> supports the following formats for the JMS message body:</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETGWCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZGWCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQHWCB" class="Table_Cell"><span class="varname">string</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3HWCB" class="Table_Cell"><span class="bisdatatype">String</span>. Optional. Message body in the form of a String.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZIWCB" class="Table_Cell"><span class="varname">bytes</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFJWCB" class="Table_Cell"><span class="bisdatatype">primitive type</span>. Optional Message body in the form of a one-dimensional byte array.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECKWCB" class="Table_Cell"><span class="varname">object</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOKWCB" class="Table_Cell"><span class="bisdatatype">Object</span>. Optional. Message body in the form of a Serializable Java object.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELLWCB" class="Table_Cell"><span class="varname">data</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXLWCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Optional. Message body in the form of a document (IData object).</div><div id="wwID0ECMWCB" class="Note"><span class="Bold">Note:<br /></span>This message format can only be used when sending a JMS message from one <span class="ph">Integration Server</span> to another. When the JMS message is sent, the sending <span class="ph">Integration Server</span> encodes the IData into a byte array. When the receiving <span class="ph">Integration Server</span> receives the message, it decodes the byte array into IData.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWNWCB" class="Table_Cell"><span class="varname">message</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECOWCB" class="Table_Cell"><span class="bisdatatype">Object</span>. Optional. Message body in the form of an actual javax.jms.Message.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETOWCB" class="Table_Cell"><span class="varname">useCSQ</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="3"><div id="wwID0E6OWCB" class="Table_Cell"><span class="bisdatatype">java.lang.Boolean</span>. Optional. Flag indicating whether <span class="ph">Integration Server</span> places sent messages in the client side queue if the JMS provider is not available at the time the messages are sent. Set to:</div><div id="wwID0EWPWCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">True</span> to write messages to the client side queue if the JMS provider is not available at the time this service executes. When the JMS provider becomes available, <span class="ph">Integration Server</span> sends messages from the client side queue to the JMS provider.</div><div id="wwID0ERQWCB" class="Note_1"><span class="Bold">Note:<br /></span>If you want to use the client side queue with the <span class="apiname">pub.jms:send</span> service, the JMS connection alias specified for <span class="varname">connectionAliasName</span> must be configured to have a client side queue. A JMS connection alias has a client side queue if the <span class="uicontrol">Maximum CSQ Size</span> property for the alias is set to a value other than 0 (zero).</div><div id="wwID0EWRWCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">False</span> to throw an ISRuntimeException if the JMS provider is not available at the time this service executes. This is the default.</div><div id="wwID0ENSWCB" class="Note_1"><span class="Bold">Note:<br /></span>If the specified <span class="varname">connectionAliasName</span> uses a cluster connection factory to which the multisend guaranteed policy is applied, set <span class="varname">useCSQ</span> to <span class="codeph">False</span>.</div></td></tr></table></div><div id="wwID0EAUWCB" class="Section_Title">Output Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.7%"><div id="wwID0EZVWCB" class="Table_Cell"><span class="varname">JMSMessage</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.2%" colspan="3"><div id="wwID0EFWWCB" class="Table_Cell"><span class="bisdatatype">Document.</span> A Document containing the message sent to the JMS provider.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.7%"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 14.9%"><div id="wwID0E5WWCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 64.2%" colspan="2"><div id="wwID0EEXWCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.7%"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 14.9%"><div id="wwID0EXXWCB" class="Table_Cell"><span class="varname">header</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 64.2%" colspan="2"><div id="wwID0EDYWCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Conditional. A Document containing the header fields for the sent message. The JMS provider populates these fields after it has successfully received the message from <span class="ph">Integration Server</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.7%"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 14.9%"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 23.4%"><div id="wwID0EGZWCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 40.7%"><div id="wwID0EMZWCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ED1WCB" class="Table_Cell"><span class="varname">JMSCorrelationID</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EP1WCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. A unique identifier used to link messages together.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EM2WCB" class="Table_Cell"><span class="varname">JMSDeliveryMode</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EY2WCB" class="Table_Cell"><span class="bisdatatype">java.lang.Integer</span> Delivery mode used to send the message.</div><div id="wwID0ED3WCB" class="Table_Cell"><span class="codeph">PERSISTENT</span> indicates that the JMS provider provides once-and-only-once delivery for the message. The message will not be lost if a JMS provider failure occurs.</div><div id="wwID0EN3WCB" class="Table_Cell"><span class="codeph">NON_PERSISTENT</span> indicates that the JMS provider provides at-most-once delivery for the message. The message has no guarantee of being saved if a JMS provider failure occurs.</div><div id="wwID0EX3WCB" class="Note"><span class="Bold">Note:<br /></span>When sending a message, this value is obtained from the <span class="varname">JMSMessage/header/deliveryMode</span> input parameter.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EE5WCB" class="Table_Cell"><span class="varname">JMSDestination</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQ5WCB" class="Table_Cell"><span class="bisdatatype">Object</span>. Conditional. Destination (queue or topic) to which the message was sent.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EN6WCB" class="Table_Cell"><span class="varname">JMSExpiration</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZ6WCB" class="Table_Cell"><span class="bisdatatype">java.lang.Long</span>Conditional. Time at which this message expires. If the message producer did not specify a time-to-live, the <span class="varname">JMSExpiration</span> value is zero, indicating the message does not expire.</div><div id="wwID0EJAXCB" class="Note"><span class="Bold">Note:<br /></span>When sending a message, this value is obtained from the <span class="varname">JMSMessage/header/timeToLive</span> input parameter.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWBXCB" class="Table_Cell"><span class="varname">JMSMessageID</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECCXCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. Unique identifier assigned to this message by the JMS provider.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6CXCB" class="Table_Cell"><span class="varname">JMSPriority</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELDXCB" class="Table_Cell"><span class="bisdatatype">java.lang.Integer</span>. Conditional. Defines the message priority. The JMS standard defines priority levels from 0 to 9, with 0 as the lowest priority and 9 as the highest.</div><div id="wwID0EWDXCB" class="Note"><span class="Bold">Note:<br /></span>When sending a message, this value is obtained from the <span class="varname">JMSMessage/header/priority</span> input parameter.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDFXCB" class="Table_Cell"><span class="varname">JMSReplyTo</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPFXCB" class="Table_Cell"><span class="bisdatatype">Object</span>. Conditional. Specifies the destination to which a response to this message should be sent.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMGXCB" class="Table_Cell"><span class="varname">JMSTimestamp</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYGXCB" class="Table_Cell"><span class="bisdatatype">java.lang.Long</span> Time at which the message was given to the JMS provider.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVHXCB" class="Table_Cell"><span class="varname">JMSType</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBIXCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. Message type identifier specified by the client when sending the message.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYIXCB" class="Table_Cell"><span class="varname">properties</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EEJXCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Conditional. A Document containing optional fields added to the message header. <span class="ph">Integration Server</span> adds the following properties to JMS messages it sends.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHKXCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENKXCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EELXCB" class="Table_Cell"><span class="varname">JMS_WMCluster Nodes</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETLXCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. Name of the <span class="ph">Broker</span> or <span class="ph">Broker</span>s in the <span class="ph">Broker</span> cluster that received the JMS message.</div><div id="wwID0EKMXCB" class="Table_Cell">The <span class="ph">Broker Server</span> acting as the JMS provider populates the <span class="varname">JMS_WMClusterNodes</span> parameter after it distributes the JMS message to the <span class="ph">Broker</span> or <span class="ph">Broker</span>s in the <span class="ph">Broker</span> cluster.</div><div id="wwID0EFNXCB" class="Table_Cell">The <span class="varname">JMS_WMClusterNodes</span> value will be null when:</div><div id="wwID0EWNXCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The JMS provider is not the <span class="ph">Broker Server</span>.</div><div id="wwID0ENOXCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The JMS connection alias used to send the JMS message does not use a cluster connection factory to obtain the connection to the <span class="ph">Broker</span> Server.</div><div id="wwID0EEPXCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The cluster connection factory does not permit a policy to be overridden.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKQXCB" class="Table_Cell"><span class="varname">activation</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWQXCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. A unique identifier assigned by the sender. A JMS trigger can join together messages with the same <span class="varname">activation</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYRXCB" class="Table_Cell"><span class="varname">uuid</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EESXCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. A universally unique identifier for the message assigned by the sender. <span class="ph">Integration Server</span> can use the <span class="varname">uuid</span> for exactly-once processing or for request/reply.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EETXCB" class="Table_Cell"><span class="varname">body</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EQTXCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Conditional. A Document containing the JMS message body. <span class="ph">Integration Server</span> supports the following formats for the JMS message body:</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETUXCB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZUXCB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQVXCB" class="Table_Cell"><span class="varname">string</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3VXCB" class="Table_Cell"><span class="bisdatatype">String</span>. Conditional. Message body in the form of a String.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZWXCB" class="Table_Cell"><span class="varname">bytes</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFXXCB" class="Table_Cell"><span class="bisdatatype">primitive type</span>. Conditional Message body in the form of a one-dimensional byte array.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECYXCB" class="Table_Cell"><span class="varname">object</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOYXCB" class="Table_Cell"><span class="bisdatatype">Object</span>. Conditional. Message body in the form of a Serializable Java object.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELZXCB" class="Table_Cell"><span class="varname">data</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXZXCB" class="Table_Cell"><span class="bisdatatype">Document</span>. Conditional. Message body in the form of a document (IData object).</div><div id="wwID0EC1XCB" class="Note"><span class="Bold">Note:<br /></span>This message format can only be used when sending a JMS message from one <span class="ph">Integration Server</span> to another. When the JMS message is sent, the sending <span class="ph">Integration Server</span> encodes the IData into a byte array. When the receiving <span class="ph">Integration Server</span> receives the message, it decodes the byte array into IData.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EW2XCB" class="Table_Cell"><span class="varname">message</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EC3XCB" class="Table_Cell"><span class="bisdatatype">Object</span>. Conditional. Message body in the form of an actual javax.jms.Message.</div></td></tr></table></div><div id="wwID0E13XCB" class="Section_Title">Usage Notes</div><div id="wwID0E63XCB" class="Body">The <span class="apiname">pub.jms:send</span> service creates a JMS message (javax.jms.Message) based on input provided to the service or takes an existing JMS message and sends it to the JMS provider.</div><div id="wwID0EK4XCB" class="Body">If a transaction has not yet been started, the transaction manager starts a transaction context for an implicit transaction when <span class="ph">Integration Server</span> executes a <span class="apiname">pub.jms:send</span> service that uses a transacted JMS connection alias. A JMS connection alias is considered to be transacted when it has a transaction type of XA TRANSACTION or LOCAL TRANSACTION.</div><div id="wwID0EZ4XCB" class="Body">You can add properties to a JMS message when building a flow service that invokes this service. In <span class="ph">Designer</span>, use the Pipeline view to add a new variable to <span class="varname">JMSMessage/properties</span> document.</div><div id="wwID0EI5XCB" class="Body">If the JMS connection alias specified for <span class="varname">connectionAliasName</span> uses the native <span class="ph">webMethods</span> API, you need to specify <span class="varname">destinationName</span> and <span class="varname">destinationType</span> to indicate where the <span class="ph">webMethods Broker</span> should send the message.</div><div id="wwID0EF6XCB" class="Body">If you specify a destination that does not exist in the JNDI namespace and the JMS connection alias specified for the <span class="varname">connectionAliasName</span> input parameter is configured to create administered objects on demand, <span class="ph">Integration Server</span> creates the destination when the service executes. The ability to create administered objects on demand applies only when  is the JMS provider. For more information about creating administered objects on demand, see <span class="ph">the section </span><span class="ph_002c_Citation">Creating Administered Objects</span><span class="ph"> in the </span><span class="ph_002c_ph"> </span><span class="ph_002c_ph_002c_Citation">webMethods Integration Server Administratorâ€™s Guide</span><span class="ph">.</span><span class="ph"> </span>
    <a href="../integration-server-integrated-webhelp/configure_jms_create_admin_objects.html#wwID0ESCIS"
   
     title="Creating Administered Objects"
    ><span class="ph_002c_heading-page">Creating Administered Objects</span></a><span class="ph">.</span></div><div id="wwID0EABYCB" class="Body"><span class="ph">Integration Server</span> creates the output parameter <span class="varname">JMSMessage</span> because some of the <span class="varname">header</span> fields in a JMS message are populated by the JMS provider after the message is sent. For example, the <span class="varname">header</span> field <span class="varname">JMSMessageID</span> is not in the JMS message sent by <span class="ph">Integration Server</span>, but <span class="varname">JMSMessageID</span> is in the <span class="varname">header</span> after the JMS provider receives the message.</div><div id="wwID0EMCYCB" class="Body">When sending a JMS message to , <span class="ph">Integration Server</span> sets the <span class="varname">JMSMessageID</span>.</div><div id="wwID0E5CYCB" class="Body">Each JMS connection alias can be configured to have its own client side queue. A JMS connection alias has a client side queue if the <span class="uicontrol">Maximum CSQ Size</span> property for the alias is set to a value other than 0 (zero). If you want to use the client side queue with the <span class="apiname">pub.jms:send</span> service, the JMS connection alias specified for <span class="varname">connectionAliasName</span> must be configured to have a client side queue. If the JMS connection alias is configured to use a client side queue and <span class="varname">useCSQ</span> is set to true, <span class="ph">Integration Server</span> places messages in the client side queue if the JMS provider is not available at the time the <span class="apiname">pub.jms:send</span> service executes. When the JMS provider becomes available, <span class="ph">Integration Server</span> sends messages from the client side queue to the JMS provider.</div><div id="wwID0EEEYCB" class="Body">The JMS provider populates the header fields in the <span class="varname">JMSMessage</span> output parameter after it successfully receives the sent message from <span class="ph">Integration Server</span>. If the JMS provider is not available at the time <span class="apiname">pub.jms:send</span>executes and <span class="varname">useCSQ</span> is set to true, the <span class="varname">header</span> fields in the output <span class="varname">JMSMessage</span> will not be populated. Instead these fields will be blank or be set to 0 (zero).</div><div id="wwID0EHFYCB" class="Body">If the client side queue is not in use (<span class="varname">useCSQ</span> is set to false and/or the JMS connection alias is not configured to use a client side queue, <span class="ph">Integration Server</span> throws an ISRuntimeException if the JMS provider is not available when this service executes. Make sure to code your service to handle this situation.</div><div id="wwID0EWFYCB" class="Body">A JMS connection alias can be configured so that <span class="ph">Integration Server</span> retries the <span class="apiname">pub.jms:send</span> service automatically when the service fails because of a transient error. For more information about configuring a JMS connection alias for automatic retry, see <span class="ph">the section </span><span class="ph_002c_Citation">Working with JMS Connection Aliases</span><span class="ph"> in the </span><span class="ph_002c_ph"> </span><span class="ph_002c_ph_002c_Citation">webMethods Integration Server Administratorâ€™s Guide</span><span class="ph">.</span><span class="ph"> </span>
    <a href="../integration-server-integrated-webhelp/configure_jms_working_with_jms_conn_alias.html#wwID0E3AAS"
   
     title="Working with JMS Connection Aliases"
    ><span class="ph_002c_heading-page">Working with JMS Connection Aliases</span></a><span class="ph">.</span></div><div id="wwID0EOHYCB" class="Body">When sending a message as part of a transaction the client side queue cannot be used. That is, the <span class="varname">useCSQ</span> field should be set to false. If <span class="varname">useCSQ</span> is set to true, <span class="ph">Integration Server</span> throws a JMSSubsystemException when the <span class="apiname">pub.jms:send</span> service executes. A JMS message is sent as part of a transaction if the JMS connection alias specified in <span class="varname">connectionAliasName</span>:</div><div id="wwID0ESIYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Uses a transaction type of LOCAL_TRANSACTION or XA_TRANSACTION.</div><div id="wwID0EFJYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Connects to the <span class="ph">webMethods Broker</span> using a cluster connection factory to which the multisend guaranteed policy is applied. <span class="ph">Integration Server</span> uses an XA transaction to perform a two-phase commit when sending JMS messages.</div><div id="wwID0EBKYCB" class="Body">If you want more control over the actual javax.jms.Message that <span class="ph">Integration Server</span> sends to the JMS provider, you can create a Java service that calls the com.wm.app.b2b.server.jms.producer.ProducerFacade class, which will create a javax.jms.Message. See:</div><div id="wwID0ERKYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createBytesMessage(String)</span></div><div id="wwID0EJLYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createMapMessage(String)</span></div><div id="wwID0EBMYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createObjectMessage(String)</span></div><div id="wwID0EZMYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createStreamMessage(String)</span></div><div id="wwID0ERNYCB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createTextMessage(String)</span></div><div id="wwID0EKOYCB" class="Body">The Java service calling this API must return an Object of type javax.jms.Message, which can then be mapped to the <span class="varname">JMSMessage/body/message</span> input parameter of the <span class="apiname">pub.jms:send</span> service.</div><div id="wwID0E1OYCB" class="Body">When creating the javax.jms.Message with the com.wm.app.b2b.server.jms.producer.ProducerFacade, you can use the javax.jms.Message setter methods to set the values of the message headers and properties directly. You can also set the value of message headers and properties using the input parameters of the <span class="apiname">pub.jms:send</span>service that you use to send the message. If you set the message headers and properties both ways, the values provided to the <span class="apiname">pub.jms:send</span>service take precedence.</div><div id="wwID0EKPYCB" class="Body"><span class="ph">Software&nbsp;AG</span> recommends that you use a <span class="apiname">pub.jms:send</span> service to create and send the JMS message. This may provide better performance on average. However, if you want to send a StreamMessage or a MapMessage, you need to use the appropriate com.wm.app.b2b.server.jms.producer.ProducerFacade API.</div><div id="wwID0EZPYCB" class="Body">To send a StreamMessage, create a Java service that calls <span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createStreamMessage(String).</span>The Java service calling this API must return an Object of type javax.jms.Message. Map the javax.jms.Message object to the <span class="varname">JMSMessage/body/message</span> input parameter of the <span class="apiname">pub.jms:send</span> service.</div><div id="wwID0EOQYCB" class="Body">To send a MapMessage, create a Java service that calls <span class="apiname">com.wm.app.b2b.server.jms.producer.ProducerFacade.createMapMessage(String).</span>The Java service calling this API must return an Object of type javax.jms.Message. Map the javax.jms.Message object to the <span class="varname">JMSMessage/body/message</span> input parameter of the <span class="apiname">pub.jms:send</span> service.</div><div id="wwID0EDRYCB" class="Body">If you use the input parameter <span class="varname">JMS_WMClusterNodes</span> to override the policy applied to the cluster connection factory, make sure to code the invoking service to handle any exception that the <span class="ph">Broker Server</span> throws when policy requirements are not or cannot be met. For more information about policy override scenarios that might result in an exception from <span class="ph">Broker Server</span>, see <span class="ph"> </span><span class="ph_002c_Citation">Using webMethods Integration Server to Build a Client for JMS</span>.</div><div id="wwID0EASYCB" class="Body">You can use the <span class="apiname">pub.jms:send</span> service to specify a destination for response messages when you do not need to wait for the response. The act of waiting for a response message comes with extra overhead for <span class="ph">Integration Server</span> which is unnecessary if you merely want to specify a JMSReplyTo destination but do not want the sending service to wait for a reply.</div><div id="wwID0EPSYCB" class="Body">When executing the <span class="apiname">pub.jms:send</span> service with a valid value for the <span class="varname">JMSMessage/header/replyTo</span> parameter, <span class="ph">Integration Server</span> creates the javax.jms.Destination and maps it to the JMSReplyTo field within the message header. <span class="ph">Integration Server</span> sends the message and returns immediately. The service does not wait for the response message. If <span class="varname">JMSMessage/header/replyTo</span> is empty, then <span class="ph">Integration Server</span> does not set the JMSReplyTo header for the JMS message. If <span class="varname">JMSMessage/header/replyTo</span> is invalid, then <span class="ph">Integration Server</span> throws a ServiceException.</div><div id="wwID0EZTYCB" class="Body">When the body of the message is supplied as an IData in the <span class="varname">JMSMessage/body/data</span> input parameter, the<span class="apiname"> pub.jms:send</span> service sends a message that is twice the size of the original IData. This occurs because <span class="ph">Integration Server</span> encodes the IData as a byte array using IDataBinCoder which encodes data as two-byte instead of single-byte when sending the message. This causes a dramatic increase in message size. When  is the JMS provider, this can result in the default 20 MB max buffer size being exceeded when the IData for the message body is just 10 MB. To resolve this issue, <span class="ph">Integration Server</span> includes a custom property to indicate that the message should be encoded as XML and decoded from XML instead of as a byte array. When creating a service that invokes the <span class="apiname">pub.jms:send</span> add the following custom property of type String and value to the <span class="varname">JMSMessage/properties</span> document in the pipeline: <span class="varname">$coderType</span> = <span class="codeph">idata_xml_bytes</span>. The presence of the custom property <span class="varname">$coderType</span> and the value <span class="codeph">idata_xml_bytes</span> instructs the sending <span class="ph">Integration Server</span> to encode the IData message as XML using IDataXMLCoder. The same property and value also instructs the receiving <span class="ph">Integration Server</span> to decode the JMS message as XML to IData.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2007-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>