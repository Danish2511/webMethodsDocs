<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring Service Auditing</title><link rel="Prev" href="esb.svc.audit.useCases.longRunning.html" title="Previous" /><link rel="Next" href="esb.svc.audit.logFields.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/integration-server-integrated-webhelp/esb.svc.audit.task.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pBhglM0juWOUOBzN0vl5mxA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/integration-server-integrated-webhelp/esb.svc.audit.task.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.11 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-webhelp_intro_sd_guide.html#wwconnect_header">Service Development Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/esb.svc.html#wwconnect_header">Building Services</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/esb.svc.audit.html#wwconnect_header">About Service Auditing</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Configuring Service Auditing</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0ED3PMB" class="Heading_3">Configuring Service Auditing</div><div id="wwID0E23PMB" class="Context">When you configure auditing for a service, you can determine if and when a service generates audit data and whether the service log includes a copy of the service’s input pipeline or select fields. Make sure that you select options that will provide the service log with the audit data you require.</div><div id="wwID0EC4PMB" class="Body">Keep the following points in mind when configuring service auditing:</div><div id="wwID0EN4PMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Before you select options for generating audit data, check with your <span class="ph">Integration Server Administrator</span> to determine what kind of service log exists. A service log can be a flat file or a database.</div><div id="wwID0EE5PMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The options you select in the <span class="uicontrol">Audit</span> category of the Properties view can be overwritten at run time by the level set for the Service Logger in <span class="ph">Integration Server</span>. View the Service Logger level on the <span class="uicontrol">Logs &gt; Logging configuration &gt; Service Logger &gt; View service logger details</span> page of <span class="ph">Integration Server Administrator</span>.</div><div id="wwID0EH6PMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The service generates audit data only when it satisfies the selected option under <span class="uicontrol">Enable auditing</span> and the selected option in the <span class="uicontrol">Log on</span> property. For example, if <span class="uicontrol">When top-level service only</span> is selected and the service is not the root service in the flow service, it will not generate audit data.</div><div id="wwID0EGAQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The pipeline data saved in the service log is the state of the pipeline just before the invocation of the service. It is not the state of the pipeline at the point the service generates audit data.</div><div id="wwID0EZAQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Including the pipeline in the service log is useful only when the service log is a database. <span class="ph">Integration Server</span> cannot save the pipeline to a flat file service log.</div><div id="wwID0EQBQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>When a service generates audit data, it also produces an audit event. If you want the audit event to cause another action to be performed, such as sending an e-mail notification, write an event handler. Then subscribe the event handler to audit events. For more information about events and event handlers, see 
    <a href="../integration-server-integrated-webhelp/esb.events.html#wwID0ESZUVB"
   
     title="Subscribing to Events"
    ><span class="heading-page">Subscribing to Events</span></a></div><div id="wwID0EMCQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If you want audit events generated by a service to pass a copy of the input pipeline to any subscribed event handlers, set <span class="uicontrol">Include pipeline</span> to <span class="uicontrol">On errors only</span> or <span class="uicontrol">Always</span>.</div><div id="wwID0ELDQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="ph">Integration Server</span> can also log select fields from the service signature. Logged fields can be viewed in the <span class="ph">webMethods Monitor</span>. For information about field logging, see 
    <a href="../integration-server-integrated-webhelp/esb.svc.audit.logFields.html#wwID0ETOQMB"
   
     title="Logging Input and Output Fields"
    ><span class="heading-page">Logging Input and Output Fields</span></a>.</div><div id="wwID0EPEQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>You can associate a custom value with an auditing context. The custom value can be used to search for service audit records in the <span class="ph">webMethods Monitor</span>. For information about creating and logging custom values for auditing contexts, see 
    <a href="../integration-server-integrated-webhelp/esb.svc.audit.customValueforAuditContext.html#wwID0EPNRMB"
   
     title="Assigning a Custom Value to an Auditing Context"
    ><span class="heading-page">Assigning a Custom Value to an Auditing Context</span></a>.</div><div id="wwID0EPFQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>To configure service auditing, you must have write access to the service and own the lock on the service or have it checked out.</div><div id="wwID0ECGQMB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>For detailed information about the Audit properties, see 
    <a href="../integration-server-integrated-webhelp/esb.properties.service.audit.html#wwID0ETFIYB"
   
     title="Audit Properties"
    ><span class="heading-page">Audit Properties</span></a>.</div><div id="wwID0E6GQMB" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To configure service auditing</div><div id="wwID0ELHQMB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command">In the Package Navigator, double-click the service for which you want to configure service auditing.</span></div><div id="wwID0EDIQMB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">In the </span><span class="Command_002c_uicontrol">Audit</span><span class="Command"> category of the Properties view, select an </span><span class="Command_002c_uicontrol">Enable auditing</span><span class="Command"> option to indicate when you want the service to generate audit data.</span></div><div id="wwID0EIJQMB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command">For </span><span class="Command_002c_uicontrol">Log on</span><span class="Command">, select an option to determine when the service generates audit data.</span></div><div id="wwID0EHKQMB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">For </span><span class="Command_002c_uicontrol">Include pipeline</span><span class="Command">, select an option to indicate when </span><span class="Command_002c_Command">Integration Server</span><span class="Command"> should include a copy of the input pipeline in the service log.</span></div><div id="wwID0EMLQMB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">File &gt; Save</span><span class="Command">.</span></div><div id="wwID0EVMQMB" class="title">Related Topics</div><div id="wwID0EZMQMB" class="heading-page">
    <a href="../integration-server-integrated-webhelp/esb.svc.audit.useCases.error.html#wwID0EBFPMB"
   
     title="Error Auditing"
    ><span class="Link_Text">Error Auditing</span></a></div><div id="wwID0EFNQMB" class="heading-page">
    <a href="../integration-server-integrated-webhelp/esb.svc.audit.useCases.service.html#wwID0ETMPMB"
   
     title="Service Auditing"
    ><span class="Link_Text">Service Auditing</span></a></div><div id="wwID0ERNQMB" class="heading-page">
    <a href="../integration-server-integrated-webhelp/esb.svc.audit.useCases.recovery.html#wwID0ESTPMB"
   
     title="Auditing for Recovery"
    ><span class="Link_Text">Auditing for Recovery</span></a></div><div id="wwID0E4NQMB" class="heading-page">
    <a href="../integration-server-integrated-webhelp/esb.svc.audit.useCases.longRunning.html#wwID0E3ZPMB"
   
     title="Auditing Long-Running Services"
    ><span class="Link_Text">Auditing Long-Running Services</span></a></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>