<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>pub.utils.messaging:migrateDocTypesTriggersToUM</title><link rel="Prev" href="pub_utils_messaging_getUMDependencies.html" title="Previous" /><link rel="Next" href="pu_utils_messaging_syncDocTypesToUM.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/integration-server-integrated-webhelp/pub_utils_messaging_migrateDocTypesTriggersToUM.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="prQOcp2ApzOPaYVWb9F7KMA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/integration-server-integrated-webhelp/pub_utils_messaging_migrateDocTypesTriggersToUM.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.11 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-webhelp_intro_is_bis_guide.html#wwconnect_header">Built-In Services Reference Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/Utils%20folder.html#wwconnect_header">Utils Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/Utils%20folder2.html#wwconnect_header">Summary of Elements in this Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">pub.utils.messaging:migrateDocTypesTriggersToUM</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0ERBTJB" class="Heading_3">pub.utils.messaging:migrateDocTypesTriggersToUM</div><div id="wwID0EQCTJB" class="Body">WmPublic. Changes one or more publishable document types to use a <span class="ph">Universal Messaging</span> server as the messaging provider.</div><div id="wwID0E1CTJB" class="Body">The <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service does one or more of the following depending on the provided input:</div><div id="wwID0EJDTJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Changes the messaging connection alias assigned to the publishable document type to one specified in the service.</div><div id="wwID0E1DTJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Sets the encoding type of the publishable document type to protocol buffers.</div><div id="wwID0ELETJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Synchronizes the updated publishable document types with the messaging provider.</div><div id="wwID0E3ETJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Converts the filters used by the <span class="ph">webMethods messaging trigger</span> that subscribe to the publishable document types. Specifically, the service migrates the filter expressions that can be evaluated by the <span class="ph">Universal Messaging</span> server from the <span class="uicontrol">Filter</span> field for a trigger condition to the <span class="uicontrol">Provider Filter (UM)</span> field. This may include some syntax changes.</div><div id="wwID0EEGTJB" class="Section_Title">Input Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.8%"><div id="wwID0ENHTJB" class="Table_Cell"><span class="varname">reportOnly</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.1%"><div id="wwID0EZHTJB" class="Table_Cell"><span class="bisdatatype">java.lang.Boolean</span> Optional. Indicates whether the service changes the document types and <span class="ph">webMethods messaging trigger</span>s and returns a summary of the changes or if the service returns only a summary without making any changes. Set to:</div><div id="wwID0EMITJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">true</span> to return a summary of the document types and <span class="ph">webMethods messaging trigger</span> that the service would successfully and unsuccessfully update, including the errors and warnings that would be encountered. The service does not modify any document types and triggers. This is the default.</div><div id="wwID0EFJTJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">false</span> to update the publishable document types and <span class="ph">webMethods messaging trigger</span>s, synchronize the publishable document types with the messaging provider, and return a summary of the changes.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFKTJB" class="Table_Cell"><span class="varname">backupPackages</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERKTJB" class="Table_Cell"><span class="bisdatatype">java.lang.Boolean</span> Optional. Indicates whether the service creates a package archive for each package affected by this service prior to making any updates to the publishable document types and <span class="ph">webMethods messaging trigger</span>. Set to:</div><div id="wwID0EELTJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">true</span> to create an archive for each package that contains a publishable document type or <span class="ph">webMethods messaging trigger</span> that will be updated by this service. The archive will be named <span class="varname">packageName</span>.zip_<span class="varname">timeStamp</span> and placed in the following directory: and will be located in the following directory: <span class="ph"> </span><span class="ph_002c_emphasis">Integration&nbsp;Server_directory</span><span class="ph"> </span> \instances\<span class="varname">instance_name</span>\replicate\archive. This is the default.</div><div id="wwID0EXMTJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">false</span> to skip creating an archive of each affected package before making updates.</div><div id="wwID0ENNTJB" class="Important"><span class="Bold">Important:</span><span class="ph">Software&nbsp;AG</span> recommends that you set <span class="varname">backupPackages</span> to true when <span class="varname">reportOnly</span> is set to false if you have not taken other measures to back up the packages containing the publishable document types and triggers to be migrated prior to executing the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service. After the service executes successfully, restoring from a backup file is the only way to revert a change made by the service.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3OTJB" class="Table_Cell"><span class="varname">packageNames</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIPTJB" class="Table_Cell"><span class="bisdatatype">String List</span> Optional. Name of the packages containing the publishable document types that you want to migrate. <span class="ph">Integration Server</span> also migrates any <span class="ph">webMethods messaging trigger</span>s in packages that reference publishable document types contained in the specified packages.</div><div id="wwID0E2PTJB" class="Table_Cell">The <span class="varname">packageNames</span> and <span class="varname">documentTypesNames</span> input parameters are mutually exclusive. If you specify a value for both parameters, the service fails with an exception. If you do not specify a value for either, the service updates publishable document types and <span class="ph">webMethods messaging trigger</span>s in all packages that do not start with the letters “wm” in any case combination.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2QTJB" class="Lines"><br /><span class="varname">documentType</span><br /><span class="varname"> Names</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQRTJB" class="Table_Cell"><span class="bisdatatype">String List</span> Optional. Fully qualified names of the publishable document types that you want to update.</div><div id="wwID0E2RTJB" class="Table_Cell">The <span class="varname">packageNames</span> and <span class="varname">documentTypeNames</span> input parameters are mutually exclusive. If you specify a value for both parameters, the service fails with an exception. If you do not specify a value for either, the service updates publishable document types and <span class="ph">webMethods messaging trigger</span>s in all packages that do not start with the letters “wm” in any case combination.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2STJB" class="Lines"><br /><span class="varname">newConnection</span><br /><span class="varname"> Alias</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQTTJB" class="Table_Cell"><span class="bisdatatype">String</span> Optional. Name of the <span class="ph">Universal Messaging</span> (UM) connection alias to assign to the publishable document types. Any <span class="ph">webMethods messaging trigger</span> that subscribe to updated publishable document types will use this alias to receive published documents.</div><div id="wwID0EDUTJB" class="Table_Cell">You must specify a <span class="varname">newConnectionAlias</span> to update any publishable document types that currently specify the <span class="ph">Broker</span> connection alias or are publishable locally only. If you do not specify a <span class="varname">newConnectionAlias</span>, the service skips these publishable document types.</div><div id="wwID0EXUTJB" class="Table_Cell">If the default connection alias is the <span class="ph">Broker</span> connection alias and you do not specify a <span class="varname">newConnectionAlias</span>, the service skips any publishable document types that use the default connection alias. However, if you change the default connection alias to be <span class="ph">Universal Messaging</span> connection alias and then execute the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service, the service migrates any publishable document types that use the default messaging connection alias as well as any triggers that subscribe to those publishable document types.</div><div id="wwID0EPVTJB" class="Table_Cell">If a publishable document types already specifies a <span class="ph">Universal Messaging</span> connection alias, you do not need to specify a <span class="varname">newConnectionAlias</span>. However, you can use the service to change the <span class="ph">Universal Messaging</span> connection alias used by one or more publishable document types.</div></td></tr></table></div><div id="wwID0ENWTJB" class="Section_Title">Output Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.8%"><div id="wwID0E4XTJB" class="Table_Cell"><span class="varname">affectedPackages</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.1%" colspan="2"><div id="wwID0EJYTJB" class="Table_Cell"><span class="bisdatatype">Document</span> Conditional. An IData containing key=value pairs that identify the packages impacted by the migration and the name of the archive created for the package. The service returns an archive name only if <span class="varname">reportOnly</span> is set to false and <span class="varname">backupPackages</span> is set to true. The archive will be named <span class="varname">packageName</span>.zip_<span class="varname">timeStamp</span> and will be located in the following directory: <span class="ph"> </span><span class="ph_002c_emphasis">Integration&nbsp;Server_directory</span><span class="ph"> </span> \instances\<span class="varname">instance_name</span>\replicate\archive.</div><div id="wwID0E1ZTJB" class="Table_Cell">The service returns <span class="varname">affectedPackages</span> only if the service finds at least one publishable document type or <span class="ph">webMethods messaging trigger</span> to update.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.8%"><div id="wwID0EP1TJB" class="Table_Cell"><span class="varname">failedPackages</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.1%" colspan="2"><div id="wwID0E21TJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the packages that could not be archived. If <span class="ph">Integration Server</span> cannot create a package archive for any of the affected packages, the service ends with an error and nothing is migrated.</div><div id="wwID0EM2TJB" class="Table_Cell">The service attempts to archive a package only when <span class="varname">backupPackages</span> is set to true.</div><div id="wwID0EX2TJB" class="Table_Cell">The service returns the <span class="varname">failedPackages</span> parameter only if one of the following occurs:</div><div id="wwID0EG3TJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The <span class="varname">backupPackages</span> input parameter is set to true and an error prevented the service from archiving at least one package.</div><div id="wwID0E33TJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>A package listed in the <span class="varname">packageNames</span> input parameter did not contain any publishable document types or <span class="ph">webMethods messaging trigger</span>s to update.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.8%"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 15.9%"><div id="wwID0ED5TJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 63.1%"><div id="wwID0EJ5TJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E15TJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EG6TJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package that the service could not archive because of an error.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E46TJB" class="Table_Cell"><span class="varname">errors</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJAUJB" class="Table_Cell"><span class="bisdatatype">String</span> Text of the error message that caused package archiving to fail.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EABUJB" class="Lines"><br /><span class="varname">updatedDocument</span><br /><span class="varname"> Types</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EVBUJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the publishable document types updated by the service.</div><div id="wwID0ECCUJB" class="Table_Cell">The service returns the <span class="varname">updatedDocumentTypes</span> parameter only if the service updated one or more publishable document types.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZCUJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6CUJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQDUJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3DUJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the updated publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETEUJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6EUJB" class="Table_Cell"><span class="bisdatatype">String</span> Fully qualified name of the updated publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWFUJB" class="Lines"><br /><span class="varname">skippedDocument</span><br /><span class="varname"> Types</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0ELGUJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the publishable document types that were not updated because there were no changes to make. Some reasons the service might skip a publishable document type include, but are not limited to:</div><div id="wwID0E3GUJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The publishable document type already uses the messaging connection alias specified in <span class="varname">newConnectionAlias</span> and the encoding type for the publishable document type is already set to protocol buffers.</div><div id="wwID0ESHUJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The publishable document type uses a <span class="ph">Broker</span> connection alias and a <span class="ph">Universal Messaging</span> connection alias was not specified in <span class="varname">newConnectionAlias</span>.</div><div id="wwID0EQIUJB" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Values were not specified for either the <span class="varname">packageNames</span> or the <span class="varname">documentTypeNames</span> input parameters and <span class="ph">Integration Server</span> found publishable document types in packages whose names started with the letters “wm” in any case combination</div><div id="wwID0EQJUJB" class="Table_Cell">The service returns the <span class="varname">skippedDocumentTypes</span> parameter only if the service skipped updating one or more publishable document types.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHKUJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENKUJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5KUJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKLUJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the skipped publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBMUJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENMUJB" class="Table_Cell"><span class="bisdatatype">String</span> Fully qualified name of the skipped publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EENUJB" class="Table_Cell"><span class="varname">reason</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQNUJB" class="Table_Cell"><span class="bisdatatype">String</span> Message indicating why the service did not update the publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHOUJB" class="Lines"><br /><span class="varname">failedDocument</span><br /><span class="varname"> Types</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0E3OUJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the publishable document types that the service could not update because of an error.</div><div id="wwID0EJPUJB" class="Table_Cell">The service returns the <span class="varname">failedDocumentTypes</span> parameter only if there were one or more publishable document types that the service could not update because of an error.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAQUJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGQUJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXQUJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDRUJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the publishable document type that the service could not update because of an error.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1RUJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGSUJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the publishable document type that the service could not update because of an error.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4SUJB" class="Table_Cell"><span class="varname">errors</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJTUJB" class="Table_Cell"><span class="bisdatatype">String</span> Text of the error message that prevented the service from updating the publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAUUJB" class="Lines"><br /><span class="varname">providerSync</span><br /><span class="varname"> Results</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EVUUJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. Results of synchronizing the updated publishable document types with the messaging provider.</div><div id="wwID0ECVUJB" class="Table_Cell">The service only produces this output parameter when <span class="varname">reportOnly</span> is set to false and the service updated at least one publishable document type.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZVUJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6VUJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQWUJB" class="Table_Cell"><span class="varname">successfuPDTs</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3WUJB" class="Table_Cell"><span class="bisdatatype">String List</span> Fully qualified names of the publishable document types that the service synchronized successfully with the messaging provider.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZXUJB" class="Lines"><br /><span class="varname">unsuccessful</span><br /><span class="varname"> PDTs</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOYUJB" class="Table_Cell"><span class="bisdatatype">String List</span> Fully qualified names of the publishable document types that the service did not synchronize successfully with the messaging provider.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFZUJB" class="Table_Cell"><span class="varname">errors</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERZUJB" class="Table_Cell"><span class="bisdatatype">Document List</span> List of any errors that occurred during document type synchronization.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI1UJB" class="Table_Cell"><span class="varname">warnings</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EU1UJB" class="Table_Cell"><span class="bisdatatype">Document List</span> List of any warnings that occurred during document type synchronization</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EF2UJB" class="Table_Cell"><span class="varname">updatedTriggers</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0ER2UJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the <span class="ph">webMethods messaging trigger</span>s updated without warnings by the service. When warnings do not occur when updating the trigger, it indicates that <span class="ph">Integration Server</span> migrated the entire contents of the <span class="uicontrol">Filter</span> field to the <span class="uicontrol">Provider Filter (UM)</span> field for all the conditions in the trigger.</div><div id="wwID0EO3UJB" class="Table_Cell">The service returns the <span class="varname">updatedTriggers</span> parameter only if the service updated at least one trigger without warnings.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EF4UJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EL4UJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E34UJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI5UJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the updated <span class="ph">webMethods messaging trigger</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ED6UJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EP6UJB" class="Table_Cell"><span class="bisdatatype">String</span> Fully qualified name of the updated <span class="ph">webMethods messaging trigger</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKAVJB" class="Table_Cell"><span class="varname">reason</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWAVJB" class="Table_Cell"><span class="bisdatatype">String</span> Identifies any filters that were converted. For a trigger that was updated without warnings, <span class="varname">reason</span> displays the contents of the <span class="uicontrol">Filter</span> field prior to migration of the trigger filter, the contents of the <span class="uicontrol">Provider Filter (UM)</span> field after migration of the trigger filter, and an indication that the filter was converted successfully.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1BVJB" class="Lines"><br /><span class="varname">updatedTriggers</span><br /><span class="varname"> WithWarning</span><br /></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EPCVJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the <span class="ph">webMethods messaging trigger</span>s updated but with warnings. Warnings indicate that the service could not migrate the entire contents of the <span class="uicontrol">Filter</span> field to the <span class="uicontrol">Provider Filter (UM)</span> field for all the conditions in the trigger. <span class="ph">Integration Server</span> might have migrated some expressions in the trigger conditions, but not the entire filter.</div><div id="wwID0EMDVJB" class="Table_Cell">When a trigger is updated with warnings, the service keeps the original filter in the <span class="uicontrol">Filter</span> field and places the filter expressions that were migrated in the <span class="uicontrol">Provider Filter (UM)</span> field</div><div id="wwID0E1DVJB" class="Table_Cell">The service returns the <span class="varname">updatedTriggersWithWarning</span> parameter only if the service updated at least one trigger for which a warning occurred.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EREVJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXEVJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIFVJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUFVJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the updated <span class="ph">webMethods messaging trigger</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPGVJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2GVJB" class="Table_Cell"><span class="bisdatatype">String</span> Fully qualified name of the updated <span class="ph">webMethods messaging trigger</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWHVJB" class="Table_Cell"><span class="varname">reason</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECIVJB" class="Table_Cell"><span class="bisdatatype">String</span> Identifies any filters that were converted. For a trigger that was updated with warnings, <span class="varname">reason</span> displays the expressions in the <span class="uicontrol">Filter</span> field that were migrated, the converted expression in the <span class="uicontrol">Provider Filter (UM)</span> , and an indication that the filter was converted successfully.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGJVJB" class="Table_Cell"><span class="varname">warning</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESJVJB" class="Table_Cell"><span class="bisdatatype">String</span> Warning message indicating why the complete original filter in the <span class="uicontrol">Filter</span> field could not be migrated to the <span class="uicontrol">Provider Filter (UM)</span> field.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELKVJB" class="Table_Cell"><span class="varname">skippedTriggers</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EXKVJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the <span class="ph">webMethods messaging trigger</span>s that the service did not update because no changes were needed.</div><div id="wwID0EILVJB" class="Table_Cell">The service returns the <span class="varname">skippedTriggers</span> parameter only if the service skipped updating at least one trigger.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6LVJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFMVJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWMVJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECNVJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the skipped <span class="ph">webMethods messaging trigger</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4NVJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJOVJB" class="Table_Cell"><span class="bisdatatype">String</span> Fully qualified name of the skipped <span class="ph">webMethods messaging trigger</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEPVJB" class="Table_Cell"><span class="varname">reason</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQPVJB" class="Table_Cell"><span class="bisdatatype">String</span> Message indicating why the service did not make any updates for the <span class="ph">webMethods messaging trigger</span>. For example, if the trigger conditions did not contain any filters, the reason will be “Trigger did not contain any filters.”</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFQVJB" class="Table_Cell"><span class="varname">failedTriggers</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0ERQVJB" class="Table_Cell"><span class="bisdatatype">Document List</span> Conditional. List of the <span class="ph">webMethods messaging trigger</span>s that the service could not update because of an error.</div><div id="wwID0ECRVJB" class="Table_Cell">The service returns the <span class="varname">failedTriggers</span> parameter only if at least one trigger failed migration.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZRVJB" class="internalheadrule">Key</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6RVJB" class="internalheadrule">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQSVJB" class="Table_Cell"><span class="varname">package</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3SVJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the package containing the <span class="ph">webMethods messaging trigger</span> that the service could not update because of an error.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXTVJB" class="Table_Cell"><span class="varname">name</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDUVJB" class="Table_Cell"><span class="bisdatatype">String</span> Name of the <span class="ph">webMethods messaging trigger</span> that the service could not update because of an error.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5UVJB" class="Table_Cell"><span class="varname">errors</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKVVJB" class="Table_Cell"><span class="bisdatatype">String</span> Text of the error message that prevented the service from updating the <span class="ph">webMethods messaging trigger</span></div></td></tr></table></div><div id="wwID0EGWVJB" class="Section_Title">Usage Notes</div><div id="wwID0ELWVJB" class="Body">To execute the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span>, <span class="ph">Integration Server</span> must be connected to a <span class="ph">Broker</span>. <span class="ph">Integration Server</span> must have a <span class="ph">Broker</span> connection alias that configures a connection to the <span class="ph">Broker</span> that contains the provider definitions for the publishable document types and the trigger subscriptions that you want to updated. The <span class="ph">Broker</span> connection alias must be enabled at the time the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> executes.</div><div id="wwID0ETXVJB" class="Body">Make sure the publishable document types that use a <span class="ph">Broker</span> connection alias are synchronized with the associated <span class="ph">Broker</span> document types prior to executing the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service. You can synchronize publishable document types using <span class="ph">Designer</span> or by executing the <span class="apiname">pub.publish:syncToProvider</span> service.</div><div id="wwID0EPYVJB" class="Body">When using <span class="ph">Universal Messaging</span> as the messaging provider, <span class="ph">webMethods messaging trigger</span> require more server threads and system threads than needed when using <span class="ph">Broker</span> as the messaging provider. Before migrating publishable document types and <span class="ph">webMethods messaging trigger</span>s to work with <span class="ph">Universal Messaging</span>, <span class="ph">Software&nbsp;AG</span> recommends increasing the size of your server thread pool by at least two additional threads per trigger that will be migrated. For example, if you intend to migrate 100 triggers, increase the server thread pool by 200 threads.</div><div id="wwID0ENZVJB" class="Body">As part of updating publishable document types and <span class="ph">webMethods messaging trigger</span>s to work with <span class="ph">Universal Messaging</span>, first run the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service in report only mode, that is with <span class="varname">reportOnly</span> set to true. Use the service output to find potential problems in the migration, such as identifying publishable document types and triggers that will not be migrated successfully. When you are confident that all the publishable document types and <span class="ph">webMethods messaging trigger</span>s that you want to migrate will do so successfully, run the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service is with <span class="varname">reportOnly</span> set to false.</div><div id="wwID0ET1VJB" class="Body">Prior to executing the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service, if you have not taken other measures to back up the packages containing the publishable document types and triggers to be migrated, <span class="ph">Software&nbsp;AG</span> recommends that you set <span class="varname">backupPackages</span> to true when <span class="varname">reportOnly</span> is set to false. After the service executes successfully, restoring from a backup file is the only way to revert a change made by the service.</div><div id="wwID0EM2VJB" class="Body">Publishable document types that use a <span class="ph">Universal Messaging</span> connection alias cannot be published locally. Do not migrate a publishable document type that is used in local publishing.</div><div id="wwID0EW2VJB" class="Body">When determining which publishable document types to migrate, make sure that you migrate all of the document types subscribed to by a group of <span class="ph">webMethods messaging trigger</span>s at one time. This ensures that the <span class="ph">webMethods messaging trigger</span>s will subscribe to document types that use the same messaging connection alias. <span class="ph">Integration Server</span> considers a trigger to be invalid if it subscribes to publishable document types that use different messaging connection aliases. The <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service will save a <span class="ph">webMethods messaging trigger</span> that uses mixed connection aliases but will disable the trigger. Additionally, the service will not attempt to convert any of the filters in conditions of the disabled trigger. To resolve this issue, you can modify the publishable document types used by the trigger so that the publishable document types all use the same messaging connection alias. You can then re-execute the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service to migrate the encoding type of the publishable document types as well as the trigger filters. Alternatively, you can restore the publishable document types that the trigger subscribes to by replacing the migrated packages with the archive packages created by the service when <span class="varname">backupPackages</span> is set to true. For example, suppose that trigger <span class="apiname">triggerAB</span> subscribes to <span class="apiname">documentA</span> and <span class="apiname">documentB</span> both of which use a <span class="ph">Broker</span> connection alias. In <span class="varname">documentTypeNames</span>, you specify only <span class="apiname">documentA</span>. When the service executes it migrates <span class="apiname">documentA</span>. However, the service does not migrate <span class="apiname">triggerAB</span> because the trigger subscribes to publishable document types that use different messaging connection aliases. This configuration is invalid. The service saves <span class="apiname">triggerAB</span> in a disabled state.</div><div id="wwID0EH5VJB" class="Body">If you do not specify a <span class="varname">newConnectionAlias</span>, the publishable document type already uses a <span class="ph">Universal Messaging</span> connection alias, and the publishable document type has an encoding type of IData, the <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> service changes the encoding type of the publishable document type to protocol buffers. The service then updates the filters for any <span class="ph">webMethods messaging trigger</span>s that subscribe to the document types so that the filters are compatible with protocol buffers.</div><div id="wwID0E65VJB" class="Body">If publishable document type use the default messaging connection alias and the default messaging connection alias is the <span class="ph">Broker</span> connection alias, you can migrate your document types and triggers to work with <span class="ph">Universal Messaging</span> and use the protocol buffer encoding type by first switching the default connection alias to a <span class="ph">Universal Messaging</span> connection alias and then running the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service with <span class="varname">reportOnly</span> set to false. Use <span class="ph">Integration Server Administrator</span> to change the default messaging connection alias. Note that a publishable document type uses the default messaging connection alias if the <span class="uicontrol">Connection alias name</span> property for the document type is set to DEFAULT.</div><div id="wwID0EDAWJB" class="Body">The <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service automatically attempts to migrate the <span class="ph">webMethods messaging trigger</span>s that subscribe to the publishable document types updated by the service. Migrating a trigger consists of migrating a filter. To migrate a filter, the service does the following:</div><div id="wwID0EWAWJB" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>The <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service examines the expressions in the <span class="uicontrol">Filter</span> field in a trigger condition and determines which expressions can become a provider filter on <span class="ph">Universal Messaging</span>. Some filter expressions that are valid as local filters on <span class="ph">Integration Server</span> or valid as filters on <span class="ph">Broker</span> contain syntax that is not supported by protocol buffers or <span class="ph">Universal Messaging</span></div><div id="wwID0EACWJB" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>The <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span>service migrates expressions that are valid filters for protocol buffers to the <span class="uicontrol">Provider Filter (UM)</span> field.</div><div id="wwID0E1CWJB" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>The service then does one of the flowing:</div><div id="wwID0EODWJB" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service can migrate all the expressions in the <span class="uicontrol">Filter</span> field to the <span class="uicontrol">Provider Filter (UM)</span> field, the service deletes the contents of the <span class="uicontrol">Filter</span> field. The service lists the trigger in the <span class="varname">updatedTriggers/name</span> output parameter. The service lists the successfully migrated filter expressions in <span class="varname">updatedTriggers/reason</span> output parameter.</div><div id="wwID0E1EWJB" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service can migrate only some of the expressions in the <span class="uicontrol">Filter</span> field, the service migrates the filter expressions that it can in the <span class="uicontrol">Provider Filter (UM)</span> field. The service leaves the original filter in the <span class="uicontrol">Filter</span> field. The service lists the trigger in the <span class="varname">updatedTriggersWithWarning/name</span> output parameter. The service lists the successfully migrated filter expressions in <span class="varname">updatedTriggersWithWarning/reason</span> output parameter and lists the filter expressions that it could not migrate in the <span class="varname">updatedTriggersWithWarning/warning</span> output parameter.</div><div id="wwID0ELGWJB" class="List_2_Continued">For a <span class="ph">webMethods messaging trigger</span> that receives messages from <span class="ph">Universal Messaging</span>, the contents of the <span class="uicontrol">Filter</span> field are used as a local filter. <span class="ph">Integration Server</span> applies the local filter after it receives the message from <span class="ph">Universal Messaging</span></div><div id="wwID0EGHWJB" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service cannot migrate any of the expressions in the <span class="uicontrol">Filter</span> field, the service leaves the original filter in the <span class="uicontrol">Filter</span> field. The service lists the trigger in the <span class="varname">updatedTriggersWithWarning/name</span> output parameter. The service lists the filter expressions that it could not migrate in the <span class="varname">updatedTriggersWithWarning/warning</span> output parameter.</div><div id="wwID0ERIWJB" class="Body">The <span class="apiname">pub.utils.messaging.migrateDocTypesTriggersToUM</span> updates publishable document types contained in packages that begin with “Wm” when the document type is specified in <span class="varname">documentTypeNames</span> or the package is specified in <span class="varname">packageNames</span> only.</div><div id="wwID0EGJWJB" class="Body">The <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service synchronizes updated publishable document types with the provider definition on the messaging provider. Be sure to review the contents of <span class="varname">providerSyncResults</span>/<span class="varname">errors</span> and <span class="varname">providerSyncResults</span>/<span class="varname">warnings</span> for errors and warnings that <span class="ph">Integration Server</span> generated during synchronization</div><div id="wwID0EJKWJB" class="Body">If <span class="ph">Integration Server</span> did not successfully synchronize an updated publishable document type use the returned errors in <span class="varname">providerSyncResults</span>/<span class="varname">errors</span> to determine why <span class="ph">Integration Server</span> could not synchronize the publishable document type. Then, fix the cause of the error and synchronize the publishable document type with the messaging provider. You can synchronize documents using <span class="ph">Designer</span> or by executing the <span class="apiname">pub.publish:syncToProvider</span> service.</div><div id="wwID0EKLWJB" class="Body">The <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service will not modify any publishable document types or <span class="ph">webMethods messaging trigger</span>s that are locked for edit by another user or checked out at the time the service executes.</div><div id="wwID0EZLWJB" class="Body">To use the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service to update a publishable document type and <span class="ph">webMethods messaging trigger</span>, the user or client invoking the service must have Write access to the publishable document type and <span class="ph">webMethods messaging trigger</span>s.</div><div id="wwID0EMMWJB" class="Body">Use the <span class="ph"> </span><span class="ph_002c_Citation">webMethods Error Message Reference</span> to find out more information about the error and warning messages returned by <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service.</div><div id="wwID0EBNWJB" class="Body">To generate additional logging information in the Server log when the <span class="apiname">pub.utils.messaging:migrateDocTypesTriggersToUM</span> service executes, set the logging level for the server log facilities <span class="uicontrol">0153 Dispatcher (Universal Messaging)</span> and <span class="uicontrol">0154 Protocol Buffer Encoding (Universal Messaging)</span> to Debug or Trace. Increased logging can help you to locate problems that occur during service execution.</div><div id="wwID0EUNWJB" class="Body"><span class="ph">webMethods Broker</span> is deprecated.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>