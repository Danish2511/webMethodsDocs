<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Frequently Asked Questions about Enterprise Gateway</title><link rel="Prev" href="to-enterprise_gateway_38.html" title="Previous" /><link rel="Next" href="to-configure_oauth.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/integration-server-integrated-webhelp/to-enterprise_gateway_39.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pNHyH_002ffMWxwF_002fG_002bNxX6eGNg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/integration-server-integrated-webhelp/to-enterprise_gateway_39.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.11 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-webhelp_intro_is_admin_guide.html#wwconnect_header">Integration Server Administrator's Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-enterprise_gateway.html#wwconnect_header">Configuring webMethods Enterprise Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Frequently Asked Questions about Enterprise Gateway</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E4DHV" class="Heading_2">Frequently Asked Questions about <span class="ph">Enterprise Gateway</span></div><div id="wwID0ESEHV" class="Body">This section provides answers to some frequently asked questions about <span class="ph">Enterprise Gateway</span>.</div><div id="wwID0EEFHV" class="Definition_Term">If I define the <span class="ph">Enterprise Gateway</span> external port to use HTTPS, do I need to define the <span class="ph">Enterprise Gateway</span> registration port to be an HTTPS port too?</div><div id="wwID0ESFHV" class="Definition_Description">No. The external port and the registration port operate independently.</div><div id="wwID0E3FHV" class="Definition_Term">How many connections should I register between <span class="ph">Enterprise Gateway Server</span> and the Internal Server?</div><div id="wwID0EGGHV" class="Definition_Description">That depends on the expected load and the size of the transactions. A connection between <span class="ph">Enterprise Gateway Server</span> and the Internal Server is available except when a request is being written to the Internal Server or a response is being returned from the Internal Server. In other words, <span class="ph">Enterprise Gateway</span> connection utilization is I/O bound. Therefore, if you expect large, simultaneous transactions, increase the number of registered connections accordingly.</div><div id="wwID0ETGHV" class="Definition_Description">If the Internal Server runs out of registration connections, it will issue the following error message:</div><div id="wwID0EYGHV" class="Preformatted_1"><br /><span class="varname">number</span> requests waiting for a registration connection.</div><div id="wwID0EEHHV" class="Definition_Description">Each connection consumes a thread, either from the Internal Server’s common thread pool or from the internal listener’s private thread pool, if one is defined. The consumed thread can only be used to process requests from <span class="ph">Enterprise Gateway Server</span>.</div><div id="wwID0EOHHV" class="Definition_Description">If you have defined a private thread pool for the internal registration listener, the number of connections you can specify in the <span class="uicontrol">Max Connections</span> box is limited to the maximum number of threads allowed in the private thread pool for this listener.</div><div id="wwID0EYHHV" class="Definition_Description">If you have multiple internal registration listeners, each with its own private thread pool, the same rule applies for each internal registration listener.</div><div id="wwID0E4HHV" class="Definition_Description">If you have not defined a private thread pool for an internal registration listener, a reasonable limit for the <span class="uicontrol">Max Connections</span> box is 75% of the number of server threads specified in <span class="uicontrol">Server Thread Pool Max Threads</span> box on the Settings &gt; Resources page. If you have multiple internal registration listeners and none of them have private thread pools, the <span class="emphasis">sum</span> of all connections specified in the <span class="uicontrol">Max Connections</span> boxes for these listeners should not exceed 75% of the number of server threads specified in <span class="uicontrol">Server Thread Pool Max Threads</span>.</div><div id="wwID0EYIHV" class="Definition_Description">A thread will remain open unless it is closed by a firewall, a network glitch, or an exception.</div><div id="wwID0EDJHV" class="Definition_Term">Is there persistence with <span class="ph">Enterprise Gateway Server</span>?</div><div id="wwID0ENJHV" class="Definition_Description">No. <span class="ph">Enterprise Gateway Server</span> is just a network hop for the incoming request.</div><div id="wwID0E3JHV" class="Definition_Term">I want to authenticate the SSL credentials of external clients. Where do I set up certificates?</div><div id="wwID0EBKHV" class="Definition_Description">The following table shows where to set up certificates for the default <span class="ph">Enterprise Gateway</span> configuration, in which the Internal Server performs client authentication. If you want to perform client authentication on <span class="ph">Enterprise Gateway Server</span> as well, see 
    <a href="../integration-server-integrated-webhelp/to-enterprise_gateway_23.html#wwID0E1WAV"
   
     title="Performing Client Authentication on Enterprise Gateway Server"
    ><span class="heading-page">Performing Client Authentication on 
						Enterprise Gateway Server </span></a>.</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 51.4%"><div id="wwID0E4LHV" class="Table_Cell_Head"><span class="ph">Enterprise Gateway Server</span></div></td><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 48.5%"><div id="wwID0EIMHV" class="Table_Cell_Head">Internal Server</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXMHV" class="Table_Cell"><span class="uicontrol">Enterprise Gateway</span>&nbsp;<span class="uicontrol">External Port</span></div><div id="wwID0ELNHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set up a keystore that contains the server certificate and private key for <span class="ph">Enterprise Gateway Server</span>.</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2OHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set up a truststore that contains the certificates of certificate authorities trusted by <span class="ph">Enterprise Gateway Server</span>.</div><div id="wwID0ESPHV" class="List_1_Continued"><span class="ph">Enterprise Gateway Server</span> will make sure that certificates sent by external clients are signed by CAs in this truststore.</div><div id="wwID0E3PHV" class="List_1_Continued">This truststore must be the same as the truststore on the Internal Server.</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQQHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set up a truststore that contains the certificates of certificate authorities trusted by the Internal Server.</div><div id="wwID0EDRHV" class="List_1_Continued">The Internal Server will make sure that certificates sent by external clients (through <span class="ph">Enterprise Gateway Server</span>) are signed by CAs in this truststore.</div><div id="wwID0ENRHV" class="List_1_Continued">This truststore must be the same as the truststore for the <span class="ph">Enterprise Gateway</span> external port.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELSHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>(Optional) Import public certificates of external users and map them to users on <span class="ph">Enterprise Gateway Server</span>.</div><div id="wwID0ECTHV" class="List_1_Continued">Do this only if you want to perform client authentication on <span class="ph">Enterprise Gateway Server</span> in addition to the Internal Server.</div><div id="wwID0EMTHV" class="List_1_Continued">If you choose to perform client authentication on both <span class="ph">Enterprise Gateway Server</span> and the Internal Server, make sure the certificate mappings are the same on both servers.</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFUHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Import public certificates of external users and map them to users on the Internal Server.</div><div id="wwID0EYUHV" class="List_1_Continued">If you choose to perform client authentication on both <span class="ph">Enterprise Gateway Server</span> and the Internal Server, make sure the certificate mappings are the same on both servers.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKVHV" class="Table_Cell"><span class="uicontrol">Enterprise Gateway</span>&nbsp;<span class="uicontrol">Registration Port (HTTPS)</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQWHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Import the Internal Server’s public certificate and map it to a user that has administrator privileges.</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERXHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set up a keystore that contains the Internal Server’s certificate and private key.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXYHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Make sure the Internal Server’s CA certificate is present in the truststore of the registration port</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYZHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Make sure the registration port’s CA certificate is present in the Internal Server’s truststore.</div></td></tr></table></div><div id="wwID0EX1HV" class="Definition_Term">Can I use <span class="ph">Enterprise Gateway Server</span> as my outbound proxy server as well?</div><div id="wwID0EB2HV" class="Definition_Description">No. The only requests that go through <span class="ph">Enterprise Gateway Server</span> are inbound requests from the external client destined for the Internal Server and responses to those requests from the Internal Server back to the external client. Any unsolicited requests from the Internal Server go directly to the external client.</div><div id="wwID0EQ2HV" class="Definition_Term">What authentication mode should I use for <span class="ph">Enterprise Gateway Server</span> and the Internal Server?</div><div id="wwID0E12HV" class="Definition_Description">Authentication mode is the method a server uses to authenticate client requests. In a default <span class="ph">Enterprise Gateway</span> configuration, <span class="ph">Enterprise Gateway Server</span> receives authentication information from the external client and passes it to the Internal Server, which performs the authentication.</div><div id="wwID0EH3HV" class="Definition_Description">Be sure to specify the same authentication mode for the Internal Server and for the <span class="ph">Enterprise Gateway</span> external port. For example, if the Internal Server’s authentication mode is <span class="uicontrol">Required</span>, the external port must also be <span class="uicontrol">Required</span> so that <span class="ph">Enterprise Gateway Server</span> always passes the external client’s certificate to the Internal Server.</div><div id="wwID0E43HV" class="Definition_Description">In contrast, the authentication mode of the <span class="ph">Enterprise Gateway</span> registration port does not need to match the authentication mode of the Internal Server or the <span class="ph">Enterprise Gateway</span> external port.</div><div id="wwID0EL4HV" class="Definition_Description">If you want to perform client authentication on <span class="ph">Enterprise Gateway Server</span>, see 
    <a href="../integration-server-integrated-webhelp/to-enterprise_gateway_23.html#wwID0E1WAV"
   
     title="Performing Client Authentication on Enterprise Gateway Server"
    ><span class="heading-page">Performing Client Authentication on 
						Enterprise Gateway Server </span></a>.</div><div id="wwID0EE5HV" class="Definition_Term">Does <span class="ph">Enterprise Gateway</span> support the FTP protocol?</div><div id="wwID0EO5HV" class="Definition_Description">No, support is limited to HTTP and HTTPS only.</div><div id="wwID0EY5HV" class="Definition_Term">Are the SOCK and SSLSOCK protocols supported?</div><div id="wwID0E45HV" class="Definition_Description">No, these were proprietary protocols used in older releases. Starting with the 7.1 release, SOCK and SSLSOCK have been replaced by HTTP and HTTPS.</div><div id="wwID0EH6HV" class="Definition_Term">Is it possible to filter requests on <span class="ph">Enterprise Gateway Server</span>?</div><div id="wwID0ER6HV" class="Definition_Description">Yes. You can use <span class="ph">Enterprise Gateway</span> rules to filter requests based on a number of factors, including request size, request type, and the name of the resource being invoked.</div><div id="wwID0EAAIV" class="Definition_Term">After an interruption in the network connection between <span class="ph">Enterprise Gateway</span> Server and the Internal Server, the ports on the Internal Server must be re-enabled. How can this be prevented?</div><div id="wwID0EKAIV" class="Definition_Description">On the Internal Server, change the value of the watt.server.rg.internalregistration.timeout to be something other than the default value of 0, which means that the Internal Server never closes an unresponsive connection to the <span class="ph">Enterprise Gateway</span> Server. Additionally, make sure the value of watt.server.rg.internalregistration.timeout on the Internal Server is greater than the value of watt.net.socketpool.sweeperInterval on the <span class="ph">Enterprise Gateway</span> Server.</div><div id="wwID0E4AIV" class="Definition_Term">How can a client request on the <span class="ph">Enterprise Gateway</span> Server be prevented from waiting indefinitely for a connection to the Internal Server?</div><div id="wwID0EHBIV" class="Definition_Description"><span class="ph">Enterprise Gateway</span> Server can pass a client request to an Internal Server only when a connection to the Internal Server is available. If there are no connections to the Internal Server or if all of the Internal Server connections are busy handling other requests, a client request received through the external port of the <span class="ph">Enterprise Gateway</span> Server is placed in a waiting state. It is possible that several minutes could elapse before a connection becomes available which makes it possible that the client times out the request. Because the client does not receive any feedback from the <span class="ph">Enterprise Gateway</span> Server during this waiting period, a retry mechanism on the client side could resend the client request, resulting in duplicate transactions.</div><div id="wwID0EYBIV" class="Definition_Description"><span class="ph">Integration Server</span> includes a server configuration property watt.server.rg.internalsocket.timeout that controls how long the <span class="ph">Enterprise Gateway</span> Server waits for a connection to the Internal Server and returns a HTTP 500-Internal Server Error to the requesting client. If a connection to the Internal Server becomes available within the specified timeout period, <span class="ph">Enterprise Gateway</span> Server forwards the request to the Internal Server. If a connection does not become available before the timeout elapses, <span class="ph">Enterprise Gateway</span> Server returns a HTTP 500-Internal Server Error to the requesting client.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>