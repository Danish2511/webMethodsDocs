<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>%loop%</title><link rel="Prev" href="to-dsp_tags_6.html" title="Previous" /><link rel="Next" href="to-dsp_tags_8.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/integration-server-integrated-webhelp/to-dsp_tags_7.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pnvaWT2iZlJ8IGf4VSeNnyQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/integration-server-integrated-webhelp/to-dsp_tags_7.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.11 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-webhelp_intro_is_dsp_guide.html#wwconnect_header">Dynamic Server Pages and Output Templates Developer's Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../integration-server-integrated-webhelp/to-dsp_tags.html#wwconnect_header">Tag Descriptions</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">%loop%</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EMPW1B" class="Heading_2">%loop%</div><div id="wwID0E3PW1B" class="Body">You use the <span class="codeph">%loop%</span> tag to repeat a block of code once for each element in a specified array (String list or document list) or for each key in a document.</div><div id="wwID0EOQW1B" class="Section_Title">Syntax</div><div id="wwID0ETQW1B" class="Preformatted">%loop <span class="varname">[Variable] [option option<br />option...]</span>%  <br />    <span class="varname">Block of Code</span>  <br />%end%</div><div id="wwID0EMRW1B" class="Section_Title">Arguments</div><div id="wwID0ERRW1B" class="Body"><span class="varname">Variable</span> specifies the name of the array variable over which you want the enclosed section of code to iterate.</div><div id="wwID0EASW1B" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>You may optionally omit <span class="varname">Variable</span> and specify the <span class="codeph">–struct</span> option to loop over each element in the current scope.</div><div id="wwID0E3SW1B" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>When looping against a set of complex elements (e.g., documents, document lists, String lists) in a document, you can optionally use the #$key keyword to specify <span class="varname">Variable</span> instead of explicitly specifying a key name. When you use #$key in place of an explicit key name, it indicates that you want to apply the body of the loop to (i.e., switch the scope to) the current key. This allows you to process the contents of a document whose key names are not known. It is most often used with the <span class="codeph">–struct</span> option to process a set of documents contained within another document. For an example of how this option is used, see the examples, below.</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 20.8%"><div id="wwID0E6UW1B" class="Table_Cell_Head">If <span class="varname">Variable</span> is a...</div></td><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 79.1%"><div id="wwID0ELVW1B" class="Table_Cell_Head">The loop is applied to...</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1VW1B" class="Table_Cell">String list</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAWW1B" class="Table_Cell">Each String in the list.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELWW1B" class="Table_Cell">Document list</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERWW1B" class="Table_Cell">Each document in the document list.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3WW1B" class="Table_Cell">Document</div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECXW1B" class="Table_Cell">Each key in the document. When you use <span class="codeph">%loop%</span> to process the elements of a document, you must also use the <span class="codeph">–struct</span> option in the <span class="codeph">%loop%</span> tag.</div></td></tr></table></div><div id="wwID0ECYW1B" class="Section_Title">Options</div><div id="wwID0EHYW1B" class="Body">You can use any of the following options with this tag. To specify multiple options, separate the options with spaces.</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 20.8%"><div id="wwID0ESZW1B" class="Table_Cell_Head">Options</div></td><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 79.1%"><div id="wwID0EYZW1B" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EH1W1B" class="Table_Cell"><span class="codeph">-struct</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ER1W1B" class="Table_Cell">Specifies that <span class="varname">Variable</span> is a document and instructs the server to apply the loop once to each key in that document.</div><div id="wwID0E31W1B" class="Table_Cell">When you use the –struct option, you can use the <span class="varname">$key</span> variable to retrieve the name of each element in the document. See examples, below.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EN2W1B" class="Table_Cell"><span class="codeph">-eol</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EX2W1B" class="Table_Cell">Ends the body of the loop at the next end-of-line (EOL) character in the code. When you use –eol, you can omit the <span class="codeph">%end%</span> tag.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EH3W1B" class="Table_Cell"><span class="codeph">-$index</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ER3W1B" class="Table_Cell">Returns the current index number in an array. You can use it within a loop to obtain the index number upon which the loop is acting during each iteration.</div></td></tr></table></div><div id="wwID0EE4W1B" class="Section_Title">Effect on Scope</div><div id="wwID0EJ4W1B" class="Body">If <span class="varname">Variable</span> is a document list, scope switches to the document on which the loop is executing.</div><div id="wwID0E34W1B" class="Section_Title">Notes</div><div id="wwID0EB5W1B" class="Body">Omit the variable name from the <span class="codeph">%value%</span> tag if it is used in the body of a loop for a String table or a document. When variable name is omitted, the server inserts the value of the current element at run time.</div><div id="wwID0EL5W1B" class="Body">For readability, you can optionally use <span class="codeph">%endloop%</span> instead of <span class="codeph">%end%</span> to denote the end of a <span class="codeph">%loop%</span> block.</div><div id="wwID0EF6W1B" class="Example_Title">Examples</div><div id="wwID0EZ6W1B" class="Body">The following example generates a paragraph for each document in the <span class="emphasis">items</span> document list.</div><div id="wwID0EEAX1B" class="Preformatted">.  <br />.  <br />.  <br />&lt;p&gt;This shipment contains the following items:&lt;/p&gt;  <br />%loop items%  <br />  &lt;p&gt;%value qty% %value stockNum% %value description% %value status%&lt;/p&gt;  <br />%end%  <br />.  <br />.  <br />.</div><div id="wwID0EKAX1B" class="Body">The following example generates a line for each element in the <span class="varname">backItems</span> String list.</div><div id="wwID0EVAX1B" class="Preformatted">.  <br />.  <br />.  <br />&lt;p&gt;The following items are backordered&lt;/p&gt;  <br />&lt;p&gt;  <br />%loop backItems%  <br />  %value%&lt;BR&gt;  <br />%end%  <br />&lt;/p&gt;  <br />.  <br />.  <br />.</div><div id="wwID0E2AX1B" class="Body">The following example shows how you can nest <span class="codeph">%loop%</span> tags to process the individual document elements in a document list.</div><div id="wwID0EFBX1B" class="Preformatted">.  <br />.  <br />.  <br />&lt;This shipment contains the following items:&lt;/p&gt;  <br />&lt;table&gt;  <br />%loop items%  <br />&lt;tr&gt;  <br />  %loop -struct%  <br />  &lt;td&gt;%value%&lt;/td&gt;  <br />  %end%  <br />&lt;/tr&gt;  <br />%end%  <br />.  <br />.  <br />.</div><div id="wwID0ELBX1B" class="Body">The following example shows how you can use the <span class="codeph">%loop%</span> tag to dump the contents (key names and values) of the current scope.</div><div id="wwID0EVBX1B" class="Preformatted">.  <br />.  <br />.  <br />%loop -struct%  <br />  %value $key% %value%&lt;BR&gt;  <br />%end%  <br />.  <br />.  <br />.</div><div id="wwID0E2BX1B" class="Body">The following example shows how you use the #$key option to loop over the individual elements in a collection of documents contained within another document.</div><div id="wwID0EACX1B" class="Preformatted">This example assumes that the service returns a document named <span class="varname">MatchingAddress</span> <br />that holds a set of documents (of unknown name and quantity) containing <br />address information.  <br />.  <br />.  <br />.  <br />&lt;p&gt;The following addresses were returned:&lt;/p&gt;  <br />%loop -struct MatchingAddresses%  <br /> %loop -struct #$key%  <br />   &lt;p&gt;  <br />   %value streetAddr1%  <br />   %value streetAddr2%  <br />   %value city%, %value state% %value postalCode%  <br />  &lt;/p&gt;  <br /> %end%  <br />%end%  <br />.  <br />.  <br />.</div><div id="wwID0EMCX1B" class="Body">The following example shows how to obtain the iteration number of the loop execution and insert it into the output:</div><div id="wwID0ERCX1B" class="Preformatted">  indices = {%loop arrayA%%value $index%%loopsep ’,’%%endloop%}</div><div id="wwID0EXCX1B" class="Body">When <span class="codeph">ArrayA</span> has three elements, the output will be:</div><div id="wwID0EBDX1B" class="Preformatted">  indices = {0,1,2}</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>