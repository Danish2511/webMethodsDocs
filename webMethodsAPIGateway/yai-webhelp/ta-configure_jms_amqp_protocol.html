<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring API Gateway for JMS with AMQP Protocol</title><link rel="Prev" href="re-transport_require_jms.html" title="Previous" /><link rel="Next" href="re-jms_amqp_soap.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/ta-configure_jms_amqp_protocol.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pYgNP3mZocASE1U_002blWgT7Vw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/ta-configure_jms_amqp_protocol.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.503.html#wwconnect_header">Using API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.535.html#wwconnect_header">Implement APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_manage_policies.html#wwconnect_header">Policies</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_transport_policies.html#wwconnect_header">Transport</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/re-transport_require_jms.html#wwconnect_header">Enable JMS/AMQP</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Configuring API Gateway for JMS with AMQP Protocol</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EBRQX" class="Heading_5">Configuring <span class="ph">API Gateway</span> for JMS with AMQP Protocol</div><div id="wwID0ETRQX" class="Body">Before configuring AMQP in <span class="ph">API Gateway</span>, ensure your message broker supports AMQP 1.0</div><div id="wwID0EDSQX" class="Body">For using JMS with AMQP protocol in <span class="ph">API Gateway</span> you have to configure the appropriate settings for the provider URL and the connection factory lookup name required for <span class="ph">API Gateway</span> to communicate using JMS with AMQP protocol.</div><div id="wwID0ERSQX" class="Body"><span class="inlinetitle">To configure API Gateway to use JMS with AMQP protocol</span></div><div id="wwID0E5SQX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Create a properties file that contains the information for the JNDI lookup name and connectionfactory details.</div><div id="wwID0EPTQX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Configure JNDI settings as per the client you are using to achieve JMS over AMQP protocol support.</div><div id="wwID0EAUQX" class="Numbered_1_Continued">For a detailed procedure, see 
    <a href="../yai-webhelp/gtw_jndi_provider_alias.html#wwID0EMOKS"
   
     title="Creating a JNDI Provider Alias"
    ><span class="ph_002c_heading-page">Creating a JNDI Provider Alias</span></a>.</div><div id="wwID0EXUQX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>Configure JMS settings as per the client you are using to achieve JMS over AMQP protocol support.</div><div id="wwID0EIVQX" class="Numbered_1_Continued">For a detailed procedure, see 
    <a href="../yai-webhelp/gtw_jms_connection_alias.html#wwID0EJOLS"
   
     title="Creating a JMS Connection Alias"
    ><span class="ph_002c_heading-page">Creating a JMS Connection Alias</span></a>.</div><div id="wwID0EBWQX" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To configure API Gateway for JMS with AMQP protocol using Apache qpid libraries</div><div id="wwID0ELWQX" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command">Create a properties file that contains the information for the JNDI lookup name and connectionfactory details. </span></div><div id="wwID0EBXQX" class="Step_Info_1">A sample properties file, for example amqp.properties, would look like</div><div id="wwID0EGXQX" class="Preformatted_1"># Set the InitialContextFactory class to use<br />java.naming.factory.initial = org.apache.qpid.jms.jndi.JmsInitialContextFactory<br /># Define the required ConnectionFactory instances<br /># connectionfactory.&lt;JNDI-lookup-name&gt; = &lt;URI&gt;<br />connectionfactory.qpidConnectionFactory = amqp://&lt;hostname&gt;:&lt;port#&gt;</div><div class="ww_skin_page_overflow"><div id="wwID0EOXQX" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">Navigate to <img class="Default" src="../yai-webhelp/images/menu_icon.jpg" width="100%" style="display: inline; float: none; left: 0pt; max-height: 25px; max-width: 21px; top: 0pt" alt="" /> &gt; </span><span class="Command_002c_uicontrol">Administration</span><span class="Command">. </span></div></div><div id="wwID0EUYQX" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">General &gt; Messaging</span><span class="Command">. </span></div><div id="wwID0ERZQX" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">Configure the JNDI provider alias as follows: </span></div><div id="wwID0EK1QX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>a. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol"> Add JNDI provider alias</span><span class="Command"> in the JNDI provider alias definitions section. </span></div><div id="wwID0EH2QX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>b. </span></span><span class="Command">Provide the following information: </span></div><div id="wwID0EG3QX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">JNDI Alias Name</span>. Provide a name that you want to assign to this JNDI provider.</div><div id="wwID0E13QX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Description</span>. Provide a brief description for this JNDI alias.</div><div id="wwID0EO4QX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Predefined JNDI Templates</span>. Select the predefined JNDI template depending on the provider you may want to use.</div><div id="wwID0EC5QX" class="List_3_Continued">For example, if you want to use the JMS with AMQP protocol, select <span class="uicontrol">Qpid AMQP (0-x)</span>.</div><div id="wwID0EN5QX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Initial Context Factory</span>. The JNDI provider uses the initial context as the starting point for resolving names for naming and directory operations. This value gets pre-populated depending on the predefined JNDI template selected. For example, if you have selected <span class="uicontrol">Qpid AMQP (0-x)</span> as the predefined JNDI template the Initial context factory field would display <span class="userinput">org.apache.qpid.jms.jndi.JmsInitialContextFactory</span>.</div><div id="wwID0EJ6QX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Provider URL</span>. Provide the file path location of the properties file that contains the context factory details. For example, <span class="userinput">C:\amqp.properties</span>.</div><div id="wwID0EEARX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>c. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Add</span><span class="Command">. </span></div><div id="wwID0EBBRX" class="Step_Result_2">The JNDI provider alias is created and listed in the JNDI Provider alias definitions table.</div><div id="wwID0EJBRX" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Command">Configure the JMS settings as follows: </span></div><div id="wwID0ECCRX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>a. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol"> Add JMS connection alias</span><span class="Command"> in the JMS connection alias definitions section. </span></div><div id="wwID0E6CRX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>b. </span></span><span class="Command">Provide the following information in the General Settings section: </span></div><div id="wwID0E5DRX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Connection Alias Name</span>. Provide a name for the connection alias. Each connection alias represents a connection factory to a specific JMS provider.</div><div id="wwID0ESERX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Description</span>. Provide a brief description for the connection alias.</div><div id="wwID0EJFRX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>c. </span></span><span class="Command">Provide the following information in the Connection Protocol Settings section: </span></div><div id="wwID0EIGRX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">JNDI Provider Alias Name</span>. The alias to the JNDI provider that you want this JMS connection alias to use to look up administered objects. Select the JNDI Provider alias name created in the earlier step.</div><div id="wwID0E3GRX" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Connection Factory Lookup Name</span>. The lookup name for the connection factory that you want to use to create a connection to the JMS provider specified in this JMS connection alias. Provide the value <span class="userinput">qpidConnectionFactory</span>.</div><div id="wwID0EXHRX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>d. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Add</span><span class="Command">. </span></div><div id="wwID0EUIRX" class="Step_Result_2">The JMS Connection alias is created and listed in the JMS Connection Alias Definitions table.</div><div id="wwID0E1IRX" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>e. </span></span><span class="Command">Enable the JMS connection alias by clicking toggle button to enable it. </span></div><div id="wwID0ETJRX" class="Result">The JNDI provider alias and the JMS connection alias are now set up and <span class="ph">API Gateway</span> is configured to use JMS with AMQP protocol.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>