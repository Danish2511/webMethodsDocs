<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>How to enable SAML SSO in API Gateway?</title><link rel="Prev" href="co-saml_assertion.html" title="Previous" /><link rel="Next" href="ta-saml_mapping.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/ta-enable_sso.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pSgvEmG41j1rfDrfgH8Z_002bDg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/ta-enable_sso.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.078.html#wwconnect_header">Operating API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_configure_system_settings.html#wwconnect_header">System Settings</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_configure_saml_sso.html#wwconnect_header">SAML SSO</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">How to enable SAML SSO in API Gateway?</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EKAWT" class="Heading_4">How to enable SAML SSO in API Gateway?</div><div id="wwID0EZAWT" class="Body">This use case explains the steps involved in enabling SSO for <span class="ph">API Gateway</span> using the SAML protocol.</div><div id="wwID0EDBWT" class="Body">The use case starts when you configure the SAML settings for SSO in <span class="ph">API Gateway</span> and ends when you log into <span class="ph">API Gateway</span> using SSO.</div><div id="wwID0ERBWT" class="Body"><span class="inlinetitle">Prerequisite</span></div><div id="wwID0E2BWT" class="Body">Ensure that you have:</div><div id="wwID0EGCWT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Manage user administration privilege.</div><div id="wwID0EZCWT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Provided the service provider SSO URL to the IdP administrator. Based on the service provider SSO URL, the IdP administrator generates the metadata.</div><div id="wwID0EMDWT" class="List_1_Continued">Ensure the service provider SSO URL is in the given <span class="filepath">http(s)://</span><span class="filepath_002c_varname">hostname</span><span class="filepath">:</span><span class="filepath_002c_varname">portnumber</span><span class="filepath">/apigatewayui/saml/SSO</span> format.</div><div id="wwID0EDEWT" class="Note_1"><span class="Bold">Note:</span>&nbsp;</div><div id="wwID0E4EWT" class="List_2_-_Note"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>For a standalone environment, replace the <span class="varname">hostname</span> and <span class="varname">portnumber</span> with the hostname and port number that is used to access the <span class="ph">API Gateway</span>.</div><div id="wwID0E5FWT" class="List_2_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>For a cluster environment, replace the <span class="varname">hostname</span> and <span class="varname">portnumber</span> with the hostname and port number of the load balancer.</div><div id="wwID0E5GWT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The metadata URL or file handy that was shared to you by the IdP administrator.</div><div id="wwID0ERHWT" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Configured the keystore through which SSO communication is established between <span class="ph">API Gateway</span> and IdP.</div><div id="wwID0EJIWT" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To configure SAML settings for single sign-on</div><div class="ww_skin_page_overflow"><div id="wwID0EVIWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command">Expand the menu options icon <img class="Default" src="../yai-webhelp/images/menu_icon.jpg" width="100%" style="display: inline; float: none; left: 0pt; max-height: 25px; max-width: 21px; top: 0pt" alt="" />, in the title bar, and select </span><span class="Command_002c_uicontrol">Administration</span><span class="Command">. </span></div></div><div id="wwID0E4JWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">System Settings &gt; SAML SSO</span><span class="Command">. </span></div><div id="wwID0E3KWT" class="Step_Result_1">The <span class="uicontrol">Prerequisite</span> page appears.</div><div class="ww_skin_page_overflow"><div id="wwID0EFLWT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/sso_prerequisite.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 562px; max-width: 1522px; top: 0pt" alt="" /></div></div><div id="wwID0EZLWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command"> Ensure that you have performed all the pre-requisite steps. </span></div><div id="wwID0ERMWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Next</span><span class="Command">. </span></div><div id="wwID0EQNWT" class="Step_Result_1">The <span class="uicontrol">Connect</span> page appears.</div><div class="ww_skin_page_overflow"><div id="wwID0EZNWT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/sso_connect.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 642px; max-width: 1516px; top: 0pt" alt="" /></div></div><div id="wwID0ENOWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Command"> Provide the SSO URL to which you want to redirect the browser in the </span><span class="Command_002c_uicontrol">Service provider SSO URL</span><span class="Command"> field. </span></div><div id="wwID0ERPWT" class="Note_1"><span class="Bold">Note:<br /></span>By default, the <span class="uicontrol">Service provider SSO URL</span> field is populated with the load balancer's web application URL that you have specified in the <span class="uicontrol">Administration</span> &gt; <span class="uicontrol">General</span> &gt; <span class="uicontrol">Loadbalancer</span> &gt; <span class="uicontrol">Web application URLs</span> section. If you have not specified the load balancer's web application URL, then the <span class="uicontrol">Service provider SSO URL</span> field is populated with <span class="filepath">http(s)://</span><span class="filepath_002c_varname">hostname</span><span class="filepath"> : </span><span class="filepath_002c_varname">portnumber</span> through which you access the <span class="ph">API Gateway</span> instance.</div><div id="wwID0E2RWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>6. </span></span><span class="Command"> Provide the </span><span class="Command_002c_Command">API Gateway</span><span class="Command">'s entity ID in the </span><span class="Command_002c_uicontrol">Service provider entity ID (URI)</span><span class="Command"> field. </span></div><div id="wwID0EATWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>7. </span></span><span class="Command">Provide the following information in the </span><span class="Command_002c_uicontrol">Identity provider configuration URL</span><span class="Command"> section: </span></div><div id="wwID0EEUWT" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Click <span class="uicontrol"> Import configuration from URL</span> to import the metadata file that the IdP administrator shared with you using the URL.</div><div id="wwID0EAVWT" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Provide the metadata file's URL in the <span class="uicontrol">URL</span> field.</div><div id="wwID0EZVWT" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Click <span class="uicontrol"> Import configuration from file</span> to import the metadata file that the IdP administrator shared with you.</div><div id="wwID0EVWWT" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Provide the location where you have saved the metadata file in the <span class="uicontrol">File</span> field.</div><div id="wwID0EQXWT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>8. </span></span><span class="Command">Provide the following information in the </span><span class="Command_002c_uicontrol">Keystore configuration</span><span class="Command"> section: </span></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 20.3%"><div id="wwID0ETZWT" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 79.6%" colspan="2"><div id="wwID0EZZWT" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0EI1WT" class="Table_Cell"><span class="uicontrol">Select a Keystore alias for signing/encryption</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0ES1WT" class="Table_Cell">Select a keystore through which you can establish SSO communication between the IdP and <span class="ph">API Gateway</span>.</div><div id="wwID0E51WT" class="Note"><span class="Bold">Note:<br /></span>You can create the keystore from <span class="uicontrol">Administration</span> &gt; <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Keystore/Truststore</span> section. For details on how to configure keystore, see 
    <a href="../yai-webhelp/gtw_configure_keystore.html#wwID0EIZ4T"
   
     title="Configuring Keystore Information"
    ><span class="heading-page">Configuring Keystore Information</span></a>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0EQ3WT" class="Table_Cell"><span class="uicontrol">Use same key for signing and encryption</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0E13WT" class="Table_Cell">Click this if you use the same keystore alias for signing and encryption.</div><div id="wwID0EC4WT" class="Table_Cell">Select the keystore that is used for both signing and encryption from the <span class="uicontrol">Key alias</span> drop-down menu.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0ER4WT" class="Table_Cell"><span class="uicontrol">Use different keys for signing and encryption</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0E24WT" class="Table_Cell">Click this if you use two different key alias for signing and encryption.</div><div id="wwID0ED5WT" class="Table_Cell">Select the keystore that is used for signing from the <span class="uicontrol">Sign key alias</span> drop-down menu.</div><div id="wwID0EN5WT" class="Table_Cell">Select the keystore that is used for encryption from the <span class="uicontrol">Encrypt key alias</span> drop-down menu.</div></td></tr></table></div><div id="wwID0E55WT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>9. </span></span><span class="Command">Provide the following information in the </span><span class="Command_002c_uicontrol">Keystore configuration</span><span class="Command"> section: </span></div><div id="wwID0ECAXT" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>a. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">Send signed SAML auth request</span><span class="Command">, if you want to send out the signed SAML authorization request to the Identity Provider (IdP). </span></div><div id="wwID0EBBXT" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>b. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">Require signed assertion from IDP</span><span class="Command"> to receive a signed assertion from IdP. </span></div><div id="wwID0ECCXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>10. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Save and try</span><span class="Command">. </span></div><div id="wwID0EBDXT" class="Step_Info_1">The <span class="ph">API Gateway</span> Login page appears with<span class="uicontrol"> Log in with SSO</span> link.</div><div class="ww_skin_page_overflow"><div id="wwID0EODXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/sso_loginpng.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 432px; max-width: 480px; top: 0pt" alt="" /></div></div><div id="wwID0ECEXT" class="Step_Result_1">Click the <span class="uicontrol"> Log in with SSO</span> link to validate the SSO configuration. In this use case, as you have configured the OKTA as IdP, OKTA login page appears.</div><div class="ww_skin_page_overflow"><div id="wwID0ELEXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/okta_screen.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 487px; max-width: 403px; top: 0pt" alt="" /></div></div><div id="wwID0E5EXT" class="Note_1"><span class="Bold">Note:<br /></span>You can also skip this validation part and proceed with <span class="uicontrol">Group mapping</span> page.</div><div class="ww_skin_page_overflow"><div id="wwID0E1FXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>11. </span></span><span class="Command">Once you successfully log into </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> using SSO, expand the menu options icon <img class="Default" src="../yai-webhelp/images/menu_icon.jpg" width="100%" style="display: inline; float: none; left: 0pt; max-height: 25px; max-width: 21px; top: 0pt" alt="" />, in the title bar, and select </span><span class="Command_002c_uicontrol">Administration &gt; System Settings &gt; SAML SSO</span><span class="Command"> . </span></div></div><div id="wwID0EIHXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>12. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Edit</span><span class="Command"> to update the SAML SSO configuration with group mapping and user mapping details. </span></div><div class="ww_skin_page_overflow"><div id="wwID0EMIXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/sso_edit.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 642px; max-width: 1522px; top: 0pt" alt="" /></div></div><div id="wwID0EHIXT-2" class="Step_Info_1">The <span class="uicontrol">Connect</span> page appears with the existing configuration.</div><div class="ww_skin_page_overflow"><div id="wwID0EDJXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/before_group.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 645px; max-width: 1520px; top: 0pt" alt="" /></div></div><div id="wwID0EYJXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>13. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Next</span><span class="Command">. </span></div><div id="wwID0EXKXT" class="Step_Result_1">The <span class="uicontrol">Group mapping</span> page appears.</div><div id="wwID0ECLXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>14. </span></span><span class="Command">Provide the attribute name in the SAML assertion that you want to map to the </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> group in the </span><span class="Command_002c_uicontrol">SAML attribute used in mapping API Gateway group</span><span class="Command"> field. </span></div><div id="wwID0EHMXT" class="Step_Info_1">By default, API Gateway supports the following two attribute names in the SAML assertion:</div><div id="wwID0ESMXT" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>http://schemas.microsoft.com/ws/2008/06/identity/claims/role</div><div id="wwID0EFNXT" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>http://schemas.xmlsoap.org/claims/Group</div><div id="wwID0EZNXT" class="Body_1">In addition, to the above two attribute names, if the SAML assertion has more attribute names, you can provide their attribute names in the <span class="uicontrol">SAML attribute used in mapping API Gateway group</span> field and click <span class="uicontrol">+ Add</span>.</div><div id="wwID0EHOXT" class="Body_1">For example: <span class="filepath">http://customgroup</span> .</div><div class="ww_skin_page_overflow"><div id="wwID0EQOXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/group_mapping.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 372px; max-width: 1516px; top: 0pt" alt="" /></div></div><div id="wwID0EDPXT" class="Body_1">Sample SAML assertion for group mapping</div><div id="wwID0EIPXT" class="Preformatted_1">&lt;AttributeStatement&gt;<br />            &lt;saml2:Attribute Name="http://customgroup"<br />                             NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified"<br />                             &gt;<br />                &lt;saml2:AttributeValue xmlns:xs="http://www.w3.org/2001/XMLSchema"<br />                                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />                                xsi:type="xs:string"<br />                                &gt;ManageApplicationsGroup&lt;/saml2:AttributeValue&gt;<br />            &lt;/saml2:Attribute&gt;<br />        &lt;/AttributeStatement&gt;</div><div id="wwID0EDPXT-2" class="Body_1">In the sample SAML assertion, the user is associated to a new attribute name called <span class="filepath">http://customgroup</span> and group called <span class="emphasis">ManageApplicationsGroup</span> in the IdP.</div><div id="wwID0EYPXT" class="Body_1">As shown in the image, the new attribute name <span class="filepath">http://customgroup</span> specified in the SAML assertion is added to the <span class="ph">API Gateway</span> so that its corresponding attribute value <span class="emphasis">ManageApplicationsGroup</span> specified in the SAML assertion can be mapped to an <span class="ph">API Gateway</span> group.</div><div class="ww_skin_page_overflow"><div id="wwID0EPQXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/group_mapping0.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 645px; max-width: 1519px; top: 0pt" alt="" /></div></div><div class="ww_skin_page_overflow"><div id="wwID0ECRXT" class="Body_1">You can edit or delete the attribute name by clicking the <img class="Default" src="../yai-webhelp/images/edit_1.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 24px; max-width: 20px; top: 0pt" alt="" /> or <img class="Default" src="../yai-webhelp/images/delete_blue.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 18px; max-width: 17px; top: 0pt" alt="" /> icons respectively. For details about what is SAML assertion, see 
    <a href="../yai-webhelp/co-saml_assertion.html#wwID0EFSVT"
   
     title="SAML Assertion"
    ><span class="heading-page">SAML Assertion</span></a>.</div></div><div id="wwID0EHSXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>15. </span></span><span class="Command"> Select the </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> group to which you want to map the logged in user from the </span><span class="Command_002c_uicontrol">API Gateway group</span><span class="Command"> drop-down menu. </span></div><div id="wwID0EMTXT" class="Step_Info_1">For example select <span class="userinput">API-Gateway-Providers</span>.</div><div id="wwID0EXTXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>16. </span></span><span class="Command">Provide the attribute value from the SAML assertion to which group the logged in user was mapped at the IdP in the </span><span class="Command_002c_uicontrol">SAML attribute value from the assertion</span><span class="Command"> field. </span></div><div id="wwID0EWUXT" class="Step_Info_1">For example based on the sample SAML assertion, provide the user group as <span class="userinput">ManageApplicationsGroup</span></div><div class="ww_skin_page_overflow"><div id="wwID0E6UXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/group_mapping1.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 644px; max-width: 1517px; top: 0pt" alt="" /></div></div><div id="wwID0EUVXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>17. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">+ Add</span><span class="Command"> to map the IdP group of the logged in user specified in SAML assertion to the selected </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> group. </span></div><div id="wwID0EZWXT" class="Step_Info_1">As shown in the image, the logged in user associated with the <span class="userinput">ManageApplicationsGroup</span> in IdP is mapped to the <span class="userinput">API-Gateway-Providers</span> group in <span class="ph">API Gateway</span>.</div><div class="ww_skin_page_overflow"><div id="wwID0EKXXT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/group_mapping2.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 645px; max-width: 1519px; top: 0pt" alt="" /></div></div><div class="ww_skin_page_overflow"><div id="wwID0E5XXT" class="Step_Info_1">You can add multiple group mapping. You can edit or delete the group mapping by clicking the <img class="Default" src="../yai-webhelp/images/edit_1.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 24px; max-width: 20px; top: 0pt" alt="" /> or <img class="Default" src="../yai-webhelp/images/delete_blue.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 18px; max-width: 17px; top: 0pt" alt="" /> icons respectively. For details on how to map the SAML assertion group to the <span class="ph">API Gateway</span> group, see 
    <a href="../yai-webhelp/ta-saml_mapping.html#wwID0E3JYT"
   
     title="Precedence in Group Mapping"
    ><span class="heading-page">Precedence in Group Mapping</span></a></div></div><div id="wwID0EGZXT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>18. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Next</span><span class="Command">. </span></div><div id="wwID0EF1XT" class="Step_Result_1">The <span class="uicontrol">User mapping</span> page appears.</div><div class="ww_skin_page_overflow"><div id="wwID0EO1XT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/user_mapping.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 431px; max-width: 1522px; top: 0pt" alt="" /></div></div><div id="wwID0EC2XT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>19. </span></span><span class="Command"> Select the user profile attribute name in </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> from the </span><span class="Command_002c_uicontrol">API Gateway user profile attributes</span><span class="Command"> drop-down menu. </span></div><div id="wwID0EH3XT" class="Step_Info_1">For example: Select the user profile attribute name as <span class="userinput">First name</span>.</div><div id="wwID0EW3XT" class="Body_1">Sample SAML assertion for user mapping</div><div id="wwID0E23XT" class="Preformatted_1">&lt;AttributeStatement&gt;<br />            &lt;saml2:Attribute Name=fname<br />                             NameFormat="urn:oasis:names:tc:SAML:2.0:attrname-format:unspecified"<br />                             &gt;<br />                &lt;saml2:AttributeValue xmlns:xs="http://www.w3.org/2001/XMLSchema"<br />                                xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"<br />                                xsi:type="xs:string"<br />                                &gt;Joe&lt;/saml2:AttributeValue&gt;<br />            &lt;/saml2:Attribute&gt;<br />        &lt;/AttributeStatement&gt;</div><div id="wwID0EW3XT-2" class="Body_1">In the sample SAML assertion, the user is associated to an attribute name called <span class="filepath">fname</span> and attribute value as <span class="emphasis">Joe</span> in the IdP.</div><div id="wwID0EL4XT" class="Body_1">As shown in the image, the attribute name <span class="filepath">fname</span> specified in the SAML assertion is mapped to user profile attribute called <span class="filepath">First name</span> in <span class="ph">API Gateway</span>.</div><div id="wwID0E64XT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>20. </span></span><span class="Command">Provide the user attribute name from the SAML assertion of the logged in user in the </span><span class="Command_002c_uicontrol">SAML attribute value from the assertion</span><span class="Command"> field. </span></div><div id="wwID0E55XT" class="Step_Info_1">For example: Provide the user profile attribute name as <span class="userinput">fname</span>.</div><div id="wwID0EJ6XT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>21. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">+ Add</span><span class="Command"> to map the IdP user profile attribute value of the logged in user specified in SAML assertion to the selected </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> 's user profile attribute. </span></div><div id="wwID0ETAYT" class="Body_1">As shown in the image, the attribute name <span class="filepath">fname</span> specified in the SAML assertion is mapped to user profile attribute called <span class="filepath">First name</span> in <span class="ph">API Gateway</span>.</div><div class="ww_skin_page_overflow"><div id="wwID0ELBYT" class="Figure_Title_1"><img class="ScaleFit" src="../yai-webhelp/images/user_mapping1.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 447px; max-width: 1506px; top: 0pt" alt="" /></div></div><div class="ww_skin_page_overflow"><div id="wwID0E4BYT" class="Body_1">You can add multiple user profile attribute mapping. You can edit or delete the user mapping by clicking the <img class="Default" src="../yai-webhelp/images/edit_1.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 24px; max-width: 20px; top: 0pt" alt="" /> or <img class="Default" src="../yai-webhelp/images/delete_blue.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 18px; max-width: 17px; top: 0pt" alt="" /> icons respectively.</div></div><div id="wwID0EXCYT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>22. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Next</span><span class="Command">. </span></div><div id="wwID0EWDYT" class="Step_Result_1">The <span class="uicontrol">Summary</span> page appears.</div><div class="ww_skin_page_overflow"><div id="wwID0E6DYT" class="Figure_1"><img class="ScaleFit" src="../yai-webhelp/images/summary.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 711px; max-width: 1505px; top: 0pt" alt="" /></div></div><div id="wwID0ETEYT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>23. </span></span><span class="Command">Review the SSO configuration, group mapping, and user mapping information in the </span><span class="Command_002c_uicontrol">Summary</span><span class="Command"> page. </span></div><div id="wwID0ESFYT" class="Step_Info_1">By default, the <span class="uicontrol">Enable SAML authentication</span> toggle button is set on. If you want to disable the SAML authentication, set the toggle button off.</div><div id="wwID0E4FYT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>24. </span></span><span class="Command">If you want to enable SSO login by default, select the </span><span class="Command_002c_uicontrol">Enforce SSO login by default</span><span class="Command"> check box. </span></div><div id="wwID0E3GYT" class="Step_Info_1">If you have enabled SSO login by default, you will be directed to the SSO login page directly.</div><div id="wwID0ECHYT" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>25. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Save</span><span class="Command"> to save the group and user mapping details. </span></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>