<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Traffic Optimization</title><link rel="Prev" href="ta-uncompress_payload.html" title="Previous" /><link rel="Next" href="re-lmt_service_result_cache.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/re-lmt_throttling_traffic_optimization.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pricqqJ07QrNytod3rjWgYw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/re-lmt_throttling_traffic_optimization.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.503.html#wwconnect_header">Using API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.535.html#wwconnect_header">Implement APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_manage_policies.html#wwconnect_header">Policies</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_lmt_policies.html#wwconnect_header">Traffic Monitoring</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Traffic Optimization</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E4ONZ" class="Heading_4">Traffic Optimization</div><div id="wwID0EMPNZ" class="Body">This policy limits the number of API invocations during a specified time interval, and sends alerts to a specified destination when the performance conditions are violated. You can use this policy to avoid overloading the back-end services and their infrastructure, to limit specific clients in terms of resource usage, and so on.</div><div id="wwID0ERPNZ" class="Body">The Traffic optimization policy generates two types of events when the specified limit is breached:</div><div id="wwID0E1PNZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Policy violation event</span>. Indicates the violations that occur for an API. If there are 100 violations, then 100 policy violation events are generated.</div><div id="wwID0EOQNZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Monitor event</span>. Controlled by the alert frequency configuration specified in the policy.</div><div id="wwID0EERNZ" class="Body">The table lists the properties that you can specify for this policy:</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 28.5%"><div id="wwID0EDSNZ" class="Table_Cell_Head">Property</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 71.4%"><div id="wwID0EJSNZ" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EWSNZ" class="Table_Cell"><span class="uicontrol">Limit Configuration</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGTNZ" class="Table_Cell"><span class="uicontrol">Rule name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQTNZ" class="Table_Cell">Specifies the name of throttling rule to be applied. By default, the <span class="uicontrol">Total Request Count</span> appears as the rule name and you cannot modify this.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6TNZ" class="Table_Cell"><span class="uicontrol">Operator</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJUNZ" class="Table_Cell">Specifies the operator that connects the rule to the value specified. By default, the <span class="uicontrol">Greater Than</span> operator is selected. It indicates that the throttling rule is applied when the Total Request Count for an API is greater than (exceeds the limit specified for) the value specified in the <span class="uicontrol">Value</span> field.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3UNZ" class="Table_Cell"><span class="uicontrol">Value</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGVNZ" class="Table_Cell">Specifies the value of the request count beyond which the policy is violated.</div><div id="wwID0EMVNZ" class="Table_Cell">When multiple requests are made at the same time, it might be possible that this limit applied to trigger an alert is not strictly adhered to. There is no loss observed in the invocation counts data, but there might be a minor delay in aggregating the count. The invocation count gets incremented, only when API Gateway receives the response from the native API. For example, if you have set the limit at 5 with an interval alert of 1 minute and if you invoke 5 requests in parallel, out of which for 1 of the request the native API delays sending the response to API Gateway. In such cases, the invocation count would still be 4 as the native API is yet to send the response to API Gateway. There is a minor delay in aggregating the count due to native API response delay. Hence, API Gateway allows additional invocation. However, when the invocation count exceeds 5 an alert is triggered.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWVNZ" class="Table_Cell"><span class="uicontrol">Destination</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAWNZ" class="Table_Cell">Specifies the destination to log the alerts.</div><div id="wwID0EGWNZ" class="Table_Cell">Select the required options:</div><div id="wwID0ERWNZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">API Gateway</span></div><div id="wwID0EHXNZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">API Portal</span></div><div id="wwID0EQYNZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">CentraSite</span></div><div id="wwID0EFZNZ" class="Note_1"><span class="Bold">Note:<br /></span>Applicable only for the APIs published from <span class="ph">CentraSite</span> to <span class="ph">API Gateway</span>.</div><div id="wwID0EF1NZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Digital Events</span></div><div id="wwID0E21NZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Elasticsearch</span></div><div class="ww_skin_page_overflow"><div id="wwID0ER2NZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Email</span> (you can add multiple email addresses by clicking <img class="Default" src="../yai-webhelp/images/add_list.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 39px; max-width: 74px; top: 0pt" alt="" />).</div></div><div id="wwID0EQ3NZ" class="Note_1"><span class="Bold">Note:<br /></span>If an email alias is available, you can type the email alias in the <span class="uicontrol">Email Address</span> field with the following syntax, ${emailaliasname}. For example, if test is the email alias, then type ${test}.</div><div id="wwID0EM4NZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">JDBC</span></div><div id="wwID0EC5NZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Local Log</span>: You can select the severity of the messages to be logged (logging level) from the <span class="uicontrol">Log Level</span> drop-down list. The available log levels are ERROR, INFO, and WARN.</div><div id="wwID0E35NZ" class="Note_1"><span class="Bold">Note:</span>&nbsp;</div><div id="wwID0EX6NZ" class="List_2_-_Note_-_Note"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the Integration Server Administrator's logging level for <span class="ph">API Gateway</span> to match the logging levels specified for the run-time actions (go to <span class="uicontrol">Settings</span> &gt; <span class="uicontrol">Logging</span> &gt; <span class="uicontrol">Server Logger</span>). For example, if a Log Invocation action is set to the logging level of Error, you must also set Integration Server Administrator's logging level for <span class="ph">API Gateway</span> to Error. If the action's logging level is set to a low level (Warning-level or Information level), but Integration Server Administrator's logging level for <span class="ph">API Gateway</span> is set to a higher level (Error-level), then only the higher-level messages are written to the log file.</div><div id="wwID0ECBOZ" class="List_2_-_Note_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Entries posted to the local log are identified by a product code of YAI and suffixed with the initial alphabet of the logging level selected. For example, for an error level, the entry appears as [YAI.0900.0002E].</div><div id="wwID0EYBOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">SNMP</span></div><div id="wwID0EOCOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>List of destinations configured using the <span class="uicontrol">Custom destinations</span> section. For details on publishing to custom destinations, see 
    <a href="../yai-webhelp/ta-custom_destination_api_trafffic_monitoring.html#wwID0EC5NT"
   
     title="How Do I Publish API-specific Traffic Monitoring Data to a Custom Destination?"
    ><span class="ph_002c_heading-page">How Do I Publish API-specific Traffic Monitoring Data to a Custom
				Destination?</span></a>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZDOZ" class="Table_Cell"><span class="uicontrol">Alert Interval</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDEOZ" class="Table_Cell">Specifies the interval of time for the limit to be reached.</div><div id="wwID0EJEOZ" class="Table_Cell">The timer starts once the first API is activated and resets after the configured time interval. If an API is deactivated the interval gets reset, and on API activation the time interval starts afresh.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETEOZ" class="Table_Cell"><span class="uicontrol">Unit </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4EOZ" class="Table_Cell">Specifies the unit of measurement of the <span class="uicontrol">Alert Interval</span> configured, to monitor performance, before sending an alert. For example:</div><div id="wwID0ENFOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Minutes </span></div><div id="wwID0EEGOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Hours</span></div><div id="wwID0E2GOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Days</span></div><div id="wwID0ESHOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Calendar Week</span>. The time interval starts on the first day of the week and ends on the last day of the week. By default, the start day of the week is set to Monday.</div><div id="wwID0EJIOZ" class="List_1_Continued">For example:</div><div id="wwID0EUIOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If an API is activated on a Wednesday and <span class="uicontrol">Alert Interval</span> is set to <span class="userinput">1</span>, the time interval ends on Sunday, that is, 5 days.</div><div id="wwID0EPJOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If an API is activated on a Wednesday and <span class="uicontrol">Alert Interval</span> is set to <span class="userinput">2</span>, the time interval still ends on Sunday, but the period is two calendar weeks, that is 12 days.</div><div id="wwID0ELKOZ" class="List_1_Continued">You can change the start day of the week using the extended setting <span class="parmname">startDayOfTheWeek</span> in the <span class="uicontrol">Administration</span> &gt; <span class="uicontrol">General</span> &gt; <span class="uicontrol">Extended settings</span> section. Restart the API Gateway server for the changes to take effect.</div><div id="wwID0EDLOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Calendar Month</span>. The time interval starts on the first day of the month and ends on the last day of the month.</div><div id="wwID0E1LOZ" class="List_1_Continued">For example:</div><div id="wwID0EFMOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If an API is activated in the month of August and <span class="uicontrol">Alert Interval</span> is set to 1, the time interval ends on the last day of August.</div><div id="wwID0E3MOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If an API is activated in the month of August and <span class="uicontrol">Alert Interval</span> is set to 2, the time interval ends in two calendar months, that is on the last day of September.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2NOZ" class="Table_Cell"><span class="uicontrol">Alert Frequency</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFOOZ" class="Table_Cell">Specifies the frequency at which the alerts are issued and the monitor events are logged.</div><div id="wwID0ELOOZ" class="Table_Cell">Specify one of the options:</div><div id="wwID0EWOOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Only Once</span>. Triggers an alert every time the specified condition is violated and logs a monitor event for the alert interval specified.</div><div id="wwID0EMPOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Every Time</span>. Triggers an alert every time the specified condition is violated and logs multiple monitor events based on the number of API invocations.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJQOZ" class="Table_Cell"><span class="uicontrol">Alert Message</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETQOZ" class="Table_Cell">Specifies the text message to be included in the alert.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4QOZ" class="Table_Cell"><span class="uicontrol">Consumer-specific throttling </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHROZ" class="Table_Cell">Specifies whether the configured invocation limit has to apply to all consumer applications together or to each application individually.</div><div id="wwID0ESROZ" class="Note"><span class="Bold">Note:<br /></span>This field is applicable only when you select the required applications from the <span class="uicontrol">Consumer Applications</span> field.</div><div id="wwID0ENSOZ" class="Table_Cell">Possible values:</div><div id="wwID0EWSOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If this option is selected, each application specified in the <span class="uicontrol">Consumer Applications</span> field is allowed to invoke the API the specified number of times within the given time limit. For example, consider the following:</div><div id="wwID0ELTOZ" class="List_1_Continued">You have specified consumer applications <span class="emphasis">Consumer1</span> and <span class="emphasis">Consumer2</span> and you allow 100 invocations per minute.</div><div id="wwID0E2TOZ" class="List_1_Continued">Then, <span class="emphasis">Consumer1</span> can perform up to 100 invocations per minute and <span class="emphasis">Consumer2</span> as well can perform the same without policy violation.</div><div id="wwID0EMUOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If this option is not selected, the specified invocation limit is applied to all consumer applications together. For example, consider the following:</div><div id="wwID0E4UOZ" class="List_1_Continued">You have specified consumer applications <span class="emphasis">Consumer1</span> and <span class="emphasis">Consumer2</span> and you allow 100 invocations per minute.</div><div id="wwID0ENVOZ" class="List_1_Continued">Then, both consumer applications together can invoke the API for 100 times per minute without policy violation.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1VOZ" class="Table_Cell"><span class="uicontrol">Consumer Applications</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEWOZ" class="Table_Cell">Specifies the consumer applications for which the policy is applied. Do one of the following:</div><div id="wwID0EOWOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select the required consumer applications. Type a keyword to find the required application and click + to add it.</div><div id="wwID0E6WOZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select an option to apply the configured invocation limit:</div><div id="wwID0EUXOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">All consumers</span>. To apply the invocation limit to all consumers. All consumer applications - including the registered, global applications, and default applications - to invoke the API the specified number of times within the given time limit. That is, the specified invocation limit is shared by all consumer applications.</div><div id="wwID0EIYOZ" class="List_2_Continued">For example, if you specify <span class="userinput">1000</span> invocations per minute for an API, then the total number of invocations performed by all consumer applications in a minute cannot exceed 1000.</div><div id="wwID0ETYOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">All registered consumers</span>. To apply the invocation limit to all registered consumers. Allows all registered consumer applications to invoke the API the specified number of times within the given time limit. That is, the specified invocation limit is shared by all registered consumer applications. The registered consumer applications are the applications that are registered with API to which the policy is applied.</div><div id="wwID0EHZOZ" class="List_2_Continued">For example. if you specify <span class="userinput">1000</span> invocations per minute for an API, then the total number of invocations performed by all registered consumer applications in a minute cannot exceed 1000.</div><div id="wwID0ESZOZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">All non-registered consumers</span>. To apply the invocation limit to all non-registered consumers. Allows all non-registered consumer applications to invoke the API for the specified number of times within the given time limit. That is, the specified invocation limit is shared by all non-registered application. The non-registered applications are the applications that are not registered with the API to which the policy is applied.</div><div id="wwID0EG1OZ" class="List_2_Continued">For example, if you specify <span class="userinput">1000</span> invocations per minute for an API, then the total number of invocations performed by all non-registered consumer applications in a minute cannot exceed 1000.</div><div id="wwID0EP1OZ" class="Note_2"><span class="Bold">Note:<br /></span>You can invoke an API using a non-registered consumer application only if the <span class="userinput">Global applications</span> or <span class="userinput">Global applications and DefaultApplication</span> option is selected from the <span class="uicontrol">Application Lookup Control</span> field of the corresponding <span class="uicontrol">Identify &amp; Authorize</span> policy.</div><div id="wwID0EX2OZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Each consumer</span>. To apply the invocation limit to each consumer. Allows each consumer application to invoke the API the specified number of times within the given time limit. That is, the specified invocation limit is applicable individually for each consumer application.</div><div id="wwID0EL3OZ" class="List_2_Continued">For example, if you specify <span class="userinput">1000</span> invocations per minute for an API, then each consumer application can perform 1000 invocations in a minute</div><div id="wwID0EW3OZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Each registered consumer</span>. To apply the invocation limit to each registered consumer. Allows each registered consumer application to invoke the API the specified number of times within the given time limit. That is, the specified invocation limit is applicable individually for each registered consumer application.</div><div id="wwID0EK4OZ" class="List_2_Continued">For example, if you specify <span class="userinput">1000</span> invocations per minute, then each registered consumer application can perform 1000 invocations in a minute.</div><div id="wwID0EV4OZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Each non-registered consumer</span>. To apply the invocation limit to each non-registered consumer. Allows each non-registered consumer application to invoke the API the specified number of times within the given time limit. That is, the specified invocation limit is applicable individually for each non-registered consumer application.</div><div id="wwID0EJ5OZ" class="List_2_Continued">For example, if you specify <span class="userinput">1000</span> invocations per minute, then each non-registered consumer application can perform 1000 invocations in a minute.</div><div id="wwID0EV5OZ" class="List_1_Continued">The invocation limit applied to newly added applications depends on the application type. The time limit starts when the associated API is activated or the application is associated to the policy. For example, consider the following:</div><div id="wwID0E15OZ" class="List_1_Continued">API-level Traffic Optimization policy configured with invocation limit as <span class="userinput">500</span> for <span class="userinput">5 minutes</span>, for <span class="uicontrol">All registered consumers</span>. The available registered consumers are <span class="emphasis">Consumer1</span> and <span class="emphasis">Consumer2</span>.</div><div id="wwID0EW6OZ" class="List_1_Continued">When you activate the policy, the two consumers together perform 200 invocations in 2 minutes. Register a new consumer application, <span class="emphasis">Consumer3</span> to the list after 2 minutes from the start time. Then, all three consumers perform the remaining 300 invocations during the last 3 minutes without violating the policy.</div><div id="wwID0EBAPZ" class="List_1_Continued">Let us see one more example.</div><div id="wwID0EGAPZ" class="List_1_Continued">Global Traffic Optimization policy configured with invocation limit as <span class="userinput">100</span> for <span class="userinput">15 minutes</span>, for <span class="uicontrol">Each consumer</span>. The available consumers are <span class="emphasis">Consumer1</span> and <span class="emphasis">Consumer2</span>.</div><div id="wwID0ECBPZ" class="List_1_Continued">When you activate the policy, the each consumer performs 100 invocations in 10 minutes. Add a new consumer application, <span class="emphasis">Consumer3</span> to the list after 2 minutes from the start time. Then, the new consumer can also perform 100 invocations during the last 5 minutes without violating the policy.</div><div id="wwID0EPBPZ" class="Note"><span class="Bold">Note:<br /></span>If you select <span class="userinput">All consumers</span> or <span class="userinput">Each consumer</span> from this field and specify <span class="userinput">Registered applications</span> from the <span class="uicontrol">Application Lookup Control</span> field of the corresponding <span class="uicontrol">Identify &amp; Authorize</span> policy, then only the registered applications are allowed to invoke the API. In such scenarios, only the registered consumer applications can utilize the specified invocation limit.</div><div id="wwID0EYCPZ" class="Body_-_Note_-_not_first">You can invoke APIs using non-registered consumer applications only if the <span class="userinput">Global applications</span> or <span class="userinput">Global applications and DefaultApplication</span> option is selected from the <span class="uicontrol">Application Lookup Control</span> field of the corresponding <span class="uicontrol">Identify &amp; Authorize</span> policy.</div></td></tr></table></div><div id="wwID0E4DPZ" class="Section_Title">Traffic Optimization Policy Enforcement Scenarios</div><div id="wwID0ECEPZ" class="Body">You can enforce more than one Traffic Optimization policy for an API based on your requirement. This section lists a sample requirement scenario and the possible solution:</div><div id="wwID0EHEPZ" class="Body"><span class="inlinetitle">How do I?</span></div><div id="wwID0E1EPZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Allow 1000 invocation per minute for each registered consumer application.</div><div id="wwID0ELFPZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Allow 500 invocation for 15 minutes for all non-registered consumer applications.</div><div id="wwID0E5FPZ" class="Body"><span class="inlinetitle">Possible solution</span></div><div id="wwID0EIGPZ" class="Body">Create two Traffic Optimization policies with the following specifications</div><div id="wwID0EWGPZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Policy 1 </span></div><div id="wwID0EOHPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Value</span>. <span class="userinput">1000</span>.</div><div id="wwID0EGIPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert Interval</span>. <span class="userinput">1</span>.</div><div id="wwID0E5IPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert Frequency</span>. <span class="userinput">minute</span>.</div><div id="wwID0EWJPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Consumer Applications</span>. <span class="userinput">Each registered consumer</span>.</div><div id="wwID0E2KPZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Policy 2 </span></div><div id="wwID0ETLPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Value</span>. <span class="userinput">500</span>.</div><div id="wwID0ELMPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert Interval</span>. <span class="userinput">15</span>.</div><div id="wwID0EDNPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert Frequency</span>. <span class="userinput">minute</span>.</div><div id="wwID0E2NPZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Consumer Applications</span>. <span class="userinput">All non-registered consumers</span>.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>