<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Policies</title><link rel="Prev" href="ta-resume_application.html" title="Previous" /><link rel="Next" href="gtw_transport_policies.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/gtw_manage_policies.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN0OaD8MvWvX5WYv4GCfjk7Q" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/gtw_manage_policies.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.503.html#wwconnect_header">Using API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.535.html#wwconnect_header">Implement APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Policies</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E5IMX" class="Heading_2">Policies</div><div class="WebWorks_MiniTOC"><div class="WebWorks_MiniTOC_Heading">&nbsp;</div><dl class="WebWorks_MiniTOC_List"><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_transport_policies.html#wwconnect_header">Transport</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_iam_policies.html#wwconnect_header">Identify and Access</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_payload_request.html#wwconnect_header">Request Processing</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_routing_policies.html#wwconnect_header">Routing</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_lmt_policies.html#wwconnect_header">Traffic Monitoring</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_payload_response.html#wwconnect_header">Response Processing</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/gtw_error_handling.html#wwconnect_header">Error Handling</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/co-policies_evaluation_order.html#wwconnect_header">Policy Validation and Dependencies</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/co-variable_extraction.html#wwconnect_header">Variable Framework</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/co-custom_extension_overview.html#wwconnect_header">Custom Policy Extension</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/co-transformation_policy.html#wwconnect_header">Request and Response Transformation Policies</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/co-invoke_webmethods_is_policy.html#wwconnect_header">Invoke webMethods IS Policy</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/re-predefined_context_variables.html#wwconnect_header">System Context Variables</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/re-asset_context_variable_api.html#wwconnect_header">The API for Context Variables</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/ta-assign_policy_api.html#wwconnect_header">Assigning a Policy to an API</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/ta-view_policy_list_api.html#wwconnect_header">Viewing API Policy Details</a></div></dd><dd><div class="WebWorks_MiniTOC_Entry"><a class="WebWorks_MiniTOC_Link" href="../yai-webhelp/ta-modify_policy_api.html#wwconnect_header">Modifying API Policy Details</a></div></dd></dl></div><div id="wwID0EUJMX" class="Body"><span class="ph">API Gateway</span> provides a policy framework that enables you to program API behavior and implements specific limited management functions without writing any code. You can enforce a policy on an API to perform specific tasks, such as transport, security, logging, routing of requests to target services, and transformation of data from one format to another. You can also define a policy to evaluate and process the various API invocations at runtime. For example, a policy could instruct <span class="ph">API Gateway</span> to perform any of the following tasks and prevent malicious attacks:</div><div id="wwID0EGKMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Verify that the requests submitted to an API come from applications that are authenticated and authorized using the specified set of identifiers in the HTTP header to access and use the particular API.</div><div id="wwID0EZKMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Validate digital signatures in the security header of request and response messages.</div><div id="wwID0EMLMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Monitor a user-specified set of run-time performance conditions and limit the number of invocations during a specified time interval for a particular API and for applications, and send alerts to a specified destination when these performance conditions are violated.</div><div id="wwID0E6LMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Log the request and response messages, and the run-time performance measurements for APIs and applications.</div><div id="wwID0EUMMX" class="Body">You can enforce policies on an API at the following levels:</div><div id="wwID0E6MMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Global policy enforcement</span>: This enforcement applies globally to all APIs defined in <span class="ph">API Gateway</span>. For example, the threat protection policies can be enforced for all APIs to protect against malicious attacks. For more information about threat protection policies, see <span class="ph"> </span><span class="ph_002c_Citation">webMethods API Gateway Administration</span>
    <a href="../yai-webhelp/gtw_manage_threat_protection_policies.html#wwID0EPHZU"
   
     title="Threat Protection Policies"
    ><span class="ph_002c_heading-page">Threat Protection Policies</span></a>.</div><div id="wwID0ETOMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">API-level policy enforcement</span>. This enforcement applies to all resources and its nested methods of a REST API, or all operations of a SOAP API. These policies are further categorized into stages such as Transport, Identify and Access, Request and Response Processing, Routing, Error Handling, depending on their usage. For example, the Identify and access category of policies can be enforced on an API to specify the kind of identifiers that are used to identify the application and authorize it against all applications registered in <span class="ph">API Gateway</span>.</div><div id="wwID0EOPMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Scope-level policy enforcement</span></div><div id="wwID0EGQMX" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Resource-level policy enforcement</span>. Applicable only for REST APIs. This enforcement applies to one or more resources and its nested methods in the REST API.</div><div id="wwID0E4QMX" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Method-level policy enforcement</span>. Applicable only for REST APIs. This enforcement applies to one or more methods nested within a resource in the REST API.</div><div id="wwID0EURMX" class="List_2_Continued">-OR-</div><div id="wwID0EZRMX" class="List_2_Continued"><span class="inlinetitle">Operation-level policy enforcement</span>. Applicable only for SOAP APIs. This enforcement applies to one or more operations in the SOAP API.</div><div id="wwID0EISMX" class="Body"><span class="inlinetitle">How does the policy enforcement precedence work?</span></div><div id="wwID0ESSMX" class="Body">When you apply the policies both globally (through global policies) and directly (through API-level policies and scope-level policies) to an API, <span class="ph">API Gateway</span> determines the effective set of policies for that API by taking into account the precedence of policy enforcement at the API-level, the policy stages, the priority of policies, run-time constraints, and the status (activated or deactivated) of any applied global policy.</div><div id="wwID0E3SMX" class="Body">For example, consider an API is enforced with the identify and access policy at the following policy enforcement levels: global, API-level, and scope-level. The precedence of the policy enforcement that is effective for the API at runtime is as follows:</div><div id="wwID0EHTMX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Global policy enforcement</div><div id="wwID0E1TMX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Method-level policy enforcement or operation-level policy enforcement</div><div id="wwID0ENUMX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>Resource-level policy enforcement</div><div id="wwID0EAVMX" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>API-level policy enforcement</div><div id="wwID0EVVMX" class="Body">If the API has the identify and access policy applied both globally and at the API level, <span class="ph">API Gateway</span> does not show conflict. The identify and access policy applied through the global policy takes precedence and is processed at runtime.</div><div id="wwID0E6VMX" class="Body">Similarly for a REST API, identify and access policy is applied through a scope-level policy at the resource level and at the API level, the identify and access policy applied through the scope-level policy takes precedence and is processed at run-time.</div><div id="wwID0EEWMX" class="Body">When you apply a transport policy at the global level, the transport policy applied at the API level is in the disabled state. When you try deleting the API-level transport policy that is in the disabled state, an error displays and you are not allowed to delete this policy as the API-level transport policy is required and gets enforced when you deactivate the global policy.</div><div id="wwID0EQWMX" class="Section_Title">Variable framework</div><div id="wwID0EJWMX-2" class="Section">All types of variables such as request, response, custom, custom-context, and system context variables are handled through the common framework called variable framework. The variable framework in <span class="ph">API Gateway</span> provides an option to extract variable values that can be used across stages. For example, you can use the extracted variable to transform request and response contents such as headers, query parameters, path parameters payload, and so on as per your requirement. With the variable framework, you can normalize the syntax and create a common template for accessing the various variable types. For details about the variable syntaxes to use, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variable Framework</span></a>.</div><div id="wwID0EMXMX" class="Section_Title">Aliases</div><div id="wwID0ERXMX" class="Body">API Gateway provides the capability of using aliases. An alias holds stage-specific property values that can be be shared by multiple policy configurations. Aliases referenced by policy configurations are substituted during runtime. Changing an alias value affects all referencing policies. Aliases are referenced through a name therefore alias names have to be unique within an API Gateway. The corresponding alias value is substituted in place of an alias name during run-time. Thus the same alias can be referred to in multiple policies and the change in a particular alias would affect all the policy properties. For more details about aliases and how to use them, see 
    <a href="../yai-webhelp/gtw_manage_aliases.html#wwID0EEW21"
   
     title="Aliases"
    ><span class="heading-page"> Aliases</span></a>.</div><div id="wwID0EKYMX" class="Section_Title">Policy templates</div><div id="wwID0EPYMX" class="Body">API Gateway provides policy templates, which are a set of policies that can be associated directly with an individual API. Policy templates provide the flexibility to alter the policy's configurations to suit the individual API requirements. These policy templates apply at the API level, and can be customized to suit the needs of a particular API. For more details about policy templates and how to use them, see 
    <a href="../yai-webhelp/gtw_manage_policy_templates.html#wwID0EZWQ2"
   
     title="Policy Templates"
    ><span class="heading-page">Policy Templates</span></a>.</div><div id="wwID0EIZMX" class="Section_Title">Policy validation and dependencies</div><div id="wwID0ENZMX" class="Body">When you enforce a policy to govern an API at run-time, <span class="ph">API Gateway</span> validates the policies to ensure that:</div><div id="wwID0E3ZMX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Any policy (for example, Log Invocation) that can appear in an API multiple times is allowed to appear multiple times.</div><div id="wwID0EP1MX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>For policies (for example, Enable HTTP / HTTPS) that can appear only once in an API, <span class="ph">API Gateway</span> issues an error message.</div><div id="wwID0EG2MX" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>For policies (for example, Monitor SLA) that are dependent and use another policy in conjunction (for example, Identify &amp; Authorize) in an API, <span class="ph">API Gateway</span> prompts you with a warning message to include the dependent policy.</div><div id="wwID0E62MX" class="Body">When you save an API, <span class="ph">API Gateway</span> combines the policies from all the global and direct policies that apply to the API and generates what is called the <span class="emphasis">effective policy</span> for the API. For example, if your REST API is within the scope of two policies: one policy that performs a logging task and another policy that performs a security task and when you save the REST API, <span class="ph">API Gateway</span> automatically combines the two policies into one effective policy. The effective policy, which contains both the logging task and the security task, is the policy that <span class="ph">API Gateway</span> actually uses to publish the REST API.</div><div id="wwID0EW3MX" class="Body">When <span class="ph">API Gateway</span> generates the effective policy, it validates the resulting policy to ensure that it contains no conflicting or incompatible policies.</div><div class="ww_skin_page_overflow"><div id="wwID0EA4MX" class="Body">If the policy contains conflicts or inconsistencies, <span class="ph">API Gateway</span> computes the effective API policy according to policy resolution rules. For example, an effective API policy can include only one Identify &amp; Authorize policy. If the resulting policy list contains multiple Identify &amp; Authorize policies, <span class="ph">API Gateway</span> shows the conflict by including a Conflict (<img class="Default" src="../yai-webhelp/images/policy_conflict.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 15px; max-width: 15px; top: 0pt" alt="" />) icon next to the name of the conflicting policies in the effective policy. For details about policy validation and dependencies, see 
    <a href="../yai-webhelp/co-policies_evaluation_order.html#wwID0E6K5Z"
   
     title="Policy Validation and Dependencies"
    ><span class="heading-page">Policy Validation and Dependencies</span></a>.</div></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>