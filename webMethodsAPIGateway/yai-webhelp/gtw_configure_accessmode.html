<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring Access Mode for a Port</title><link rel="Prev" href="ta-deny_connections_from_specified_ip_hosts_for_individual_port.html" title="Previous" /><link rel="Next" href="gtw_configure_global_ip.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/gtw_configure_accessmode.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN32k3jei_002ff4WjgDAqWpHvPw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/gtw_configure_accessmode.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.303.html#wwconnect_header">Security Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_configure_ports.html#wwconnect_header">Ports</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Configuring Access Mode for a Port</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EMOHU" class="Heading_3">Configuring Access Mode for a Port</div><div id="wwID0EHPHU" class="Body">The access mode of a port determines whether APIs can be invoked through the port or not. This section explains the steps required to configure the access mode of ports.</div><div id="wwID0EMPHU" class="Body">You can either allow or deny the access of all APIs through a port. When you allow access of APIs using a port by default, you can specify a list of APIs that must be denied access over the port. Also, if you deny the access of APIs using a port, you can specify a list of APIs that can be allowed to access using the port. This configuration is applicable for REST, SOAP, and OData APIs.</div><div id="wwID0ERPHU" class="Body">To enable the individual access modes ensure that you have set the following parameters accordingly:</div><div id="wwID0E1PHU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="userinput">watt.server.portAccess.axis2 = true</span> for SOAP APIs</div><div id="wwID0EOQHU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="userinput">pg.security.honourPortAccessModeSettings = true</span> for REST and OData APIs</div><div id="wwID0EJRHU" class="Important"><span class="Bold">Important:<br /></span>When performing the following procedure, do not log into the server through the port you want to change, if you are selecting Deny by default. The procedure involves temporarily denying access to all APIs through the port. If you log on through the port you want to change and then deny access to all APIs through it, you will be locked out of the server. Instead, log on through a different existing port or create a new port to log on through.</div><div id="wwID0EBSHU" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To configure access mode for a port</div><div class="ww_skin_page_overflow"><div id="wwID0ELSHU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command">Expand the menu options icon <img class="Default" src="../yai-webhelp/images/menu_icon.jpg" width="100%" style="display: inline; float: none; left: 0pt; max-height: 25px; max-width: 21px; top: 0pt" alt="" />, in the title bar, and select </span><span class="Command_002c_uicontrol">Administration</span><span class="Command">. </span></div></div><div id="wwID0ETTHU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">Security &gt; Ports</span><span class="Command">. </span></div><div id="wwID0EQUHU" class="Step_Result_1">The ports page lists all the ports configured with <span class="ph">API Gateway</span>.</div><div id="wwID0E2UHU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command">Click the </span><span class="Command_002c_uicontrol">Accessmode</span><span class="Command"> button for the port that you want to configure the access mode. </span></div><div id="wwID0EYVHU" class="Step_Result_1">The options to configure the port access mode are displayed.</div><div id="wwID0E5VHU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">Select one of the following options: </span></div><div id="wwID0E4WHU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Allow by default</span>. To allow access of the port, by default.</div><div id="wwID0ERXHU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Deny by default</span>. To deny access of the port, by default.</div><div id="wwID0EHYHU" class="Step_Result_1">The port is enabled or denied for access by all APIs.</div><div id="wwID0ENYHU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Emphasis_002c_emphasis">Optional</span><span class="Emphasis">. Perform one of the following: </span></div><div id="wwID0ESZHU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If you have selected <span class="uicontrol">Allow by default</span>, provide the APIs for which you want to deny access through the port in the <span class="uicontrol">Add APIs to Deny List</span> field and click <span class="uicontrol">+ Add</span>. Repeat this step to add the required APIs to the list. You can also edit or delete the entered values by clicking the respective action next to the required value.</div><div id="wwID0EP1HU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If you have selected <span class="uicontrol">Deny by default</span>, provide the APIs for which you want to allow access through the port in the <span class="uicontrol">Add APIs to Allow List</span> field and click <span class="uicontrol">+ Add</span>. Repeat this step to add the required APIs to the list. You can also edit or delete the entered values by clicking the respective action next to the required value.</div><div id="wwID0EN2HU" class="Body_1">To allow or deny access of all versions of an API through a port, specify the API in the following format:</div><div id="wwID0EW2HU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="userinput">apiName</span> or <span class="userinput">apiName/</span> - For REST and OData APIs</div><div id="wwID0EO3HU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Not possible - For SOAP APIs</div><div id="wwID0EB4HU" class="Body_1">To allow or deny access of a particular version of an API through a port, specify the API in the following format:</div><div id="wwID0EK4HU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="userinput">apiName/version</span> or <span class="userinput">apiName/version/</span> - For REST and OData APIs</div><div id="wwID0EC5HU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="userinput">/ws/apiName/version</span> - For SOAP APIs</div><div id="wwID0EB4HU-2" class="Body_1">For example, if you select <span class="uicontrol">Allow by default</span> and provide <span class="emphasis">calc/1.0/</span> in <span class="uicontrol">Add APIs and services to Deny List</span>, then the <span class="emphasis">1.0</span> version of the API <span class="emphasis">Calc</span> is denied to access through the port.</div><div id="wwID0EP6HU" class="Body_1">If you specify an API in the <span class="userinput">apiName/version/</span> or <span class="userinput">/ws/apiname/version/</span> format, then you must invoke the API using the <span class="codeph">protocol://host:port/ws/apiname/version/</span> format.</div><div id="wwID0EBAIU" class="Body_1">The API names along with their version numbers specified in the <span class="uicontrol">Allow</span> and <span class="uicontrol">Deny</span> lists must exactly match the required API names.</div><div id="wwID0EUAIU" class="Note_1"><span class="Bold">Note:<br /></span>Even if an API has custom endpoints, you must provide the apiName and not the custom endpoint paths in the <span class="uicontrol">Allow</span> and <span class="uicontrol">Deny</span> lists.</div><div id="wwID0EVBIU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>6. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Save</span><span class="Command">. </span></div><div id="wwID0ESCIU" class="Step_Result_1">The changes are saved.</div><div id="wwID0EXCIU" class="Note_1"><span class="Bold">Note:<br /></span>To enforce this configuration on REST and OData APIs, when accessed through the HTTP and HTTPS ports, set the value of the <span class="uicontrol">pg.security.honourPortAccessModeSettings</span> extended setting as <span class="emphasis">true</span>. To enforce this configuration on SOAP APIs, set the <span class="uicontrol">watt.server.portAccess.axis2</span> setting as <span class="emphasis">true</span>. For information on configuring an extended setting, see 
    <a href="../yai-webhelp/gtw_configure_extended_settings.html#wwID0ESVOR"
   
     title="Configuring Extended Settings"
    ><span class="heading-page">Configuring Extended Settings</span></a>.</div><div id="wwID0ESEIU" class="Body"><span class="inlinetitle">API Gateway services to be exposed for API Portal and client communication </span></div><div id="wwID0E3EIU" class="Body">If you have configured port access restrictions to allow access only to the APIs hosted on the API Gateway (say with /gateway/, /ws/ , and so on), then ensure that you also provide access to the following APIs in case the APIs are protected by security policies such as OAuth, OpenId or JWT. Allowing access to these endpoints is important for API Portal and API consumers to access API Gateway to retrieve the tokens.</div><div id="wwID0EFFIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.oauth2:getAccessToken</div><div id="wwID0EWFIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>secure.apigateway.oauth2:approve</div><div id="wwID0EHGIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.oauth2:authorize</div><div id="wwID0EYGIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.oauth2:authorize</div><div id="wwID0EJHIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.openid:getOpenIDToken</div><div id="wwID0E1HIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.openid:openIDCallback</div><div id="wwID0ELIIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.jwt:getJsonWebToken</div><div id="wwID0E3IIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.jwt:certs</div><div id="wwID0ENJIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.jwt:configuration</div><div id="wwID0E5JIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.jwt:thirdPartyConfiguration</div><div id="wwID0EQKIU" class="Body">Additionally, the following REST API endpoints are exposed by <span class="ph">API Gateway</span>, which are required from the API Portal to access <span class="ph">API Gateway</span>. This is to ensure that while you only allow required REST API endpoints, API Portal functionalities continue to work without any impact.</div><div id="wwID0E5KIU" class="Body">API Portal invokes the following two internal APIs of <span class="ph">API Gateway</span>:</div><div id="wwID0EMLIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Token request endpoint (apigateway.accesstokens)</div><div id="wwID0E4LIU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>JWT request endpoint (apigateway.jwt:getJsonWebToken)</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>