<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Product Configurations Guidelines</title><link rel="Prev" href="co-logging_guidelines.html" title="Previous" /><link rel="Next" href="ta-changing_jvm_heap_size.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/co-configuration_guidelines.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="prQrlNZKNN1qoYEywMv33EA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/co-configuration_guidelines.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.440.html#wwconnect_header">Performance Tuning and Scaling</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/co-product_configurations.html#wwconnect_header">Hardware and Product Configurations</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Product Configurations Guidelines</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E3Z3V" class="Heading_3">Product Configurations Guidelines</div><div id="wwID0EE13V" class="Body">This section provides <span class="ph">Software&nbsp;AG</span> guidelines for configuring the following components of <span class="ph">API Gateway</span>: API Gateway server, API Data Store (Elasticsearch), Kibana, and Terracotta. These recommendations should be considered as a guideline for setting the configurations to meet the throughput values specified in the table. You can modify the configurations according to your business requirements.</div><div id="wwID0EZ13V" class="Section_Title">API Gateway Configurations</div><div id="wwID0E513V" class="Body">You must have the API Gateway's manage user administration functional privilege assigned to configure the watt parameters in API Gateway UI. You can configure the watt parameters in the Watt keys section under <span class="inlinetitle">API Gateway UI</span> &gt; <span class="inlinetitle">Administration</span> &gt; <span class="inlinetitle">General</span> &gt; <span class="inlinetitle"> Extended settings</span> &gt; <span class="inlinetitle"> Show and hide keys</span> by providing the recommended values. For more information about the extended settings, see 
    <a href="../yai-webhelp/gtw_configure_extended_settings.html#wwID0ESVOR"
   
     title="Configuring Extended Settings"
    ><span class="heading-page">Configuring Extended Settings</span></a>.</div><div id="wwID0EI33V" class="Body">Following is the list of WATT properties that you can alter by changing the default value with the recommended value that <span class="ph">Software&nbsp;AG</span> suggests for an optimal performance of API Gateway:</div><div id="wwID0E133V" class="Definition_Term">watt.server.threadPool</div><div id="wwID0E633V" class="Definition_Description">Specifies the maximum number of threads that the server maintains in the thread pool that it uses to run services. If this maximum number is reached, the server waits until services complete and return threads to the pool before running more services.</div><div id="wwID0EE43V" class="Definition_Description">Recommended value: 600</div><div id="wwID0EP43V" class="Definition_Term">watt.server.threadPoolMin</div><div id="wwID0EU43V" class="Definition_Description">Specifies the minimum number of threads that the server maintains in the thread pool that it uses to run services. When the server starts, the thread pool initially contains this minimum number of threads. The server adds threads to the pool as needed until it reaches the maximum allowed, which is specified by the watt.server.threadPool setting.</div><div id="wwID0EZ43V" class="Definition_Description">Recommended value: 200</div><div id="wwID0EE53V" class="Definition_Term">watt.server.control.serverThreadThreshold</div><div id="wwID0EJ53V" class="Definition_Description">Specifies the threshold at which <span class="ph">API Gateway</span> starts to warn of insufficient available threads. When the percentage of available server threads goes below the value of this property, <span class="ph">API Gateway</span> generates a journal log message indicating the current available thread percentage stating "Available Thread Warning Threshold Exceeded." When you receive this message in the journal log, you can adjust the thread usage to make server threads available.</div><div id="wwID0EW53V" class="Definition_Description">Recommended value: 20%</div><div id="wwID0EB63V" class="Definition_Term">watt.server.clientTimeout</div><div id="wwID0EG63V" class="Definition_Description">Specifies the amount of time in minutes after which an idle user session times out.</div><div id="wwID0EL63V" class="Definition_Description">Recommended value: 75</div><div id="wwID0EW63V" class="Definition_Term">watt.server.serverlogFilesToKeep</div><div id="wwID0E263V" class="Definition_Description">Specifies the number of server log files that <span class="ph">API Gateway</span> keeps on the file system, including the current server log file. When <span class="ph">API Gateway</span> reaches the limit for the number of server log files, <span class="ph">API Gateway</span> deletes the oldest archived server log file each time <span class="ph">API Gateway</span> rotates the server log. If you set watt.server.log.filesToKeep to 1, <span class="ph">API Gateway</span> keeps the current server.log file and no previous server.log files. When <span class="ph">API Gateway</span> rotates the server.log, <span class="ph">API Gateway</span> does not create an archive file for the previous server log. If you set watt.server.log.filesToKeep to 0, or any value less than 1, <span class="ph">API Gateway</span> keeps an unlimited number of server log files.</div><div id="wwID0EAB4V" class="Definition_Description">Recommended value: 100</div><div id="wwID0EFB4V" class="Important_1"><span class="Bold">Important:<br /></span>If you change the setting of this parameter, you must restart <span class="ph">API Gateway</span> for the changes to take effect.</div><div id="wwID0EGC4V" class="Definition_Term">watt.server.serverlogRotateSize</div><div id="wwID0ELC4V" class="Definition_Description">Specifies the file size at which <span class="ph">API Gateway</span> rolls over the server.log file. Set this property to N[KB|MB|GB], where N is any valid integer. The minimum size at which <span class="ph">API Gateway</span> rotates the server.log file is 33KB. If you use KB as the unit of measure, you must set N to a value greater than or equal to 33. If you do not specify a unit of measure, <span class="ph">API Gateway</span> treats the supplied N value as bytes. In this case, N must be greater than or equal to 32768 to take effect. Do not include any spaces between the integer and the unit of measure.</div><div id="wwID0E3C4V" class="Definition_Description">Recommended value: 10 MB</div><div id="wwID0EHD4V" class="Definition_Term">watt.server.audit.logFilesToKeep</div><div id="wwID0EMD4V" class="Definition_Description">Specifies the number of audit log files, including the current log file for the audit logger, that <span class="ph">API Gateway</span> keeps on the file system for an audit logger that writes to a file. When <span class="ph">API Gateway</span> reaches the limit for the number of log files for the audit logger, each time <span class="ph">API Gateway</span> rotates the audit log, <span class="ph">API Gateway</span> deletes the oldest archived audit log file. If you set watt.server.audit.log.filesToKeep to 1, <span class="ph">API Gateway</span> keeps the current audit log file and no previous audit log files for each file-system based audit logger. That is, when <span class="ph">API Gateway</span> rotates the audit log for a logger, <span class="ph">API Gateway</span> does not create an archive file for the previous audit log. If you set watt.server.audit.logFilesToKeep to 0, or any value less than 1, <span class="ph">API Gateway</span> keeps an unlimited number of audit log files.</div><div id="wwID0ERE4V" class="Definition_Description">Recommended value: 100</div><div id="wwID0EWE4V" class="Definition_Description">The watt.server.audit.logFilesToKeep parameter affects only the audit loggers configured to write to a file. The parameter does not affect audit loggers configured to write to a database nor does it affect the FailedAuditLog.</div><div id="wwID0E2E4V" class="Definition_Description">If you reduce the number of logs that <span class="ph">API Gateway</span> keeps for file-based audit logs and then restart <span class="ph">API Gateway</span>, the existing audit logs will not be pruned until <span class="ph">API Gateway</span> writes to the audit log. For example, if the error logger writes to a file and you reduce the number of log files to keep from 10 to 6, <span class="ph">API Gateway</span> does not delete the 4 oldest error audit log files immediately after start up. <span class="ph">API Gateway</span> deletes the 4 oldest error audit logs after the error logger writes to the error audit log.</div><div id="wwID0EVF4V" class="Important_1"><span class="Bold">Important:<br /></span>If you change the setting of this parameter, you must restart <span class="ph">API Gateway</span> for the changes to take effect.</div><div id="wwID0EWG4V" class="Definition_Term">watt.server.audit.logRotateSize</div><div id="wwID0E2G4V" class="Definition_Description">Specifies the file size at which <span class="ph">API Gateway</span> rolls over the audit log for a logger that writes to a file. Set this property to N[KB|MB|GB], where N is any valid integer. The minimum size at which <span class="ph">API Gateway</span> rotates an audit log is 33KB. If you use KB as the unit of measure, you must set N to a value greater than or equal to 33. If you do not specify a unit of measure, <span class="ph">API Gateway</span> treats the supplied N value as bytes. In this case, N must be greater than or equal to 32768 to take effect. Do not include any spaces between the integer and the unit of measure.</div><div id="wwID0EMH4V" class="Definition_Description">Recommended value: 10MB</div><div id="wwID0ERH4V" class="Definition_Description">The watt.server.audit.logRotateSize parameter affects only the audit loggers configured to write to a file. The parameter does not affect audit loggers configured to write to a database.</div><div id="wwID0E2H4V" class="Important_1"><span class="Bold">Important:<br /></span>If you change the setting of this parameter, you must restart <span class="ph">API Gateway</span> for the changes to take effect.</div><div id="wwID0E4I4V" class="Definition_Term">watt.net.maxClientKeepaliveConns</div><div id="wwID0ECJ4V" class="Definition_Description">Sets the default number of client keep alive connections to retain for a given target endpoint.</div><div id="wwID0EHJ4V" class="Definition_Description">The default is 0, which indicates that <span class="ph">API Gateway</span> does not retain client keep aliveconnections for a target endpoint. <span class="ph">API Gateway</span> creates a new socket for each request.</div><div id="wwID0EVJ4V" class="Definition_Description">Recommended value: 500</div><div id="wwID0E1J4V" class="Definition_Description">This benefits in situations where the frequency and number of concurrent requests to a given target endpoint are high. In situations where this is not the case, idle sockets will become stale and inoperable, resulting in unexpected exceptions such as the following:</div><div id="wwID0E6J4V" class="Definition_Description"><span class="codeph">[ISC.0077.9998E] Exception --&gt; org.apache.axis2.AxisFault: Broken pipe</span></div><div id="wwID0EOK4V" class="Definition_Term">watt.server.revInvoke.proxyMapUserCerts</div><div id="wwID0ETK4V" class="Definition_Description">Specifies whether an <span class="ph">API Gateway</span> server is to perform client authentication itself in addition to passing authentication information to the Internal Server for processing.</div><div id="wwID0E3K4V" class="Definition_Description">Recommended value: true</div><div id="wwID0EBL4V" class="Definition_Description">If it is set to true, <span class="ph">API Gateway</span> rejects all anonymous requests (no certificate and no username or password supplied), even if the request is for an unprotected service on the Internal Server.</div><div id="wwID0ERL4V" class="Definition_Term">watt.security.ssl.cacheClientSessions</div><div id="wwID0EWL4V" class="Definition_Description">Controls whether <span class="ph">API Gateway</span> reuses previous SSL session information (for example, client certificates) for connections to the same client.</div><div id="wwID0E6L4V" class="Definition_Description">Recommended value: true</div><div id="wwID0EEM4V" class="Definition_Description">When this property is set to true, <span class="ph">API Gateway</span> caches and reuses SSL session information. For example, set this property to true when there are repeated HTTPS requests from the same client.</div><div id="wwID0EUM4V" class="Definition_Term">watt.security.ssl.client.ignoreEmptyAuthoritiesList</div><div id="wwID0EZM4V" class="Definition_Description">Specifies whether an <span class="ph">API Gateway</span> acting as a client sends its certificate chain after a remote SSL server returns an empty list of trusted authorities. When set to true, <span class="ph">API Gateway</span> disregards the empty trusted authorities list and sends its chain anyway. When set to false, before sending out its certificate chain, <span class="ph">API Gateway</span> requires the presentation of trusted authorities list that proves itself trusted.</div><div id="wwID0EKN4V" class="Definition_Description">Recommended value: true</div><div id="wwID0EVN4V" class="Definition_Term">watt.server.url.alias.partialMatching</div><div id="wwID0E1N4V" class="Definition_Description">Specifies whether <span class="ph">API Gateway</span> enables partial matching on URL aliases. If you set this server configuration parameter to true and define a URL alias in <span class="ph">API Gateway</span> Administrator, <span class="ph">API Gateway</span> enables partial matching on URL aliases.</div><div id="wwID0ELO4V" class="Definition_Description">Recommended value: true</div><div id="wwID0EQO4V" class="Definition_Description">When partial matching is enabled, <span class="ph">API Gateway</span> considers an alias a match if the entire alias matches all or part of the request URL, starting with the first character of the request URL path.</div><div id="wwID0E6O4V" class="Important_1"><span class="Bold">Important:<br /></span>If you change the setting of this parameter, you must restart <span class="ph">API Gateway</span> for the changes to take effect.</div><div id="wwID0EBQ4V" class="Definition_Term">watt.net.clientKeepaliveUsageLimit</div><div id="wwID0EGQ4V" class="Definition_Description">Specifies the maximum number of usages for a socket in a client connection pool. Before returning a socket to the pool, <span class="ph">API Gateway</span> compares the number of times the socket has been used to send a request to the watt.net.clientKeepaliveUsageLimit value. If the socket usage count is greater than the watt.net.clientKeepaliveUsageLimit value, then Integration Server does not return the socket to the pool. Instead, <span class="ph">API Gateway</span> closes the socket. If a new socket is needed in the pool, <span class="ph">API Gateway</span> creates one.</div><div id="wwID0EXQ4V" class="Definition_Description">Recommended value: 10000000 uses</div><div id="wwID0EBR4V" class="Note_1"><span class="Bold">Note:<br /></span>Even if the number of connection usages is less than the watt.net.clientKeepaliveUsageLimit parameter, <span class="ph">API Gateway</span> closes the connection if the connection has exceeded the age limit set by the watt.net.clientKeepaliveAgingLimit server configuration parameter.</div><div id="wwID0E1R4V" class="Body_1_-_Note_-_not_first">The watt.net.clientKeepaliveUsageLimit parameter applies only if watt.net.maxClientKeepaliveConns is set to a value greater than 0.</div><div id="wwID0EGS4V" class="Important_1"><span class="Bold">Important:<br /></span>If you change the setting of this parameter, you must restart <span class="ph">API Gateway</span> for the changes to take effect.</div><div id="wwID0EIT4V" class="Definition_Term">watt.server.rg.internalsocket.timeout</div><div id="wwID0ENT4V" class="Definition_Description">Specifies the length of time, in milliseconds, that <span class="ph">API Gateway</span> server allows a client request to wait for a connection to the Internal Server before terminating the request with an HTTP 500 Internal Server Error. If a connection to the Internal Server becomes available within the specified timeout period, Enterprise Gateway Server forwards the request to the Internal Server. If a connection does not become available before the timeout elapses, <span class="ph">API Gateway</span> returns a HTTP 500-Internal Server Error to the requesting client and writes the following message to the error log: <span class="emphasis">Enterprise Gateway port {port_number} is unable to forward the request to Internal Server because there are no Internal Server connections available</span>. This is applicable for paired deployment with reverse invoke setup.</div><div id="wwID0E6T4V" class="Definition_Description">Recommended value: 300 ms</div><div id="wwID0EKU4V" class="Definition_Term">watt.server.enterprisegateway.ignoreXForwardedForHeader</div><div id="wwID0EPU4V" class="Definition_Description">Specifies whether <span class="ph">API Gateway</span> must ignore the X-Forwarded-For request header while processing the rules in <span class="ph">API Gateway</span> server. If this property is set to true, then <span class="ph">API Gateway</span> ignores the X-Forwarded-For request header and considers the proxy server's IP address as the host IP address. If the property is set to false, then <span class="ph">API Gateway</span> obtains the actual host IP address from the X-Forwarded-For request header. This is applicable for paired deployment with reverse invoke setup.</div><div id="wwID0EEV4V" class="Definition_Description">Recommended value: false</div><div id="wwID0EUV4V" class="Section_Title">API Gateway Extended Settings</div><div id="wwID0EZV4V" class="Body">Software AG recommends the following configurations for the Extended settings. You can configure the extended settings under <span class="inlinetitle">API Gateway UI</span> &gt; <span class="inlinetitle">Administration </span> &gt; <span class="inlinetitle">General</span> &gt; <span class="inlinetitle">Extended settings</span> &gt; <span class="inlinetitle">Show and hide keys</span> by providing the recommended values. For more information about the extended settings, see 
    <a href="../yai-webhelp/gtw_configure_extended_settings.html#wwID0ESVOR"
   
     title="Configuring Extended Settings"
    ><span class="heading-page">Configuring Extended Settings</span></a>.</div><div id="wwID0ELX4V" class="Definition_Term">portClusteringEnabled</div><div id="wwID0EQX4V" class="Definition_Description">By default, API Gateway provides synchronization of the port configuration across API Gateway cluster nodes. If you do not want the ports to be synchronized across API Gateway cluster nodes, set the portClusteringEnabled parameter to false.</div><div id="wwID0EVX4V" class="Definition_Description">Recommended value: false</div><div id="wwID0E1X4V" class="Definition_Description">For more details about Ports Configuration, see 
    <a href="../yai-webhelp/co-ports_configuration.html#wwID0EHQCM"
   
     title="Ports Configuration"
    ><span class="heading-page">Ports Configuration</span></a>.</div><div id="wwID0ERY4V" class="Definition_Term">eventsRefreshInterval</div><div id="wwID0EWY4V" class="Definition_Description">Specifies the frequency at which Elasticsearch should refresh its own indices. In Elasticsearch, an operation that updates the data, which is visible in search is called a refresh. Any document that is modified or inserted appears in search operations only after the index is refreshed. Specifying a lesser value to this parameter overloads Elasticsearch with frequent indexing when there is a large volume of data. Henceforth, it is recommended to specify a higher value to this parameter.</div><div id="wwID0EAZ4V" class="Note_1"><span class="Bold">Note:<br /></span>In <span class="ph">API Gateway</span>, this property is only for the analytics indices and core data changes are refreshed every 1 second by default.</div><div id="wwID0E2Z4V" class="Definition_Description">Recommended value: 10s</div><div id="wwID0EG14V" class="Definition_Term">events.collectionPool.maxThreads</div><div id="wwID0EL14V" class="Definition_Description">Specifies the maximum number of threads to be used for the event data collection pool.</div><div id="wwID0EQ14V" class="Definition_Description">Recommended value: 40</div><div id="wwID0E214V" class="Definition_Term">events.collectionPool.minThreads</div><div id="wwID0EA24V" class="Definition_Description">Specifies the minimum number of threads to be used for the event data collection pool.</div><div id="wwID0EF24V" class="Definition_Description">Recommended value: 2</div><div id="wwID0EQ24V" class="Definition_Term">events.collectionQueue.size</div><div id="wwID0EV24V" class="Definition_Description">Specifies the size of the collection queue to be used during event data collection. When events like transaction, error events, and performance metrics are generated during API invocations, they are put in the collection queue for further processing. Each thread in the collection pool is assigned a task of collecting these events and processing them for sending to the desired destinations such as API Gateway, Elasticsearch, API Portal, and so on.</div><div id="wwID0E124V" class="Definition_Description">If the queue capacity is reached, then any additional event data would be lost. To avoid the loss of data, it is recommended to increase this size when there is an increase in incoming traffic. You should choose the value based on the payload size of the transactions as queue size and payload size determine the memory occupied by the queue.</div><div id="wwID0EF34V" class="Definition_Term">events.reportingPool.maxThreads</div><div id="wwID0EP34V" class="Definition_Description">Specifies the maximum number of threads to be used for the event data reporting pool.</div><div id="wwID0EU34V" class="Definition_Description">Recommended value: 24</div><div id="wwID0E634V" class="Definition_Term">events.reportingPool.minThreads</div><div id="wwID0EJ44V" class="Definition_Description">Specifies the minimum number of threads to be used for the event data reporting pool.</div><div id="wwID0EO44V" class="Definition_Description">Recommended value: 4</div><div id="wwID0EZ44V" class="Definition_Term">events.reportingQueue.size</div><div id="wwID0E544V" class="Definition_Description">Specifies the size of the reporting queue to be used during event data reporting. When events like transaction, error events, and performance metrics are generated during API invocations, they are put in the collection queue for further processing. Each thread in the collection pool is assigned a task of collecting these events, processing them and put in the reporting queue for sending to the desired destinations such as API Gateway, Elasticsearch, API Portal, and so on.</div><div id="wwID0ED54V" class="Definition_Description">If the reporting queue capacity is reached, then any additional event data would be lost. To avoid the loss of data, it is recommended to increase this size when there is an increase in incoming traffic. You should choose the value based on the payload size of the transactions as queue size and payload size determine the memory occupied by the queue.</div><div id="wwID0ET54V" class="Section_Title">Terracotta Configurations</div><div id="wwID0EY54V" class="Body">See 
    <a href="../yai-webhelp/co-terracotta_server_array_configuration.html#wwID0EYHBM"
   
     title="Terracotta Server Array Configuration"
    ><span class="heading-page">Terracotta Server Array Configuration</span></a> and set the configurations accordingly.</div><div id="wwID0ER64V" class="Section_Title">API Data Store (Elasticsearch) Configurations</div><div id="wwID0EW64V" class="Body">This section explains the API Data Store configurations. As part of API Data Store configurations, this section covers the connection properties:</div><div id="wwID0E264V" class="Body"><span class="uicontrol">Connection properties</span></div><div id="wwID0EEA5V" class="Body">This section explains the configurations that are required to make API Gateway connect to desired Elasticsearch cluster located at <span class="filepath_002c_varname">SAGInstallDirectory</span><span class="filepath">\IntegrationServer\instances\</span><span class="filepath_002c_varname">instance_name</span><span class="filepath">\Packages\WmAPIGateway\config\resources\elasticsearch\config.properties</span>. You must change the configurations of the following properties and tune it as per the following guidelines. You can modify the configurations according to your business requirements.</div><div id="wwID0E1A5V" class="Preformatted"><br />pg.gateway.elasticsearch.hosts = Elasticsearch Service endpoint, that is localhost:9240<br />pg.gateway.elasticsearch.http.connectionTimeout = 10000<br />pg.gateway.elasticsearch.http.socketTimeout = 30000<br />pg.gateway.elasticsearch.sniff.enable = false<br />pg.gateway.elasticsearch.http.maxRetryTimeout = 100000</div><div id="wwID0EFB5V" class="Note"><span class="Bold">Note:<br /></span>This can be done through externalized configurations also. A default template is located in <span class="filepath_002c_varname">SAGInstallDirectory</span><span class="filepath">\IntegrationServer\instances\packages\WmAPIGateway\resources\configuration folder</span>. Ensure to add the desired settings in system-settings.yml file. After adding the desired settings, you have to enable the file config-sources.yml by uncommenting the appropriate lines in the file for API Gateway to know that this is the configuration file. For more information about externalized configurations, see 
    <a href="../yai-webhelp/co-externalizing_configurations_overview.html#wwID0E5TKM"
   
     title="Externalizing Configurations"
    ><span class="heading-page">Externalizing Configurations </span></a>.</div><div id="wwID0EZC5V" class="Section_Title">Kibana Configurations</div><div id="wwID0E5C5V" class="Body">This section explains the configuration changes for Kibana in kibana.yml file located at <span class="filepath_002c_varname">SAGInstallDirectory</span><span class="filepath">\profiles\IS_</span><span class="filepath_002c_varname">instance_name</span><span class="filepath">\apigateway\dashboard\config</span>or <span class="filepath_002c_varname">Kibana_InstallDirectory</span><span class="filepath">\config</span>. You must change the configurations of the following properties and tune it as per the following guidelines. You can modify the configurations according to your business requirements.</div><div id="wwID0EGE5V" class="Definition_Term">elasticsearch.requestTimeout property</div><div id="wwID0ELE5V" class="Definition_Description">This property specifies Kibana’s wait time to receive a response from Elastic Search, in seconds, for retries after which it times out.</div><div id="wwID0EQE5V" class="Definition_Description">Recommended value: 90 seconds</div><div id="wwID0E2E5V" class="Definition_Term">elasticsearch.hosts</div><div id="wwID0EAF5V" class="Definition_Description">Specifies the URLs of the Elasticsearch instance to use for all your queries.</div><div id="wwID0EFF5V" class="Definition_Description">[http://<span class="varname">hostname</span>:<span class="varname">port</span>]</div><div id="wwID0EVF5V" class="Definition_Description">For example,</div><div id="wwID0E1F5V" class="Preformatted_1">elasticsearch.hosts: ["http://localhost:9240"]</div><div id="wwID0EHG5V" class="Definition_Term">telemetry.enabled</div><div id="wwID0EMG5V" class="Definition_Description">Disables the telemetry data being sent to Elasticsearch server.</div><div id="wwID0ERG5V" class="Definition_Description">Recommended value: <span class="userinput">false</span></div><div id="wwID0E2G5V" class="Definition_Description">For more details about Kibana configurations, see 
    <a href="../yai-webhelp/co-connect_external_kibana.html#wwID0EN3JM"
   
     title="Connecting to an External Kibana"
    ><span class="heading-page"> Connecting to an External Kibana</span></a>.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>