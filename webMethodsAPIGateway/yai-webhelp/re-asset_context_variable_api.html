<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>The API for Context Variables</title><link rel="Prev" href="re-predefined_context_variables.html" title="Previous" /><link rel="Next" href="ta-assign_policy_api.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/re-asset_context_variable_api.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="py6A8kGAiQlpThsF_002fQ_002fJrGg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/re-asset_context_variable_api.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.503.html#wwconnect_header">Using API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.535.html#wwconnect_header">Implement APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_manage_policies.html#wwconnect_header">Policies</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">The API for Context Variables</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0ERAY1" class="Heading_3">The API for Context Variables</div><div id="wwID0EABY1" class="Body"><span class="ph">API Gateway</span> provides an IS service that you can use to:</div><div id="wwID0EQBY1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set, get, declare, and remove custom context variables.</div><div id="wwID0EDCY1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set and get the predefined system context variables. (It is not allowed to declare or remove the predefined system context variables.)</div><div id="wwID0EXCY1" class="Body"><span class="ph">API Gateway</span> provides the following JAVA services, which are defined in the class ISMediatorRuntimeFacade.java:</div><div id="wwID0EHDY1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.ctxvar:getContextVariable</div><div id="wwID0E1DY1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.ctxvar:setContextVariable</div><div id="wwID0ENEY1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.ctxvar:declareContextVariable</div><div id="wwID0EAFY1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>pub.apigateway.ctxvar:removeContextVariable</div><div id="wwID0E3FY1" class="Section_Title">pub.apigateway.ctxvar:getContextVariable</div><div id="wwID0EBGY1" class="Body">Use this JAVA service to retrieve a context variable’s value and assign it to a pipeline variable. All parameter names are case-sensitive.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 16%"><div id="wwID0EPHY1" class="Table_Cell_Head">Parameter</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 9%"><div id="wwID0EVHY1" class="Table_Cell_Head">Pipeline Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 10.5%"><div id="wwID0E2HY1" class="Table_Cell_Head">Data Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 32.8%"><div id="wwID0EBIY1" class="Table_Cell_Head">Description</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 31.5%"><div id="wwID0EHIY1" class="Table_Cell_Head">Examples</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUIY1" class="Table_Cell">MessageContext</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1IY1" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAJY1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGJY1" class="Table_Cell">This object is inserted into the pipeline by <span class="ph">API Gateway</span>.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERJY1" class="Table_Cell">N/A</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2JY1" class="Table_Cell">varName</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBKY1" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHKY1" class="Table_Cell">String</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENKY1" class="Table_Cell">Context variable name (system or custom).</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZKY1" class="Table_Cell">For system context variable, use just the variable name to get its value. For example, <span class="codeph">PROTOCOL_HEADERS</span>.</div><div id="wwID0EDLY1" class="Table_Cell">For custom context variable, use the prefix "<span class="inlinetitle">mx:</span>" with the variable name to get its value. For example, <span class="codeph">mx:CUSTOM_VAR</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXLY1" class="Table_Cell">serValue</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4LY1" class="Table_Cell">out</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDMY1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJMY1" class="Table_Cell">Java.io.serializable value. (Usually a string).</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td></tr></table></div><div id="wwID0EZMY1" class="Body">The table lists the predefined system context variables and its syntax used to get system context variables using <span class="codeph">pub.apigateway.ctxvar:getContextVariable</span>.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 27.4%"><div id="wwID0ECOY1" class="Table_Cell_Head">System Context Variable Name</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 33.2%"><div id="wwID0EIOY1" class="Table_Cell_Head">ctxVar IS Service Syntax</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 39.2%"><div id="wwID0EOOY1" class="Table_Cell_Head">Set or Get Supported</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2OY1" class="Table_Cell"><span class="userinput">User</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFPY1" class="Table_Cell">USER</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELPY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVPY1" class="Table_Cell"><span class="userinput">Inbound HTTP method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6PY1" class="Table_Cell">INBOUND_HTTP_METHOD</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFQY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPQY1" class="Table_Cell"><span class="userinput">Routing method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZQY1" class="Table_Cell">ROUTING_METHOD</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6QY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJRY1" class="Table_Cell"><span class="userinput">Inbound content type</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETRY1" class="Table_Cell">MESSAGE_TYPE</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZRY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDSY1" class="Table_Cell"><span class="userinput">Inbound accept</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENSY1" class="Table_Cell">BUILDER_TYPE</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETSY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4SY1" class="Table_Cell"><span class="userinput">Inbound protocol</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHTY1" class="Table_Cell">INBOUND_PROTOCOL</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENTY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXTY1" class="Table_Cell"><span class="userinput">Inbound request URI</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBUY1" class="Table_Cell">INBOUND_REQUEST_URI</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHUY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERUY1" class="Table_Cell"><span class="userinput">Inbound IP</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2UY1" class="Table_Cell">INBOUND_IP</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBVY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELVY1" class="Table_Cell"><span class="userinput">Gateway hostname</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVVY1" class="Table_Cell">MEDIATOR_HOSTNAME</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2VY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFWY1" class="Table_Cell"><span class="userinput">Gateway IP</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPWY1" class="Table_Cell">MEDIATOR_IP</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVWY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6WY1" class="Table_Cell"><span class="userinput">Operation name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJXY1" class="Table_Cell">OPERATION</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPXY1" class="Table_Cell">Supports get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZXY1" class="Table_Cell"><span class="userinput">Native Endpoint</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDYY1" class="Table_Cell">NATIVE_ENDPOINT</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJYY1" class="Table_Cell">Supports get</div><div id="wwID0EUYY1" class="Note"><span class="Bold">Note:<br /></span>This variable returns native endpoint value, only after Routing policy gets executed.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQZY1" class="Table_Cell"><span class="userinput">Protocol headers</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1ZY1" class="Table_Cell">PROTOCOL_HEADERS[xxx]</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EA1Y1" class="Table_Cell">Supports set and get</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EK1Y1" class="Table_Cell"><span class="userinput">SOAP headers</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EU1Y1" class="Table_Cell">SOAP_HEADERS[xxx]</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E11Y1" class="Table_Cell">Supports set and get</div></td></tr></table></div><div id="wwID0EE2Y1" class="Body"><span class="inlinetitle">Notes on getting and setting the PROTOCOL_HEADERS</span></div><div id="wwID0EO2Y1" class="Body">All context variable values are typed as either <span class="userinput">string</span> or <span class="userinput">int</span> except for the predefined context variables, PROTOCOL_HEADERS, which is of the type <span class="userinput">IData</span>. You can set or get value for PROTOCOL_HEADERS in one of the following ways:</div><div id="wwID0EG3Y1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">set or get the entire structure.</span></div><div id="wwID0E53Y1" class="List_1_Continued">To set the entire structure, you must:</div><div id="wwID0EJ4Y1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="parmname">varName</span> parameter in <span class="codeph">pub.apigateway.ctxvar:setContextVariable</span> to <span class="codeph">PROTOCOL_HEADERS</span>.</div><div id="wwID0EJ5Y1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Use the method <span class="codeph">ISMediatorRuntimeFacade.setContextVariableValue()</span>.</div><div id="wwID0EB6Y1" class="List_1_Continued">To get the entire structure, you must:</div><div id="wwID0EM6Y1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="parmname">varName</span> parameter in <span class="codeph">pub.apigateway.ctxvar:getContextVariable</span> to <span class="codeph">PROTOCOL_HEADERS</span>.</div><div id="wwID0EMAZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Use the method <span class="codeph">ISMediatorRuntimeFacade.getContextVariableValue()</span>.</div><div id="wwID0EEBZ1" class="List_1_Continued">If the varName is set to PROTOCOL_HEADERS, you get or set the entire IData structure containing all of the transport headers. The key is the transport header name (for example, Content-Type) and the value is a String. The IData object for PROTOCOL_HEADERS contains a set of string values where each IData string key matches the header name in the transport headers map. The set of possible keys includes the HTTP v1.1 set of headers as well as any custom key-value pairs you might have defined.</div><div id="wwID0EJBZ1" class="List_1_Continued">Alternatively, you can set the varName parameter to address a specific element in the array. For example, setting it to PROTOCOL_HEADERS[Content-Type] would apply to the Content-Type transport header.</div><div id="wwID0EPBZ1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">set or get a nested value.</span></div><div id="wwID0EHCZ1" class="List_1_Continued">Set a nested value in one of the following ways:</div><div id="wwID0ESCZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="parmname">varName</span> parameter in <span class="codeph">pub.apigateway.ctxvar:setContextVariable</span> to <span class="codeph">PROTOCOL_HEADERS[</span><span class="codeph_002c_varname">arrayElement</span><span class="codeph">]</span>, where <span class="codeph">[</span><span class="codeph_002c_varname">arrayElement</span><span class="codeph">]</span> refers to a specific element. For example, <span class="codeph">PROTOCOL_HEADERS[Content-Type]</span> (to indicate the first array element in the set).</div><div id="wwID0EIEZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Alternatively, use the method <span class="codeph">ISMediatorRuntimeFacade.setContextVariableValue()</span>. Use this method only if you are writing a JAVA service and you want to access it through the JAVA source code.</div><div id="wwID0EAFZ1" class="List_1_Continued">Get a nested value in one of the following ways:</div><div id="wwID0ELFZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="parmname">varName</span> parameter in <span class="codeph">pub.apigateway.ctxvar:getContextVariable</span> to <span class="codeph">PROTOCOL_HEADERS[</span><span class="codeph_002c_varname">arrayElement</span><span class="codeph">]</span>, where <span class="codeph">[</span><span class="codeph_002c_varname">arrayElement</span><span class="codeph">]</span> refers to a specific element. For example, <span class="codeph">PROTOCOL_HEADERS[Content-Type]</span> (to indicate the first array element in the set).</div><div id="wwID0EBHZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Alternatively, use the method <span class="codeph">ISMediatorRuntimeFacade.getContextVariableValue()</span>. Use this method only if you are writing a JAVA service and you want to access it through the JAVA source code.</div><div id="wwID0EZHZ1" class="List_1_Continued">You can set or get a nested value inside PROTOCOL_HEADERS through an additional keyName. In this case, the object reference is <span class="emphasis">not</span> an IData object. For PROTOCOL_HEADERS, the keyName must match the transport header name in a case-sensitive manner (for example, <span class="codeph">PROTOCOL_HEADERS[Content-Type]</span> or <span class="codeph">PROTOCOL_HEADERS[Authorization]</span>). In this case, the Serializable value will be a string.</div><div id="wwID0EWIZ1" class="Section_Title">pub.apigateway.ctxvar:setContextVariable</div><div id="wwID0E2IZ1" class="Body">Use this JAVA service to set a value on a context variable. The pipeline variable containing the context variable value should be an object reference that implements java.io.Serializable. All parameter names are case-sensitive.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 15.4%"><div id="wwID0EJKZ1" class="Table_Cell_Head">Parameter</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 8.4%"><div id="wwID0EPKZ1" class="Table_Cell_Head">Pipeline Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 12.2%"><div id="wwID0EVKZ1" class="Table_Cell_Head">Data Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 27.5%"><div id="wwID0E2KZ1" class="Table_Cell_Head">Description</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 36.3%"><div id="wwID0EBLZ1" class="Table_Cell_Head">Examples</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOLZ1" class="Table_Cell">MessageContext</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EULZ1" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1LZ1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAMZ1" class="Table_Cell">This object is inserted into the pipeline by <span class="ph">API Gateway</span>.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELMZ1" class="Table_Cell">N/A</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVMZ1" class="Table_Cell">varName</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2MZ1" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBNZ1" class="Table_Cell">String</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHNZ1" class="Table_Cell">Context variable name (predefined or custom).</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETNZ1" class="Table_Cell"><span class="codeph">PROTOCOL_HEADERS</span></div><div id="wwID0E3NZ1" class="Table_Cell"><span class="codeph">mx:CUSTOM_VAR</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKOZ1" class="Table_Cell">serValue</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQOZ1" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWOZ1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3OZ1" class="Table_Cell">Java.io.serializable value. (Usually a string).</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td></tr></table></div><div id="wwID0EVPZ1" class="Section_Title">pub.apigateway.ctxvar:declareContextVariable</div><div id="wwID0E1PZ1" class="Body">Use this JAVA service to declare a <span class="emphasis">custom</span> context variable. All custom-defined context variables must be declared in a custom namespace that is identified by using the prefix <span class="codeph">mx</span> (for example, <span class="codeph">mx:CUSTOM_VARIABLE</span>). All parameter names are case-sensitive.</div><div id="wwID0ENQZ1" class="Note"><span class="Bold">Note:<br /></span>It is not legal to use this service to declare the predefined context variables; you can only declare custom variables.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 14.2%"><div id="wwID0EHSZ1" class="Table_Cell_Head">Parameter</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 9.8%"><div id="wwID0ENSZ1" class="Table_Cell_Head">Pipeline Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 13.7%"><div id="wwID0ETSZ1" class="Table_Cell_Head">Data Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 62.1%"><div id="wwID0EZSZ1" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGTZ1" class="Table_Cell">ctxVar</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENTZ1" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUTZ1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2TZ1" class="Table_Cell">The document type defining the context variable object. Use the ctxVar Document Type provided in the JAVA service pub.apigateway.ctxvar:ctxVar and map it to this input variable. Define the name (for example, mx:CUSTOM_VARIABLE), the schema_type (string or int), and isReadOnly (true or false).</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGUZ1" class="Table_Cell">ctxVar</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENUZ1" class="Table_Cell">out</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUUZ1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2UZ1" class="Table_Cell">The set Context variable document type.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGVZ1" class="Table_Cell">varNameQ</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMVZ1" class="Table_Cell">out</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESVZ1" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYVZ1" class="Table_Cell">javax.xml.namespace.QName value. The QName of the variable.</div></td></tr></table></div><div id="wwID0ECWZ1" class="Body">Note the following:</div><div id="wwID0ENWZ1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>After declaring the context variable, you can use the setContext variable to set a value on the context variable.</div><div id="wwID0EAXZ1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>You do <span class="emphasis">not</span> need to declare the following kinds of context variables:</div><div id="wwID0E4XZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The predefined context variables provided by <span class="ph">API Gateway</span>. If you attempt to declare an existing predefined context variable, an error will occur.</div><div id="wwID0EUYZ1" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Any custom context variable that you define in a routing rule that you create in the conditional routing step.</div><div id="wwID0EJZZ1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Any custom context variables that you explicitly declare in source code using the API will have a declaration scope of SESSION.</div><div id="wwID0E3ZZ1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Any custom context variable's state that is defined during the inbound request processing steps will still be available during the outbound response processing steps.</div><div id="wwID0EP1Z1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>All context variable values are typed as either <span class="userinput">string</span> or <span class="userinput">int</span> (excluding the PROTOCOL_HEADERS variables, which are of the type <span class="userinput">IData</span>).</div><div id="wwID0EO2Z1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Valid names should be upper case (by convention) and must be a valid JAVA Identifier. In general, use alpha-numerics, $ or _ symbols to construct these context names. Names with punctuation, whitespace or other characters will be considered invalid and will fail deployment.</div><div id="wwID0EB3Z1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>All custom context variables must be declared in a custom namespace that is identified by using an <span class="codeph">mx</span> prefix (for example, <span class="codeph">mx:CUSTOM_VARIABLE</span>).</div><div id="wwID0E33Z1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>To reference a custom context variable in a flat string, you need to prepend a $ symbol to the context variable name to indicate that variable’s value should be referenced. Think of this usage as being similar to the <span class="userinput">&amp;</span> address operation for C variables.</div><div id="wwID0ET4Z1" class="List_1_Continued">An expression that references a custom context variable might look like this:</div><div id="wwID0EY4Z1" class="List_1_Continued"><span class="codeph">$mx:TAXID=1234</span> or <span class="codeph">$mx:ORDER_SYSTEM_NAME="Pluto"</span></div><div id="wwID0EG5Z1" class="List_1_Continued">Notice that the values of the data type “int” are not enclosed in quotation marks, while the values of the data type “string” are. The quotation marks are only needed if a context variable <span class="emphasis">expression</span> (as opposed to a reference) is defined.</div><div id="wwID0ES5Z1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Referencing an undefined context variable does not result in an error.</div><div id="wwID0EF6Z1" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Once a variable has been declared it cannot be declared again.</div><div id="wwID0EBA11" class="Section_Title">pub.apigateway.ctxvar:removeContextVariable</div><div id="wwID0EGA11" class="Body">Use this JAVA service to remove a <span class="emphasis">custom</span> context variable from a request or response session. All parameter names are case-sensitive.</div><div id="wwID0ERA11" class="Note"><span class="Bold">Note:<br /></span>Keep the following points in mind:</div><div id="wwID0EMB11" class="List_1_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>It is not legal to use this service to remove any predefined context variables; you can only remove custom variables.</div><div id="wwID0E6B11" class="List_1_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Attempting to remove a non-existent context variable will <span class="emphasis">not</span> result in an error.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 16.4%"><div id="wwID0ECE11" class="Table_Cell_Head">Parameter</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 9.6%"><div id="wwID0EIE11" class="Table_Cell_Head">Pipeline Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 12.4%"><div id="wwID0EOE11" class="Table_Cell_Head">Data Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 32.8%"><div id="wwID0EUE11" class="Table_Cell_Head">Description</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 28.5%"><div id="wwID0E1E11" class="Table_Cell_Head">Examples</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHF11" class="Table_Cell">MessageContext</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOF11" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVF11" class="Table_Cell">Object ref</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3F11" class="Table_Cell">This object is inserted into the pipeline by <span class="ph">API Gateway</span>.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIG11" class="Table_Cell">N/A</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETG11" class="Table_Cell">varName</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZG11" class="Table_Cell">in</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6G11" class="Table_Cell">String</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFH11" class="Table_Cell">Custom context variable name.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELH11" class="Table_Cell"><span class="codeph">mx:CUSTOM_VAR</span></div></td></tr></table></div><div id="wwID0ECI11" class="Section_Title">Sample Flow Service: Getting a Context Variable Value</div><div id="wwID0EHI11" class="Body">This flow service sets the value of a custom context variable to be used in a response.</div><div id="wwID0EMI11" class="Body">This flow service declares a pipeline variable named <span class="parmname">customName</span>, which is set to the value <span class="codeph">mx:COMP_TEST</span>.</div><div id="wwID0E2I11" class="Body">This flow service will retrieve the context variable for <span class="codeph">customName</span> and create an element for its context variable value in the response message return to the consumer.</div><div id="wwID0EMJ11" class="Figure_Title">Step 1. Declaring customName</div><div class="ww_skin_page_overflow"><div id="wwID0EFJ11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar05.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 715px; max-width: 661px; top: 0pt" alt="" /></div></div><div id="wwID0E4J11" class="Body">You can define the <span class="codeph">customName</span> variable value to be <span class="codeph">mx:COMP_TEST</span> so you can use this variable to lookup the custom variable name that was seeded in the previous example.</div><div id="wwID0ESK11" class="Figure_Title">Step 2. Setting customName to mx:COMP_TEST</div><div class="ww_skin_page_overflow"><div id="wwID0ELK11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar06.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 687px; max-width: 673px; top: 0pt" alt="" /></div></div><div id="wwID0EDL11" class="Body">Clicking on the <span class="codeph">customName</span> pipeline variable displays the name.</div><div id="wwID0EUL11" class="Figure_Title">Step 3. Displaying the value of customName</div><div class="ww_skin_page_overflow"><div id="wwID0ENL11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar07.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 571px; max-width: 732px; top: 0pt" alt="" /></div></div><div id="wwID0EFM11" class="Body">The call to <span class="codeph">pub.mediator.ctxvar:getContextVariable</span> retrieves the value of the custom context variable from the context variable map.</div><div id="wwID0EWM11" class="Figure_Title">Step 4. Calling meditor.ctxvar:getContextVariable</div><div class="ww_skin_page_overflow"><div id="wwID0EPM11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar08.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 711px; max-width: 743px; top: 0pt" alt="" /></div></div><div id="wwID0EHN11" class="Body">This is just a sample JAVA service that takes the context variable and creates a top-level element in the response message using the same name and value.</div><div id="wwID0ETN11" class="Figure_Title">Step 5. Sample service using the context variable</div><div class="ww_skin_page_overflow"><div id="wwID0EMN11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar09.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 682px; max-width: 745px; top: 0pt" alt="" /></div></div><div id="wwID0EMO11" class="Section_Title">Sample Flow Service: Setting a Context Variable Value</div><div id="wwID0ERO11" class="Body">This flow service sets the value of a custom context variable to be used in a response.</div><div id="wwID0EWO11" class="Body">This flow service declares a pipeline variable named <span class="parmname">customName</span>, which is set to the value <span class="codeph">mx:COMP_TEST</span>.</div><div id="wwID0EFP11" class="Body">This flow service retrieves the context variable for <span class="codeph">customName</span> and create an element for its context variable value in the response message return to the consumer.</div><div id="wwID0EWP11" class="Figure_Title">Step 1. Declaring customName</div><div class="ww_skin_page_overflow"><div id="wwID0EPP11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar05.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 715px; max-width: 661px; top: 0pt" alt="" /></div></div><div id="wwID0EHQ11" class="Body">You define the <span class="codeph">customName</span> variable value to be <span class="codeph">mx:COMP_TEST</span> so you can use this variable to lookup the custom variable name that was seeded in the previous example.</div><div id="wwID0E3Q11" class="Figure_Title">Step 2. Setting customName to mx:COMP_TEST</div><div class="ww_skin_page_overflow"><div id="wwID0EVQ11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar06.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 687px; max-width: 673px; top: 0pt" alt="" /></div></div><div id="wwID0ENR11" class="Body">Clicking on the <span class="codeph">customName</span> pipeline variable displays the name.</div><div id="wwID0E5R11" class="Figure_Title">Step 3. Displaying the value of customName</div><div class="ww_skin_page_overflow"><div id="wwID0EXR11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar07.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 571px; max-width: 732px; top: 0pt" alt="" /></div></div><div id="wwID0EPS11" class="Body">The call to <span class="codeph">pub.mediator.ctxvar:getContextVariable</span> retrieves the value of the custom context variable from the context variable map.</div><div id="wwID0EAT11" class="Figure_Title">Step 4. Calling meditor.ctxvar:getContextVariable</div><div class="ww_skin_page_overflow"><div id="wwID0EZS11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar08.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 711px; max-width: 743px; top: 0pt" alt="" /></div></div><div id="wwID0ERT11" class="Body">This is just a sample JAVA service that takes the context variable and creates a top-level element in the response message using the same name and value.</div><div id="wwID0E4T11" class="Figure_Title">Step 5. Sample service using the context variable</div><div class="ww_skin_page_overflow"><div id="wwID0EWT11-2" class="Figure"><img class="ScaleFit" src="../yai-webhelp/images/rtg_scrn_CtxVar09.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 682px; max-width: 745px; top: 0pt" alt="" /></div></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>