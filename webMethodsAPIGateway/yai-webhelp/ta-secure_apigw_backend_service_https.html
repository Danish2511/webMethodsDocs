<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>How Do I Secure API Gateway Server Communication with Backend Services?</title><link rel="Prev" href="ta-secure_apigw_server_https.html" title="Previous" /><link rel="Next" href="ta-secure_apigw_ui_https.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/ta-secure_apigw_backend_service_https.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pbVSbynreQRtwqTb8WeXhSA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/ta-secure_apigw_backend_service_https.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.303.html#wwconnect_header">Security Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/co-full_https_configuration.html#wwconnect_header">Securing API Gateway Communication using TLS</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">How Do I Secure API Gateway Server Communication with Backend Services?</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EBIAV" class="Heading_3">How Do I Secure API Gateway Server Communication with Backend Services?</div><div id="wwID0EQIAV" class="Body">Secure <span class="ph">API Gateway</span> server to enable secure communication with the backend services over HTTPS.</div><div id="wwID0E1IAV" class="Body">You must have API Gateway administrator privileges to perform this operation.</div><div id="wwID0EHJAV" class="Section_Title">To configure <span class="ph">API Gateway</span> server for secure communication with Backend Services</div><div id="wwID0EXJAV" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Locate the keystore and truststore files in the file system.</div><div id="wwID0EKKAV" class="Numbered_1_Continued">The default keystore and truststore files are available in the <span class="filepath_002c_varname">Installation_Dir</span><span class="filepath">\common\conf</span> folder.</div><div id="wwID0E1KAV" class="Note_1"><span class="Bold">Note:<br /></span>If you want to use a custom keystore with self-signed certificates, see 
    <a href="../yai-webhelp/ta-create_truststore_self_signed_certificates.html#wwID0EADFV"
   
     title="Creating a Custom Keystore with Self-Signed Certificates"
    ><span class="heading-page">Creating a Custom Keystore with Self-Signed Certificates</span></a> for details on how to create a keystore and generate the required self-signed certificate.</div><div id="wwID0E3LAV" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Configure keystore and truststore in the <span class="ph">API Gateway</span> UI.</div><div id="wwID0ETMAV" class="Numbered_1_Continued">You require a keystore alias for configuring an HTTPS port in API Gateway. You require the truststore alias for validating backend service certificates.</div><div id="wwID0E5MAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>a. </span></span>Log on to <span class="ph">API Gateway</span>.</div><div id="wwID0EVNAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>b. </span></span>Navigate to <span class="uicontrol">Administration &gt; Security &gt; Keystore/Truststore</span>.</div><div id="wwID0EMOAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>c. </span></span>Click <span class="uicontrol">Add keystore</span>.</div><div id="wwID0EDPAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>d. </span></span>Provide the following details:</div><div id="wwID0E3PAV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alias</span>. A text identifier for the keystore file. The alias name can contain only alphabets, numbers and underscores. It cannot include a space, hyphen, and special characters.</div><div id="wwID0ESQAV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Select file</span>. Browse and select the file https_keystore.jks file located at <span class="filepath_002c_varname">Installation_Dir</span><span class="filepath">\common\conf</span>.</div><div id="wwID0ESRAV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Password</span>. Specify the password for the saved keystore file associated with this alias.</div><div id="wwID0EISAV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Type</span>. Specify the certificate file format of the keystore file, which, by default, is JKS for keystores.</div><div class="ww_skin_page_overflow"><div id="wwID0E6SAV" class="Figure_2"><img class="ScaleFit" src="../yai-webhelp/images/https_config_apigwserver_6.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 556px; max-width: 642px; top: 0pt" alt="" /></div></div><div id="wwID0ESTAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>e. </span></span>Click <span class="uicontrol">OK</span>.</div><div id="wwID0EJUAV" class="Numbered_2_Continued">A warning appears, prompting you to create a password for the key alias.</div><div id="wwID0EPUAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>f. </span></span>Close the warning dialog box.</div><div id="wwID0ECVAV" class="Numbered_2_Continued">The <span class="wintitle">Update keystore</span> dialog box appears.</div><div id="wwID0EOVAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>g. </span></span>Provide the password for the https_keystore file, for example, <span class="userinput">manage</span>.</div><div class="ww_skin_page_overflow"><div id="wwID0EFWAV" class="Figure_2"><img class="ScaleFit" src="../yai-webhelp/images/https_config_apigwserver_7.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 556px; max-width: 1172px; top: 0pt" alt="" /></div></div><div id="wwID0EYWAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>h. </span></span>Click <span class="uicontrol">Save</span>.</div><div id="wwID0EPXAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>i. </span></span>Click <span class="uicontrol">Add truststore</span>.</div><div id="wwID0EGYAV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>j. </span></span>Provide the following details.</div><div id="wwID0E6YAV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Name</span>. A name for the truststore file.</div><div id="wwID0EVZAV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Upload truststore file</span>. Browse and select the https_truststore.jks file located at <span class="filepath_002c_varname">Installation_Dir</span><span class="filepath">\common\conf</span>.</div><div id="wwID0EV1AV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Password</span>. Specify the password that is used to protect the contents of the truststore, for example, <span class="userinput">manage</span>.</div><div class="ww_skin_page_overflow"><div id="wwID0EQ2AV" class="Figure_2"><img class="ScaleFit" src="../yai-webhelp/images/https_config_apigwserver_8.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 321px; max-width: 600px; top: 0pt" alt="" /></div></div><div id="wwID0EE3AV" class="Numbered_2"><span class="WebWorks_Number" style="width: 18pt"><span>k. </span></span>Click <span class="uicontrol">Save</span>.</div><div id="wwID0E43AV" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>To communicate securely with the backend services you have to configure the keystore and truststore settings for outbound connections. This can be configured in one of the following ways:</div><div id="wwID0EU4AV" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Globally, you can configure the keystore and truststore settings for outbound connections in <span class="uicontrol">Administration</span> &gt; <span class="uicontrol">Security configuration</span> section as follows:</div><div id="wwID0EQ5AV" class="Numbered_3"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Navigate to <span class="uicontrol">Administration &gt; Security &gt; Keystore/Truststore</span>.</div><div id="wwID0EF6AV" class="Numbered_3"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>In the Configure keystore and truststore settings for outbound connections section, provide the keystore and truststore aliases for securing outgoing SSL connections. The keystore and key alias are required for outgoing two-way SSL connections.</div><div class="ww_skin_page_overflow"><div id="wwID0EW6AV" class="Figure_3"><img class="ScaleFit" src="../yai-webhelp/images/https_config_apigwserver_9_a.png" width="100%" style="display: block; float: none; left: 0pt; max-height: 165px; max-width: 853px; top: 0pt" alt="" /></div></div><div id="wwID0EUBBV" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>At an API-level, you can configure the keystore and truststore in the following ways:</div><div id="wwID0EICBV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Through an endpoint alias configured in the routing policy:</div><div id="wwID0E3CBV" class="Numbered_4"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Create an endpoint alias where you specify the default URI, and the keystore and truststore for the backend service. For details about creating an endpoint alias, see 
    <a href="../yai-webhelp/ta-alias_add_endpoint.html#wwID0EFQ31"
   
     title="Creating an Endpoint Alias"
    ><span class="ph_002c_heading-page">Creating an Endpoint Alias</span></a>.</div><div id="wwID0E4DBV" class="Numbered_4"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Specify the endpoint alias in the <span class="uicontrol">Endpoint URI</span> field in the routing policy properties section when you configure the policy. For details, see 
    <a href="../yai-webhelp/gtw_routing_policies.html#wwID0E4H1Y"
   
     title="Routing"
    ><span class="ph_002c_heading-page">Routing</span></a>.</div><div id="wwID0EEFBV" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Through a routing policy by specifying the URI of the backend service endpoint, and the keystore and truststore. For details, see 
    <a href="../yai-webhelp/gtw_routing_policies.html#wwID0E4H1Y"
   
     title="Routing"
    ><span class="ph_002c_heading-page">Routing</span></a>.</div><div id="wwID0EIGBV" class="Note_1"><span class="Bold">Note:<br /></span>The global keystore and truststore configuration is the default configuration that applies for all APIs if there is no keystore or truststore configured through an endpoint alias or a routing policy at an API-level.</div><div id="wwID0EAHBV" class="Body">You now have a secure communication channel established between the <span class="ph">API Gateway</span> server and the backend services.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>