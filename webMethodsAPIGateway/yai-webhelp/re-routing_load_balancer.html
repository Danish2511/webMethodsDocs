<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Load Balancer Routing</title><link rel="Prev" href="re-routing_dynamic.html" title="Previous" /><link rel="Next" href="re-routing_outboundauth_message.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/re-routing_load_balancer.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pOS0EAYoKdF8ymppjf2AGLQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/re-routing_load_balancer.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.503.html#wwconnect_header">Using API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.535.html#wwconnect_header">Implement APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_manage_policies.html#wwconnect_header">Policies</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_routing_policies.html#wwconnect_header">Routing</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Load Balancer Routing</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EQSEZ" class="Heading_4">Load Balancer Routing</div><div id="wwID0E6SEZ" class="Body">If you have an API that is hosted at two or more endpoints, you can use the load balancing option to distribute requests among the endpoints. Requests are distributed across multiple endpoints. The requests are routed based on the round-robin strategy. The load for a service is balanced by directing requests to two or more services in a pool, until the optimum level is achieved. The application routes requests to services in the pool sequentially, starting from the first to the last service without considering the individual performance of the services. After the requests have been forwarded to all the services in the pool, the first service is chosen for the next loop of forwarding.</div><div id="wwID0EETEZ" class="Body">If the entry protocol is HTTP or HTTPS, you can select the Load Balancer routing.</div><div id="wwID0EJTEZ" class="Body">The table lists the properties that you can specify for this policy:</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 30.9%"><div id="wwID0EIUEZ" class="Table_Cell_Head">Property</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 69%"><div id="wwID0EOUEZ" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0E2UEZ" class="Table_Cell"><span class="uicontrol">Route To</span>. Specifies the URLs of two or more native services in a pool to which the requests are routed.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELVEZ" class="Table_Cell"><span class="uicontrol">Endpoint URI</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVVEZ" class="Table_Cell">Specifies the URI of the native API endpoint to route the request to in case all routing rules evaluate to False. Service registries that have been added to the API Gateway instance are also included in the list.</div><div id="wwID0E2VEZ" class="Table_Cell">If you choose a service registry, API Gateway sends a request to the service registry to discover the IP address and port at which the native service is running. API Gateway replaces the service registry alias in the <span class="uicontrol">Endpoint URI</span> with the IP address and port returned by the service registry.</div><div id="wwID0EFWEZ" class="Table_Cell">For example, if your service is hosted at the URL: <span class="codeph">http://host:port/abc/</span>, you need to configure the Endpoint URI as: <span class="codeph">http://${ServiceRegistryName}/abc/</span>.</div><div id="wwID0ETWEZ" class="Table_Cell">As this property supports variable framework, you can make use of the available variables. For example, you can configure the endpoint URI using hard coded URL, simple alias, endpoint alias, and variable syntax or any of these combination. If you define the endpoint URI as <span class="codeph">http://${myAliasHost}:${request.headers.nativeport}/${sys:resource-path}</span>, where the <span class="codeph">${myAliasHost}</span> variable syntax is used to define the simple alias and the <span class="codeph">${request.headers.nativeport}</span> variable syntax is used to define the native port based on the request.</div><div id="wwID0EFXEZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div><div id="wwID0E1XEZ" class="Note"><span class="Bold">Note:<br /></span>If you use endpoint alias, make sure the endpoint alias is created before you define it in the policy. For example, if you define ${alias} syntax in the policy before creating the <span class="userinput">alias</span> as endpoint alias, <span class="ph">API Gateway</span> considers ${alias} as custom variable or simple alias and tries to resolve against those. So in that case, after creating endpoint alias you have to edit and save the API or policy to associate ${alias} syntax with the endpoint alias.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4YEZ" class="Table_Cell"><span class="uicontrol">HTTP Method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHZEZ" class="Table_Cell">This is applicable to REST APIs.</div><div id="wwID0ENZEZ" class="Table_Cell">Specifies the available routing methods: <span class="uicontrol">GET</span>, <span class="uicontrol">POST</span>, <span class="uicontrol">PUT</span>, <span class="uicontrol">DELETE</span>, and <span class="uicontrol">CUSTOM</span> (default).</div><div id="wwID0EH1EZ" class="Table_Cell">When <span class="uicontrol">CUSTOM</span> is selected, the HTTP method in the incoming request is sent to the native service. When other methods are selected, the selected method is used in the request sent to the native service.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EW1EZ" class="Table_Cell"><span class="uicontrol">SOAP Optimization Method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EA2EZ" class="Table_Cell">This is applicable for SOAP-based APIs.</div><div id="wwID0EG2EZ" class="Table_Cell">Specifies the optimization methods that <span class="ph">API Gateway</span> can use to parse SOAP requests to the native API.</div><div id="wwID0EQ2EZ" class="Table_Cell">Select one of the following options:</div><div id="wwID0E22EZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">MTOM</span>. <span class="ph">API Gateway</span> uses the Message Transmission Optimization Mechanism (MTOM) to parse SOAP requests to the API.</div><div id="wwID0EV3EZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">SwA</span>. <span class="ph">API Gateway</span> uses the SOAP with Attachment (SwA) technique to parse SOAP requests to the API.</div><div id="wwID0EP4EZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">None</span>. <span class="ph">API Gateway</span> does not use any optimization method to parse the SOAP requests to the API. This is selected by default.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EP5EZ" class="Table_Cell"><span class="uicontrol">HTTP Connection Timeout (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZ5EZ" class="Table_Cell">Specifies the time interval (in seconds) after which a connection attempt times out.</div><div id="wwID0E65EZ" class="Table_Cell">The precedence of the Connection Timeout configuration is as follows:</div><div id="wwID0EK6EZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>If you specify a value for the <span class="uicontrol">Connection timeout</span> field in routing endpoint alias, then the <span class="uicontrol">Connection timeout</span> value specified in the Endpoint alias section takes precedence over the timeout values defined at the API level and the global level.</div><div id="wwID0EFAFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If you specify a value 0 for the <span class="uicontrol">Connection timeout</span> field in routing endpoint alias, then <span class="ph">API Gateway</span> uses the value specified in the <span class="uicontrol">Connection timeout</span> field in the routing protocol processing step of an API. The Read Timeout value specified at an API level takes precedence over the global configuration.</div><div id="wwID0EEBFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>If you specify a value 0 or do not specify a value for the <span class="uicontrol">Connection timeout</span> field in the routing protocol processing step at the API level or specify a value 0 at an alias level, then <span class="ph">API Gateway</span> uses the value specified in this <span class="parmname">pg.endpoint.connectionTimeout</span> property.</div><div id="wwID0EECFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>If you do not specify any value for <span class="parmname">pg.endpoint.connectionTimeout</span>, then <span class="ph">API Gateway</span> uses the default value of 30 seconds.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGDFZ" class="Table_Cell"><span class="uicontrol">Read Timeout (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQDFZ" class="Table_Cell">Specifies the time interval (in seconds) after which a socket read attempt times out.</div><div id="wwID0EWDFZ" class="Table_Cell">The precedence of the Read Timeout configuration is as follows:</div><div id="wwID0EBEFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>If you specify a value for the <span class="uicontrol">Read timeout</span> field in routing endpoint alias, then the <span class="uicontrol">Read timeout</span> value specified in the Endpoint alias section takes precedence over the timeout values defined at the API level and the global level.</div><div id="wwID0E3EFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If you specify a value 0 for the <span class="uicontrol">Read timeout</span> field in routing endpoint alias, then <span class="ph">API Gateway</span> uses the value specified in the <span class="uicontrol">Read Timeout</span> field in the routing protocol processing step of an API. The Read Timeout value specified at an API level takes precedence over the global configuration.</div><div id="wwID0E2FFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>If you specify a value 0 or do not specify a value for the <span class="uicontrol">Read timeout</span> field in the routing protocol processing step at the API level or specify a value 0 at an alias level, then <span class="ph">API Gateway</span> uses the value specified in this <span class="parmname">pg.endpoint.readTimeout</span> property.</div><div id="wwID0E2GFZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>If you do not specify any value for <span class="parmname">pg.endpoint.readTimeout</span>, then <span class="ph">API Gateway</span> uses the default value of 30 seconds.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4HFZ" class="Table_Cell"><span class="uicontrol">Suspend duration (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHIFZ" class="Table_Cell">A numeric timeout value (in seconds). The default value is 30.</div><div id="wwID0ENIFZ" class="Table_Cell">This property specifies the time, in seconds, for which <span class="ph">API Gateway</span> temporarily suspends an endpoint, whenever Read time-out or Connection time-out occurs for the endpoint, and routes the request to the next configured endpoint in this time interval.</div><div id="wwID0EXIFZ" class="Table_Cell">For example: If you have 3 endpoints configured endpoint #1, endpoint #2, and endpoint #3, the suspend duration is configured as 60 seconds for endpoint #2, and there is a Read Timeout or Connection Timeout for endpoint #2, then <span class="ph">API Gateway</span> temporarily suspends endpoint #2 for 60 seconds. In this time interval <span class="ph">API Gateway</span> skips endpoint #2 while routing the requests to the configured endpoints.</div><div id="wwID0EFJFZ" class="Table_Cell">Request 1 -&gt; endpoint #1</div><div id="wwID0EKJFZ" class="Table_Cell">Request 2 -&gt; endpoint #3 (endpoint #2 is suspended for 60 seconds and hence the request is sent to endpoint #3</div><div id="wwID0EPJFZ" class="Table_Cell">Request 3 -&gt; endpoint #1</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZJFZ" class="Table_Cell"><span class="uicontrol">Pass WS-Security Headers</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDKFZ" class="Table_Cell">This is applicable for SOAP-based APIs.</div><div id="wwID0EJKFZ" class="Table_Cell">Selecting this indicates that <span class="ph">API Gateway</span> should pass the WS-Security headers of the incoming requests to the native API.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EYKFZ" class="Table_Cell"><span class="uicontrol">SSL Configuration</span>. Configures keystore, key alias, and truststore for securing connections to native APIs.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EILFZ" class="Table_Cell"><span class="uicontrol">Keystore Alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESLFZ" class="Table_Cell">Specifies the keystore alias configured in <span class="ph">API Gateway</span>. This value (along with the value of Client Certificate Alias) is used for performing SSL client authentication.</div><div id="wwID0E3LFZ" class="Table_Cell">Lists all available keystores. If you have not configured any keystore, the list is empty.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGMFZ" class="Table_Cell"><span class="uicontrol">Key Alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQMFZ" class="Table_Cell">Specifies the alias for the private key, which must be stored in the keystore specified by the above keystore alias.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1MFZ" class="Table_Cell"><span class="uicontrol">Truststore Alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EENFZ" class="Table_Cell">Specifies the alias for the truststore that contains the list of CA certificates that API Gateway uses to validate the trust relationship with the native API.</div><div id="wwID0EKNFZ" class="Table_Cell">If you do not configure any truststore alias, it implies that <span class="ph">API Gateway</span> does not validate the certificates provided by native APIs.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EZNFZ" class="Table_Cell"><span class="uicontrol">Service Registry Configuration</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJOFZ" class="Table_Cell"><span class="uicontrol">Service Discovery Endpoint Parameter</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETOFZ" class="Table_Cell">Values required for constructing the discovery service URI.</div><div id="wwID0E6OFZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Parameter</span>: An alias that you have included in the discovery service URI while adding the service registry to API Gateway.</div><div id="wwID0EWPFZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Value</span>: Specifies a value with a syntax. The alias specified in Path Parameter is substituted with this value when invoking the discovery service.</div><div id="wwID0EOQFZ" class="Table_Cell">For example: if the service registry configuration of the service registry that you have selected in <span class="uicontrol">Endpoint URI</span> has <span class="uicontrol">Service discovery path</span> set to <span class="userinput">/catalog/service/{serviceName}</span> (and the <span class="userinput">{serviceName}</span> alias is intended for passing the service name), you must enter <span class="userinput">{serviceName}</span> as <span class="uicontrol">Parameter</span> and the name of the service as <span class="uicontrol">Value</span>.</div><div id="wwID0EQRFZ" class="Table_Cell">As the <span class="uicontrol">Value</span> field supports variable framework, you can make use of the available variables as path parameters.</div><div id="wwID0E1RFZ" class="Table_Cell">For example, if you provide a parameter as <span class="userinput">{serviceName}</span>( in <span class="uicontrol">Service discovery path</span> while you define a service register) and the corresponding values for the path parameter as <span class="codeph">${request.header.var1}</span>, the value in var 1 retrieved from the request header will substitute the service name.</div><div id="wwID0EMSFZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div></td></tr></table></div><div id="wwID0EHTFZ" class="Body"><span class="inlinetitle">Failover behavior during load balancing</span></div><div id="wwID0ERTFZ" class="Body">When an endpoint that is configured in Load balancer routing returns any of these exceptions - ConnectException, MalformedURLException, NoRouteToHostException, ProtocolException, SocketTimeoutException, UnknownHostException, UnknownServiceException - then <span class="ph">API Gateway</span> treats the endpoint to be inactive and routes to the next endpoint as per the round-robin strategy. In this case, the endpoint is suspended for the duration mentioned in the <span class="parmname">suspendDuration</span> parameter (default is 30s), which indicates the duration to suspend the endpoint without repeatedly trying to reach it.</div><div id="wwID0EAUFZ" class="Body">In this way <span class="ph">API Gateway</span> tries to invoke all the endpoints configured in the load balance routing. If all endpoints return downtime error, <span class="ph">API Gateway</span> returns a <span class="userinput">Service is down</span> error.</div><div id="wwID0ESUFZ" class="Body">If an endpoint returns an exception other than the Downtime exception then that exception is sent to the client and the remaining endpoints are not invoked.</div><div id="wwID0EXUFZ" class="Body">You can control the behavior of considering Downtime exceptions only for load balancing through the extended property <span class="parmname">pg.lb.failoverOnDowntimeErrorOnly</span>, which you can set through <span class="uicontrol">Administration</span> &gt; <span class="uicontrol">General</span> &gt; <span class="uicontrol">Extended settings</span> page. The default value of this property is <span class="userinput">true</span>. If you set the value to <span class="userinput">false</span> all failures from the endpoint are treated as downtime and load balancing takes place.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>