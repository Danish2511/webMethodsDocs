<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Conditional Routing</title><link rel="Prev" href="re-routing_content_based.html" title="Previous" /><link rel="Next" href="re-routing_dynamic.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/re-routing_context_based.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN_002fj8QkedE5BgeaS_002b3QM1lUw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/re-routing_context_based.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.503.html#wwconnect_header">Using API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.535.html#wwconnect_header">Implement APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_manage_policies.html#wwconnect_header">Policies</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_routing_policies.html#wwconnect_header">Routing</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Conditional Routing</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EPU6Y" class="Heading_4">Conditional Routing</div><div id="wwID0E5U6Y" class="Body">If you have a native API that is hosted at two or more endpoints, you can use the condition-based protocol to route specific types of messages to specific endpoints. The requests are routed according to the condition-based routing rules you create. For example, if your entry protocol is HTTP or HTTPS, you can select conditional routing specifying HTTP or HTTPS. A routing rule specifies where requests should be routed to, and the criteria to use to route. You may also specify how to authenticate requests.</div><div id="wwID0EIV6Y" class="Note"><span class="Bold">Note:<br /></span>The context-based routing policy is renamed and it's capabilities are included in conditional routing policy. You can use this policy to configure to route the requests conditionally based on variable types.</div><div id="wwID0E6V6Y" class="Body">The following table provides the existing options of routing till <span class="ph">API Gateway</span> version 10.5 and their corresponding variable syntax to choose the same option in <span class="ph">API Gateway</span> version 10.7.</div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 32.5%"><div id="wwID0ERX6Y" class="Table_Cell_Head">10.5 Conditional Variable</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 17.3%"><div id="wwID0EXX6Y" class="Table_Cell_Head">10.5 Condition Operator</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 25.3%"><div id="wwID0E4X6Y" class="Table_Cell_Head">10.7 Transformation Variable</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 24.6%"><div id="wwID0EDY6Y" class="Table_Cell_Head">10.7 Transformation Condition Operator</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQY6Y" class="Table_Cell">Consumer</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4Y6Y" class="Table_Cell">${request.application.id}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDZ6Y" class="Table_Cell">Equals</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENZ6Y" class="Table_Cell">Date</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ETZ6Y" class="Table_Cell">Before</div><div id="wwID0EZZ6Y" class="Table_Cell">After</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6Z6Y" class="Table_Cell">${date}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EF16Y" class="Table_Cell">Lesser than</div><div id="wwID0EL16Y" class="Table_Cell">Greater than</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EV16Y" class="Table_Cell">Time</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E216Y" class="Table_Cell">Before</div><div id="wwID0EB26Y" class="Table_Cell">After</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EH26Y" class="Table_Cell">${time}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EN26Y" class="Table_Cell">Lesser than</div><div id="wwID0ET26Y" class="Table_Cell">Greater than</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="4"><div id="wwID0E426Y" class="Table_Cell"><span class="inlinetitle">Predefined System Context Variables</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EO36Y" class="Table_Cell">User</div><div id="wwID0EU36Y" class="Table_Cell">Inbound HTTP Method</div><div id="wwID0EZ36Y" class="Table_Cell">Routing Method</div><div id="wwID0E536Y" class="Table_Cell">Inbound Content Type</div><div id="wwID0ED46Y" class="Table_Cell">Inbound Accept</div><div id="wwID0EI46Y" class="Table_Cell">Inbound Protocol</div><div id="wwID0EN46Y" class="Table_Cell">Inbound Request URI</div><div id="wwID0ES46Y" class="Table_Cell">Inbound IP</div><div id="wwID0EX46Y" class="Table_Cell">Gateway Hostname</div><div id="wwID0E346Y" class="Table_Cell">Gateway IP</div><div id="wwID0EB56Y" class="Table_Cell">Operation Name</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EH56Y" class="Table_Cell">Equal to</div><div id="wwID0EN56Y" class="Table_Cell">Not equal to</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ET56Y" class="Table_Cell">${user}</div><div id="wwID0EZ56Y" class="Table_Cell">${inboundHttpMethod}</div><div id="wwID0E556Y" class="Table_Cell">${routingMethod}</div><div id="wwID0ED66Y" class="Table_Cell">${inboundContentType}</div><div id="wwID0EI66Y" class="Table_Cell">${inboundAccept}</div><div id="wwID0EN66Y" class="Table_Cell">${inboundProtocol}</div><div id="wwID0ES66Y" class="Table_Cell">${inboundRequestURI}</div><div id="wwID0EX66Y" class="Table_Cell">${inboundIP</div><div id="wwID0E366Y" class="Table_Cell">${gatewayHostname}</div><div id="wwID0EBAAZ" class="Table_Cell">${gatewayIP}</div><div id="wwID0EGAAZ" class="Table_Cell">${operationName}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMAAZ" class="Table_Cell">Equals</div><div id="wwID0ESAAZ" class="Table_Cell">Not equals</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="4"><div id="wwID0E3AAZ" class="Table_Cell"><span class="inlinetitle">Custom Context Variables</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENBAZ" class="Table_Cell">mx:var1</div><div id="wwID0ETBAZ" class="Table_Cell">PROTOCOL_HEADERS[KEY]</div><div id="wwID0EYBAZ" class="Table_Cell">SOAP_HEADERS[INDEX]</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EECAZ" class="Table_Cell">Equal to</div><div id="wwID0EJCAZ" class="Table_Cell">Not equal to</div><div id="wwID0EOCAZ" class="Table_Cell">Lesser than</div><div id="wwID0ETCAZ" class="Table_Cell">Greater than</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZCAZ" class="Table_Cell">${var1}</div><div id="wwID0E6CAZ" class="Table_Cell">${request.headers.KEY}</div><div id="wwID0EEDAZ" class="Table_Cell">${soapHeaders[INDEX}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKDAZ" class="Table_Cell">Equals</div><div id="wwID0EQDAZ" class="Table_Cell">Not Equals</div><div id="wwID0EVDAZ" class="Table_Cell">Lesser than</div><div id="wwID0E1DAZ" class="Table_Cell">Greater than</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEEAZ" class="Table_Cell">IPV4</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKEAZ" class="Table_Cell">-</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQEAZ" class="Table_Cell">${inboundIP}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWEAZ" class="Table_Cell">Range</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAFAZ" class="Table_Cell">IPV6</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGFAZ" class="Table_Cell">-</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMFAZ" class="Table_Cell">${inboundIP}</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESFAZ" class="Table_Cell">Range</div></td></tr></table></div><div id="wwID0E3FAZ" class="Body">The table lists the properties that you can specify for this policy:</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 30.4%"><div id="wwID0E2GAZ" class="Table_Cell_Head">Property</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 69.5%"><div id="wwID0EBHAZ" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EOHAZ" class="Table_Cell"><span class="uicontrol">Route To</span>. Specifies the URLs of two or more native services in a pool to which the requests are routed.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5HAZ" class="Table_Cell"><span class="uicontrol">Endpoint URI</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJIAZ" class="Table_Cell">Specifies the URI of the native API endpoint to route the request to in case all routing rules evaluate to False. Service registries that have been added to the API Gateway instance are also included in the list.</div><div id="wwID0EPIAZ" class="Table_Cell">If you choose a service registry, API Gateway sends a request to the service registry to discover the IP address and port at which the native service is running. API Gateway replaces the service registry alias in the <span class="uicontrol">Endpoint URI</span> with the IP address and port returned by the service registry.</div><div id="wwID0EZIAZ" class="Table_Cell">For example, if your service is hosted at the URL: <span class="codeph">http://host:port/abc/</span>, you need to configure the Endpoint URI as: <span class="codeph">http://${ServiceRegistryName}/abc/</span>.</div><div id="wwID0EHJAZ" class="Table_Cell">As this property supports variable framework, you can make use of the available variables. For example, you can configure the endpoint URI using hard coded URL, simple alias, endpoint alias, and variable syntax or any of these combination. If you define the endpoint URI as <span class="codeph">http://${myAliasHost}:${request.headers.nativeport}/${sys:resource-path}</span>, where the <span class="codeph">${myAliasHost}</span> variable syntax is used to define the simple alias and the <span class="codeph">${request.headers.nativeport}</span> variable syntax is used to define the native port based on the request.</div><div id="wwID0EZJAZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div><div id="wwID0EOKAZ" class="Note"><span class="Bold">Note:<br /></span>If you use endpoint alias, make sure the endpoint alias is created before you define it in the policy. For example, if you define ${alias} syntax in the policy before creating the <span class="userinput">alias</span> as endpoint alias, <span class="ph">API Gateway</span> considers ${alias} as custom variable or simple alias and tries to resolve against those. So in that case, after creating endpoint alias you have to edit and save the API or policy to associate ${alias} syntax with the endpoint alias.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERLAZ" class="Table_Cell"><span class="uicontrol">HTTP Method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3LAZ" class="Table_Cell">This is applicable to REST-based APIs.</div><div id="wwID0ECMAZ" class="Table_Cell">Specifies the available routing methods: <span class="uicontrol">GET</span>, <span class="uicontrol">POST</span>, <span class="uicontrol">PUT</span>, <span class="uicontrol">DELETE</span>, and <span class="uicontrol">CUSTOM</span> (default).</div><div id="wwID0E3MAZ" class="Table_Cell">When <span class="uicontrol">CUSTOM</span> is selected, the HTTP method in the incoming request is sent to the native service. When other methods are selected, the selected method is used in the request sent to the native service.</div><div id="wwID0EGNAZ" class="Note"><span class="Bold">Note:<br /></span><span class="ph">Software&nbsp;AG</span> recommends to use <span class="uicontrol">Request Transformation &gt; Method Transformation</span> to achieve this as other transformations can also be done under the same policy.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIOAZ" class="Table_Cell"><span class="uicontrol">SOAP Optimization Method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESOAZ" class="Table_Cell">This is applicable for SOAP-based APIs.</div><div id="wwID0EYOAZ" class="Table_Cell">Specifies the optimization methods that <span class="ph">API Gateway</span> can use to parse SOAP requests to the native API.</div><div id="wwID0ECPAZ" class="Table_Cell">Select one of the following options:</div><div id="wwID0ENPAZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">MTOM</span>.<span class="ph">API Gateway</span> uses the Message Transmission Optimization Mechanism (MTOM) to parse SOAP requests to the API.</div><div id="wwID0EHQAZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">SwA</span>. <span class="ph">API Gateway</span> uses the SOAP with Attachment (SwA) technique to parse SOAP requests to the API.</div><div id="wwID0EBRAZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">None</span>. <span class="ph">API Gateway</span> does not use any optimization method to parse the SOAP requests to the API. This is selected by default.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBSAZ" class="Table_Cell"><span class="uicontrol">HTTP Connection Timeout (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELSAZ" class="Table_Cell">Specifies the time interval (in seconds) after which a connection attempt times out.</div><div id="wwID0ERSAZ" class="Table_Cell">The precedence of the Connection Timeout configuration is as follows:</div><div id="wwID0E3SAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>If you specify a value for the <span class="uicontrol">Connection timeout</span> field in routing endpoint alias, then the <span class="uicontrol">Connection timeout</span> value specified in the Endpoint alias section takes precedence over the timeout values defined at the API level and the global level.</div><div id="wwID0EXTAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If you specify a value 0 for the <span class="uicontrol">Connection timeout</span> field in routing endpoint alias, then <span class="ph">API Gateway</span> uses the value specified in the <span class="uicontrol">Connection timeout</span> field in the routing protocol processing step of an API. The Read Timeout value specified at an API level takes precedence over the global configuration.</div><div id="wwID0EWUAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>If you specify a value 0 or do not specify a value for the <span class="uicontrol">Connection timeout</span> field in the routing protocol processing step at the API level or specify a value 0 at an alias level, then <span class="ph">API Gateway</span> uses the value specified in this <span class="parmname">pg.endpoint.connectionTimeout</span> property.</div><div id="wwID0EWVAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>If you do not specify any value for <span class="parmname">pg.endpoint.connectionTimeout</span>, then <span class="ph">API Gateway</span> uses the default value of 30 seconds.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYWAZ" class="Table_Cell"><span class="uicontrol">Read Timeout (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECXAZ" class="Table_Cell">Specifies the time interval (in seconds) after which a socket read attempt times out.</div><div id="wwID0EIXAZ" class="Table_Cell">The precedence of the Read Timeout configuration is as follows:</div><div id="wwID0ETXAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>If you specify a value for the <span class="uicontrol">Read timeout</span> field in routing endpoint alias, then the <span class="uicontrol">Read timeout</span> value specified in the Endpoint alias section takes precedence over the timeout values defined at the API level and the global level.</div><div id="wwID0EOYAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If you specify a value 0 for the <span class="uicontrol">Read timeout</span> field in routing endpoint alias, then <span class="ph">API Gateway</span> uses the value specified in the <span class="uicontrol">Read Timeout</span> field in the routing protocol processing step of an API. The Read Timeout value specified at an API level takes precedence over the global configuration.</div><div id="wwID0ENZAZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>If you specify a value 0 or do not specify a value for the <span class="uicontrol">Read timeout</span> field in the routing protocol processing step at the API level or specify a value 0 at an alias level, then <span class="ph">API Gateway</span> uses the value specified in this <span class="parmname">pg.endpoint.readTimeout</span> property.</div><div id="wwID0EN1AZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>If you do not specify any value for <span class="parmname">pg.endpoint.readTimeout</span>, then <span class="ph">API Gateway</span> uses the default value of 30 seconds.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EP2AZ" class="Table_Cell"><span class="uicontrol">Pass WS-Security Headers</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZ2AZ" class="Table_Cell">This is applicable for SOAP-based APIs.</div><div id="wwID0E62AZ" class="Table_Cell">Selecting this indicates that <span class="ph">API Gateway</span> should pass the WS-Security headers of the incoming requests to the native API.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EO3AZ" class="Table_Cell"><span class="uicontrol">SSL Configuration</span>. Configures keystore, key alias, and truststore for securing connections to native APIs.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E53AZ" class="Table_Cell"><span class="uicontrol">Keystore Alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJ4AZ" class="Table_Cell">Specifies the keystore alias configured in <span class="ph">API Gateway</span>. This value (along with the value of Client Certificate Alias) is used for performing SSL client authentication.</div><div id="wwID0ET4AZ" class="Table_Cell">Lists all available keystores. If you have not configured any keystore, the list is empty.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E44AZ" class="Table_Cell"><span class="uicontrol">Key Alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI5AZ" class="Table_Cell">Specifies the alias for the private key, which must be stored in the keystore specified by the keystore alias.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ES5AZ" class="Table_Cell"><span class="uicontrol">Truststore Alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E35AZ" class="Table_Cell">Specifies the alias for the truststore that contains the list of CA certificates that API Gateway uses to validate the trust relationship with the native API.</div><div id="wwID0EC6AZ" class="Table_Cell">If you do not configure any truststore alias, it implies that <span class="ph">API Gateway</span> does not validate the certificates provided by native APIs.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0ER6AZ" class="Table_Cell"><span class="uicontrol">Service Registry Configuration</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBABZ" class="Table_Cell"><span class="uicontrol">Service Discovery Endpoint Parameter</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELABZ" class="Table_Cell">Values required for constructing the discovery service URI.</div><div id="wwID0EXABZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Parameter</span>: An alias that you have included in the discovery service URI while adding the service registry to API Gateway.</div><div id="wwID0EOBBZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Value</span>: Specifies a value with a syntax. The alias specified in Path Parameter is substituted with this value when invoking the discovery service.</div><div id="wwID0EGCBZ" class="Table_Cell">For example: if the service registry configuration of the service registry that you have selected in <span class="uicontrol">Endpoint URI</span> has <span class="uicontrol">Service discovery path</span> set to <span class="userinput">/catalog/service/{serviceName}</span> (and the <span class="userinput">{serviceName}</span> alias is intended for passing the service name), you must enter <span class="userinput">{serviceName}</span> as <span class="uicontrol">Parameter</span> and the name of the service as <span class="uicontrol">Value</span>.</div><div id="wwID0EIDBZ" class="Table_Cell">As the <span class="uicontrol">Value</span> field supports variable framework, you can make use of the available variables as path parameters.</div><div id="wwID0ESDBZ" class="Table_Cell">For example, if you provide a parameter as <span class="userinput">{serviceName}</span>( in <span class="uicontrol">Service discovery path</span> while you define a service register) and the corresponding values for the path parameter as <span class="codeph">${request.header.var1}</span>, the value in var 1 retrieved from the request header will substitute the service name.</div><div id="wwID0EEEBZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0E5EBZ" class="Table_Cell"><span class="uicontrol">Rule</span>. Defines the routing decisions based on one of the following routing options.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOFBZ" class="Table_Cell"><span class="uicontrol">Name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZFBZ" class="Table_Cell">Provide a name for the rule.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDGBZ" class="Table_Cell"><span class="uicontrol">Condition Operator</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOGBZ" class="Table_Cell">Specifies the condition operator to be used.</div><div id="wwID0EUGBZ" class="Table_Cell">Select one of the following operators:</div><div id="wwID0E6GBZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">OR</span>. Specifies that one of the set conditions should be applied.</div><div id="wwID0EVHBZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">AND</span>. Specifies all the set conditions should be applied.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERIBZ" class="Table_Cell"><span class="uicontrol">Add Condition</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2IBZ" class="Table_Cell">Specify the context variables for processing client requests.</div><div id="wwID0EHJBZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Variable</span>: Specifies the variable type.</div><div id="wwID0E4JBZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Operator</span>: Specifies the operator to use to relate variable and the value. You can select one of the following:</div><div id="wwID0EYKBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Equals</span></div><div id="wwID0EOLBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Equals ignore case</span></div><div id="wwID0EEMBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Not equals</span></div><div id="wwID0E1MBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Not equals ignore case</span></div><div id="wwID0EQNBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Contains</span></div><div id="wwID0EGOBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Not Contains</span></div><div id="wwID0E3OBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Exists</span></div><div id="wwID0ESPBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Not Exists</span></div><div id="wwID0EIQBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Range</span></div><div id="wwID0E5QBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Greater Than</span></div><div id="wwID0EURBZ" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Less Than</span></div><div id="wwID0EMSBZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Value</span>: Specifies a plain value or value with a syntax.</div><div id="wwID0EDTBZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0E4TBZ" class="Table_Cell"><span class="uicontrol">Route To</span>. Specifies the endpoint URI of native services in a pool to which the requests are routed.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENUBZ" class="Table_Cell"><span class="uicontrol">Endpoint URI </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXUBZ" class="Table_Cell">Specifies the URI of the native API endpoint to route the request to. You can use service registries in a similar manner as described in the main <span class="uicontrol">Endpoint URI</span> above.</div><div id="wwID0EBVBZ" class="Table_Cell">As this property supports variable framework, you can make use of the available variables. For example, you can configure the endpoint URI using hard coded URL, simple alias, endpoint alias, and variable syntax or any of these combination. If you define the endpoint URI as <span class="codeph">http://${myAliasHost}:${request.headers.nativeport}/${sys:resource-path}</span>, where the <span class="codeph">${myAliasHost}</span> variable syntax is used to define the simple alias and the <span class="codeph">${request.headers.nativeport}</span> variable syntax is used to define the native port based on the request.</div><div id="wwID0ETVBZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div><div id="wwID0EIWBZ" class="Note"><span class="Bold">Note:<br /></span>If you use endpoint alias, make sure the endpoint alias is created before you define it in the policy. For example, if you define ${alias} syntax in the policy before creating the <span class="userinput">alias</span> as endpoint alias, <span class="ph">API Gateway</span> considers ${alias} as custom variable or simple alias and tries to resolve against those. So in that case, after creating endpoint alias you have to edit and save the API or policy to associate ${alias} syntax with the endpoint alias.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELXBZ" class="Table_Cell"><span class="uicontrol">HTTP Method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVXBZ" class="Table_Cell">This is applicable for REST-based APIs.</div><div id="wwID0E2XBZ" class="Table_Cell">Specifies the available routing methods: <span class="uicontrol">GET</span>, <span class="uicontrol">POST</span>, <span class="uicontrol">PUT</span>, <span class="uicontrol">DELETE</span>, and <span class="uicontrol">CUSTOM</span> (default).</div><div id="wwID0EVYBZ" class="Table_Cell">When <span class="uicontrol">CUSTOM</span> is selected, the HTTP method in the incoming request is sent to the native service. When other methods are selected, the selected method is used in the request sent to the native service.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEZBZ" class="Table_Cell"><span class="uicontrol">Soap Optimization Method</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOZBZ" class="Table_Cell">This is applicable for SOAP-based APIs.</div><div id="wwID0EUZBZ" class="Table_Cell">Specifies values to enable SSL authentication for SOAP APIs.</div><div id="wwID0EZZBZ" class="Table_Cell">Select one of the following options:</div><div id="wwID0EE1BZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">MTOM</span>. <span class="ph">API Gateway</span> uses the Message Transmission Optimization Mechanism (MTOM) to parse SOAP requests to the API.</div><div id="wwID0E51BZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">SwA</span>. <span class="ph">API Gateway</span> uses the SOAP with Attachment (SwA) technique to parse SOAP requests to the API.</div><div id="wwID0EY2BZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">None</span>. <span class="ph">API Gateway</span> does not use any optimization method to parse the SOAP requests to the API. This is selected by default.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EY3BZ" class="Table_Cell"><span class="uicontrol">HTTP Connection Timeout (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EC4BZ" class="Table_Cell">Specifies the time interval (in seconds) after which a connection attempt times out.</div><div id="wwID0EI4BZ" class="Table_Cell">The precedence of the Connection Timeout configuration is as follows:</div><div id="wwID0ET4BZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>If you specify a value for the <span class="uicontrol">Connection timeout</span> field in routing endpoint alias, then the <span class="uicontrol">Connection timeout</span> value specified in the Endpoint alias section takes precedence over the timeout values defined at the API level and the global level.</div><div id="wwID0EO5BZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If you specify a value 0 for the <span class="uicontrol">Connection timeout</span> field in routing endpoint alias, then <span class="ph">API Gateway</span> uses the value specified in the <span class="uicontrol">Connection timeout</span> field in the routing protocol processing step of an API. The Read Timeout value specified at an API level takes precedence over the global configuration.</div><div id="wwID0EN6BZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>If you specify a value 0 or do not specify a value for the <span class="uicontrol">Connection timeout</span> field in the routing protocol processing step at the API level or specify a value 0 at an alias level, then <span class="ph">API Gateway</span> uses the value specified in this <span class="parmname">pg.endpoint.connectionTimeout</span> property.</div><div id="wwID0ENACZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>If you do not specify any value for <span class="parmname">pg.endpoint.connectionTimeout</span>, then <span class="ph">API Gateway</span> uses the default value of 30 seconds.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPBCZ" class="Table_Cell"><span class="uicontrol">Read Timeout (seconds)</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZBCZ" class="Table_Cell">Specifies the time interval (in seconds) after which a socket read attempt times out.</div><div id="wwID0E6BCZ" class="Table_Cell">The precedence of the Read Timeout configuration is as follows:</div><div id="wwID0EKCCZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>If you specify a value for the <span class="uicontrol">Read timeout</span> field in routing endpoint alias, then the <span class="uicontrol">Read timeout</span> value specified in the Endpoint alias section takes precedence over the timeout values defined at the API level and the global level.</div><div id="wwID0EFDCZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>If you specify a value 0 for the <span class="uicontrol">Read timeout</span> field in routing endpoint alias, then <span class="ph">API Gateway</span> uses the value specified in the <span class="uicontrol">Read Timeout</span> field in the routing protocol processing step of an API. The Read Timeout value specified at an API level takes precedence over the global configuration.</div><div id="wwID0EEECZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>If you specify a value 0 or do not specify a value for the <span class="uicontrol">Read timeout</span> field in the routing protocol processing step at the API level or specify a value 0 at an alias level, then <span class="ph">API Gateway</span> uses the value specified in this <span class="parmname">pg.endpoint.readTimeout</span> property.</div><div id="wwID0EEFCZ" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span>If you do not specify any value for <span class="parmname">pg.endpoint.readTimeout</span>, then <span class="ph">API Gateway</span> uses the default value of 30 seconds.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGGCZ" class="Table_Cell"><span class="uicontrol">Pass WS-Security Headers</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQGCZ" class="Table_Cell">This is applicable for SOAP-based APIs.</div><div id="wwID0EWGCZ" class="Table_Cell">Selecting this indicates that <span class="ph">API Gateway</span> should pass the WS-Security headers of the incoming requests to the native API.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFHCZ" class="Table_Cell"><span class="uicontrol">SSL Configuration</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPHCZ" class="Table_Cell">Configures keystore, key alias, and truststore for securing connections to native APIs.</div><div id="wwID0EVHCZ" class="Table_Cell">Provide the following information:</div><div id="wwID0EAICZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Keystore Alias</span>. Specifies the keystore alias configured in <span class="ph">API Gateway</span>. This value (along with the value of Client Certificate Alias) is used for performing SSL client authentication.</div><div id="wwID0E1ICZ" class="List_1_Continued">Lists all available keystores. If you have not configured any keystore, the list is empty.</div><div id="wwID0EAJCZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Key Alias</span>. Specifies the alias for the private key, which must be stored in the keystore specified by the keystore alias.</div><div id="wwID0EWJCZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Truststore Alias</span>. Specifies the alias for the truststore that contains the list of CA certificates that API Gateway uses to validate the trust relationship with the native API.</div><div id="wwID0EMKCZ" class="List_1_Continued">If you do not configure any truststore alias, it implies that <span class="ph">API Gateway</span> does not validate the certificates provided by native APIs.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0E4KCZ" class="Table_Cell"><span class="uicontrol">Service Registry Configuration</span></div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENLCZ" class="Table_Cell"><span class="uicontrol">Service Discovery Endpoint Parameter</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXLCZ" class="Table_Cell">Values required for constructing the discovery service URI.</div><div id="wwID0EDMCZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Parameter</span>: An alias that you have included in the discovery service URI while adding the service registry to API Gateway.</div><div id="wwID0E1MCZ" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Value</span>: Specifies a value with a syntax. The alias specified in Path Parameter is substituted with this value when invoking the discovery service.</div><div id="wwID0ESNCZ" class="Table_Cell">For example: if the service registry configuration of the service registry that you have selected in <span class="uicontrol">Endpoint URI</span> has <span class="uicontrol">Service discovery path</span> set to <span class="userinput">/catalog/service/{serviceName}</span> (and the <span class="userinput">{serviceName}</span> alias is intended for passing the service name), you must enter <span class="userinput">{serviceName}</span> as <span class="uicontrol">Parameter</span> and the name of the service as <span class="uicontrol">Value</span>.</div><div id="wwID0EUOCZ" class="Table_Cell">As the <span class="uicontrol">Value</span> field supports variable framework, you can make use of the available variables as path parameters.</div><div id="wwID0E5OCZ" class="Table_Cell">For example, if you provide a parameter as <span class="userinput">{serviceName}</span>( in <span class="uicontrol">Service discovery path</span> while you define a service register) and the corresponding values for the path parameter as <span class="codeph">${request.header.var1}</span>, the value in var 1 retrieved from the request header will substitute the service name.</div><div id="wwID0EQPCZ" class="Table_Cell">For details about the variables available in <span class="ph">API Gateway</span>, see 
    <a href="../yai-webhelp/co-variable_extraction.html#wwID0E1BA1"
   
     title="Variable Framework"
    ><span class="heading-page">Variables Available in API Gateway</span></a>.</div></td></tr></table></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>