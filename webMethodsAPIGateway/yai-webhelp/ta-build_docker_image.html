<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Building the Docker Image for an API Gateway Instance</title><link rel="Prev" href="co-overview_docker_configuration.html" title="Previous" /><link rel="Next" href="ta-retrieve_port_info_image.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/ta-build_docker_image.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN4E5gDWW0H9vLUKNXKE4ihg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/ta-build_docker_image.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.376.html#wwconnect_header">Container-based Provisioning</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/co-overview_docker_configuration.html#wwconnect_header">Docker Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Building the Docker Image for an API Gateway Instance</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0ETDGV" class="Heading_3">Building the Docker Image for an API Gateway Instance</div><div id="wwID0ECEGV" class="Body">The <span class="ph">API Gateway</span> Docker image provides an <span class="ph">API Gateway</span> installation. Depending on the existing installation, the <span class="ph">API Gateway</span> Docker image provides a standard <span class="ph">API Gateway</span> or an advanced <span class="ph">API Gateway</span> instance. When running the image, the <span class="ph">API Gateway</span> is started. The <span class="ph">API Gateway</span> image is created on top of an <span class="ph">Integration Server</span> image.</div><div id="wwID0EIFGV" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To build a Docker image for an <span class="ph">API Gateway</span> instance</div><div id="wwID0EZFGV" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command"> Create a docker file for the </span><span class="Command_002c_Command">Integration Server</span><span class="Command"> (IS) instance by running the following command: </span></div><div id="wwID0E4GGV" class="Preformatted_1">./is_container.sh createDockerfile [optional arguments]<br /></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 31.8%"><div id="wwID0E4HGV" class="Table_Cell_Head">Argument</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 68.1%"><div id="wwID0EDIGV" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQIGV" class="Table_Cell"><span class="codeph">-Dimage.name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1IGV" class="Table_Cell"><span class="emphasis">Optional</span>. Name of base image upon which the new image is built.</div><div id="wwID0EEJGV" class="Table_Cell">Default: centos:7</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOJGV" class="Table_Cell"><span class="codeph">-Dinstance.name </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYJGV" class="Table_Cell"><span class="emphasis">Optional</span>. IS instance name to include in the image.</div><div id="wwID0EDKGV" class="Table_Cell">Default: default</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENKGV" class="Table_Cell"><span class="codeph">-Dport.list</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYKGV" class="Table_Cell"><span class="emphasis">Optional</span>. Comma-separated list of the ports on the instance to expose in the image.</div><div id="wwID0EDLGV" class="Table_Cell">Default: 5555,9999</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENLGV" class="Table_Cell"><span class="codeph">-Dpackage.list</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYLGV" class="Table_Cell"><span class="emphasis">Optional</span>. Comma-separated list of Wm packages on the instance to include in the image.</div><div id="wwID0EDMGV" class="Table_Cell">Default: all (this includes all the Wm packages and the Default package)</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENMGV" class="Table_Cell"><span class="codeph">-Dinclude.jdk</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYMGV" class="Table_Cell"><span class="emphasis">Optional</span>. Whether to include the Integration Server JDK (true) or JRE (false) in the image.</div><div id="wwID0EDNGV" class="Table_Cell">Default: true</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENNGV" class="Table_Cell"><span class="codeph">-Dfile.name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYNGV" class="Table_Cell"><span class="emphasis">Optional</span>. File name for the generated docker file.</div><div id="wwID0EDOGV" class="Table_Cell">Default: Dockerfile_IS</div></td></tr></table></div><div id="wwID0EPOGV" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">Build the IS Docker image using the Docker file Dockerfile_IS by running the following command: </span></div><div id="wwID0ERPGV" class="Preformatted_1">./is_container.sh build [optional arguments]<br /></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 34.8%"><div id="wwID0ESQGV" class="Table_Cell_Head">Argument</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 65.1%"><div id="wwID0EYQGV" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFRGV" class="Table_Cell"><span class="codeph">-Dfile.name </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPRGV" class="Table_Cell"><span class="emphasis">Optional</span>. File name of the Docker file to use to build the Docker image.</div><div id="wwID0E1RGV" class="Table_Cell">Default: Dockerfile_IS</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EESGV" class="Table_Cell"><span class="codeph">-Dimage.name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPSGV" class="Table_Cell"><span class="emphasis">Optional</span>. Name of the generated Docker image.</div><div id="wwID0E1SGV" class="Table_Cell">Default: is:micro</div></td></tr></table></div><div id="wwID0EGTGV" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command"> Create a Docker file for the </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> instance from the IS image is:micro by running the following command: </span></div><div id="wwID0EKUGV" class="Preformatted_1">./apigw_container.sh createDockerfile [optional arguments]<br /></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 34.8%"><div id="wwID0EKVGV" class="Table_Cell_Head">Argument</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 65.1%"><div id="wwID0EQVGV" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E4VGV" class="Table_Cell"><span class="codeph">--instance.name </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHWGV" class="Table_Cell"><span class="emphasis">Optional</span>. <span class="ph">API Gateway</span> instance to include in the image.</div><div id="wwID0EWWGV" class="Table_Cell">Default: default</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAXGV" class="Table_Cell"><span class="codeph">--port.list</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELXGV" class="Table_Cell">Comma-separated list of the ports on the instance to expose in the image.</div><div id="wwID0ERXGV" class="Table_Cell">Default: 9072</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2XGV" class="Table_Cell"><span class="codeph">--base.image</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGYGV" class="Table_Cell">Name of the base <span class="ph">Integration Server</span> image upon which this image should be built.</div><div id="wwID0EQYGV" class="Table_Cell">Default: is:micro</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1YGV" class="Table_Cell"><span class="codeph">--file.name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EFZGV" class="Table_Cell"><span class="emphasis">Optional</span>. File name for the generated Docker file.</div><div id="wwID0EQZGV" class="Table_Cell">Default: Dockerfile_IS_APIGW</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1ZGV" class="Table_Cell"><span class="codeph">--target.configuration</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EE1GV" class="Table_Cell"><span class="emphasis">Optional</span>. Target configuration for which Dockerfile is created.</div><div id="wwID0EO1GV" class="Table_Cell">Not specifying any value builds a Dockerfile for the Docker and Kubernetes environments.</div><div id="wwID0ET1GV" class="Table_Cell">Specifying the value <span class="userinput">OpenShift</span> builds a Dockerfile for an OpenShift environment.</div><div id="wwID0E41GV" class="Note"><span class="Bold">Note:<br /></span>If you specify the --target.configuration option, the <span class="ph">Integration Server</span> image specified by the --base.image option should be available before you create the <span class="ph">API Gateway</span> Dockerfile. The <span class="ph">Integration Server</span> Docker image is analyzed with docker inspect in order to extract some information necessary for the <span class="ph">API Gateway</span> Dockerfile.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI3GV" class="Table_Cell"><span class="codeph">--os.image</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ES3GV" class="Table_Cell"><span class="emphasis">Optional</span>. Name of the base operating system image upon which this image is built if the <span class="codeph">--target.configuration</span> is set to <span class="userinput">OpenShift</span>.</div><div id="wwID0EE4GV" class="Table_Cell">Default: centos:7</div><div id="wwID0EJ4GV" class="Note"><span class="Bold">Note:<br /></span>The value of this parameter has to be aligned with the one specified for <span class="codeph">-Dimage.name</span> in Step 1.</div></td></tr></table></div><div id="wwID0EJ5GV" class="Step_Result_1">The Docker file is created under the packages directory of the specified Integration Server instance. In a default installation, the Docker file is created in the folder <span class="filepath_002c_varname">SAG_Root</span><span class="filepath">/IntegrationServer/instances/default/packages/Dockerfile_IS_APIGW</span>.</div><div id="wwID0E15GV" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">Build the </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> Docker image using the core Docker file Dockerfile_IS_APIGW by running the following command: </span></div><div id="wwID0E56GV" class="Preformatted_1">./apigw_container.sh build [optional arguments]<br /></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 34.8%"><div id="wwID0EFBHV" class="Table_Cell_Head">Argument</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 65.1%"><div id="wwID0ELBHV" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYBHV" class="Table_Cell"><span class="codeph">instance.name </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECCHV" class="Table_Cell">Optional. <span class="ph">API Gateway</span> instance to include in the image.</div><div id="wwID0EMCHV" class="Table_Cell">Default: default</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWCHV" class="Table_Cell"><span class="codeph">file.name </span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EADHV" class="Table_Cell">File name of the Docker file to use to build the Docker image.</div><div id="wwID0EGDHV" class="Table_Cell">Default: Dockerfile_IS_APIGW</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQDHV" class="Table_Cell"><span class="codeph">image.name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E2DHV" class="Table_Cell">Optional. Name for the generated Docker image that contains the custom packages.</div><div id="wwID0EBEHV" class="Table_Cell">Default: is:apigw</div></td></tr></table></div><div id="wwID0EMEHV" class="Step_Result_1">The image is stored in the local registry of the Docker host. To check the image, run the following command:</div><div id="wwID0EREHV" class="Preformatted_1">$ docker images</div><div id="wwID0EBFHV" class="Example_Title">Example</div><div id="wwID0EVFHV" class="Body">A sample shell script for creating an <span class="ph">API Gateway</span> Docker image looks as follows:</div><div id="wwID0E6FHV" class="Preformatted">echo "is createDockerfile ======================================================="<br />./is_container.sh createDockerfile<br />status=$?<br /> <br />if [ $status -ne 0 ]<br />then<br />    echo "Failed! status: $status"<br />    exit $status<br />fi<br /> <br />echo "is build =================================================================="<br />./is_container.sh build<br />status=$?<br /> <br />if [ $status -ne 0 ]<br />then<br />    echo "Failed! status: $status"<br />    exit $status<br />fi<br /> <br />echo "apigw createDockerfile =================================================="<br />./apigw_container.sh createDockerfile    <br />status=$?<br /> <br />if [ $status -ne 0 ]<br />then<br />    echo "Failed! status: $status"<br />    exit $status<br />fi<br /> <br />echo "apigw build ============================================================="<br />./apigw_container.sh build<br />status=$?<br /> <br />if [ $status -ne 0 ]<br />then<br />    echo "Failed! status: $status"<br />    exit $status<br />fi<br /></div><div id="wwID0EFGHV" class="Body">After running the steps, the created images can be listed using the command <span class="codeph">docker images</span>. The following sample result shows the base image <span class="userinput">centos:7</span>, the <span class="ph">Integration Server</span> image <span class="userinput">is:micro</span>, and the <span class="ph">API Gateway</span> image <span class="userinput">is:apigw</span>.</div><div id="wwID0ECHHV" class="Preformatted">REPOSITORY          TAG       IMAGEID            CREATED             SIZE<br />is                  apigw     af29373fc98a        15 hours ago        1.3GB<br />is                  micro     06e7c0de4807        15 hours ago        1.1GB<br />centos              7         36540f359ca3        12 days ago         193MB<br /></div><div id="wwID0EJHHV" class="Note"><span class="Bold">Note:<br /></span>The is:micro and therefore, the is:apigw images are based on the centos:7 image, which is available from the official CentOS repository</div><div id="wwID0E6HHV" class="Body">The Docker images resulting from Docker files created using the createDockerFile command feature the following:</div><div id="wwID0EKIHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Docker logging</span>.</div><div id="wwID0EBJHV" class="List_1_Continued"><span class="ph">API Gateway</span> Docker containers log to stdout and stderr. The <span class="ph">API Gateway</span> logs can be fetched with Docker logs.</div><div id="wwID0EPJHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Docker health check</span>.</div><div id="wwID0EGKHV" class="List_1_Continued"><span class="ph">API Gateway</span> Docker containers perform health checks. You can use wget request against the <span class="ph">API Gateway</span> REST API to check the health status of <span class="ph">API Gateway</span>.</div><div id="wwID0EXKHV" class="List_1_Continued">The following wget request shows a curl invocation sending a request against the HTTP port. If <span class="ph">API Gateway</span> exposes an HTTPS port, only the wget is created accordingly. The option --no-check-certificate is used to avoid any failure due to certificate problems.</div><div id="wwID0EHLHV" class="Preformatted_1">HEALTHCHECK CMD curl  --no-check-certificate <br />http://localhost:5555/rest/apigateway/health</div><div id="wwID0ENLHV" class="List_1_Continued">The wget checks the <span class="ph">API Gateway</span> availability by sending requests to the <span class="ph">API Gateway</span> REST health resource. If the wget is successful, <span class="ph">API Gateway</span> is considered healthy.</div><div id="wwID0EAMHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="inlinetitle">Graceful shutdown</span>.</div><div id="wwID0EXMHV" class="List_1_Continued">Docker stop issues a SIGTERM to the running <span class="ph">API Gateway</span>.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>