<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Configuring Rules</title><link rel="Prev" href="ta-policy_threat_denied_ips.html" title="Previous" /><link rel="Next" href="ta-policy_threat_mob_dev_app.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/ta-policy_threat_config_rules.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pJmbMBA_002bBYW_002b4mn4W9q8gVg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/ta-policy_threat_config_rules.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.303.html#wwconnect_header">Security Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/gtw_manage_threat_protection_policies.html#wwconnect_header">Threat Protection Policies</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Configuring Rules</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EVA2U" class="Heading_3">Configuring Rules</div><div id="wwID0EEB2U" class="Body">You can configure rules to filter malicious requests based on message size, authentication requests, requests from specific mobile devices and applications that could be harmful, requests that could cause an SQL injection attack, requests on anti-virus scan, XML / JSON requests, or use custom filters to avoid malicious attacks.</div><div id="wwID0E4A2U-2" class="Context"><span class="ph">API Gateway</span> applies rules in the order in which they are displayed on the <span class="uicontrol">Threat Protection</span> &gt; <span class="uicontrol">Rules</span> screen. Because a violation of a denial rule stops <span class="ph">API Gateway</span> from processing a request, hence it is important to prioritize the rules based on the order in, which you want them to be executed. The <span class="ph">API Gateway</span> processes denial rules followed by the alert rules.</div><div id="wwID0E3B2U" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To configure rules</div><div id="wwID0EIC2U" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command"> Click </span><span class="Command_002c_uicontrol">Policies</span><span class="Command"> in the title navigation bar. </span></div><div id="wwID0EHD2U" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">Threat protection &gt; Rules</span><span class="Command">. </span></div><div id="wwID0EGE2U" class="Step_Result_1">This displays a list of rules that are already configured.</div><div id="wwID0EME2U" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Add rule</span><span class="Command">. </span></div><div id="wwID0ELF2U" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">In the Rule properties section provide the following information: </span></div><div id="wwID0EIG2U" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>a. </span></span><span class="Command">Type a name for the rule in the </span><span class="Command_002c_uicontrol">Rule name</span><span class="Command"> field. </span></div><div id="wwID0EHH2U" class="Step_Info_2">Valid rule names:</div><div id="wwID0ESH2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Must be unique.</div><div id="wwID0EFI2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Must not be empty.</div><div id="wwID0EYI2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Must not contain spaces.</div><div id="wwID0ELJ2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Must not contain the special characters - ? ~ ` ! @ # $ % ^ &amp; * ( ) - + = { } | [ ] \\ : \" ; ' &lt; &gt; , /</div><div id="wwID0EBK2U" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>b. </span></span><span class="Command">Type a description for the rule in the </span><span class="Command_002c_uicontrol">Description</span><span class="Command"> field. </span></div><div id="wwID0EAL2U" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>c. </span></span><span class="Command">Select an action to be followed when the policy is violated: </span></div><div id="wwID0EDM2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Deny request and alert</span> to deny the access and send an alert when the policy is violated.</div><div id="wwID0EZM2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert</span> to allow the request and send an alert when the policy is violated.</div><div id="wwID0ESN2U" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>d. </span></span><span class="Command">Type the alert message text, in the </span><span class="Command_002c_uicontrol">Error message</span><span class="Command"> field, to be displayed when the policy is violated. </span></div><div id="wwID0ERO2U" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>e. </span></span><span class="Command">Select the required </span><span class="Command_002c_uicontrol">Request type</span><span class="Command"> to which you want to apply the rule and provide the additional information required. </span></div><div id="wwID0EQP2U" class="Step_Info_2">The available values are:</div><div id="wwID0E2P2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">ALL</span>. Applies the rule to all requests.</div><div id="wwID0ERQ2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">REST</span>. Applies the rule to all REST requests.</div><div id="wwID0EHR2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">SOAP</span>. Applies the rule to all SOAP requests.</div><div id="wwID0E4R2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">INVOKE</span>. Applies the rule to all INVOKE requests.</div><div id="wwID0ETS2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">CUSTOM</span>. Applies the rule to all requests specified by the custom directives. You can use this option if you want a single rule applied for multiple request types and custom directives.</div><div id="wwID0EMT2U" class="Substep_2"><span class="WebWorks_Number" style="width: 18pt"><span>f. </span></span><span class="Command">Provide the following information to filter the requests depending on the </span><span class="Command_002c_uicontrol">Request type</span><span class="Command"> selected: </span></div><div id="wwID0EWU2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Resource path</span>. Provide the <span class="uicontrol">Resource path</span> for the REST, SOAP, INVOKE, or CUSTOM Request type selected to filter the requests based on the resource being requested. The format for the REST, SOAP, and INVOKE request types is <span class="userinput">folder_name/service_name</span> and the format for a CUSTOM request type is <span class="userinput">given_directive/service_name</span>. You can add multiple resource paths using the <span class="uicontrol">Add</span> button.</div><div id="wwID0E3V2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Custom directives</span>. Provide the custom directives for the CUSTOM Request type to filter the incoming requests. For example, if you provide <span class="userinput">gateway</span> as the directive, the rule applies to all these requests that are received in <span class="ph">API Gateway</span> with the directive gateway. You can add multiple directives using the <span class="uicontrol">Add</span> button.</div><div id="wwID0EDX2U" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Command">Configure the required filters as follows: </span></div><div id="wwID0EAY2U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert settings</span>. Select one of the following options:</div><div id="wwID0E2Y2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Default</span>. Sets the default alert settings to be used.</div><div id="wwID0ERZ2U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Custom</span>. You can specify this option to use the custom alert settings and provide the required information.</div><div id="wwID0EM12U" class="List_4"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Alert destination</span>. Specify the alert destination. Values are <span class="uicontrol">Email</span> and <span class="uicontrol">Flow service</span>.</div><div id="wwID0EK22U" class="List_4_Continued">If you select <span class="uicontrol">Email</span>, provide the email ids to which the alert notification has to be sent.</div><div id="wwID0EU22U" class="List_4_Continued">If you select <span class="uicontrol">Flow service</span>, a flow service is invoked. Specify the name of the flow service. You can create a flow service using the <span class="apiname">pub.security.enterpriseGateway:alertSpec</span> as the signature of the service and or use the pre-defined flow service, <span class="apiname">pub.apigateway.threatProtection:violationListener</span>. When you use the pre-defined service, the alerts are saved in API Data Store and displayed in the <span class="ph">API Gateway</span> Dashboard. For more information about the <span class="apiname">pub.security.enterpriseGateway:alertSpec</span> specification, see the Integration Server Built-In Services Reference Guide.</div><div id="wwID0ES32U" class="List_4"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Provide the user, who has permissions to execute the service, as the user type. For example, <span class="userinput">Administrator</span>.</div><div id="wwID0EJ42U" class="List_4_Continued"><span class="uicontrol">Send alert</span>: Select a condition depending on when you want the alert to be sent. Available values are <span class="uicontrol">On rule violation</span> which sends an alert every time a request violates a rule or <span class="uicontrol">Every</span> and specify the time interval (in minutes), which send alerts at specified intervals.</div><div id="wwID0E642U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Message size filter</span></div><div id="wwID0E152U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0EV62U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Type the maximum size allowed for HTTP and HTTPS requests in the <span class="uicontrol">Maximum message size (MB)</span> field.</div><div id="wwID0EMA3U" class="List_3_Continued">If the request is larger than the size specified in this limit, the request violates the rule and <span class="ph">API Gateway</span> performs the configured action.</div><div id="wwID0EZA3U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">OAuth filter</span></div><div id="wwID0EUB3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0EPC3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Require OAuth credentials</span> toggle button to the <span class="uicontrol">On</span> position. This implies the request should contain the OAuth credentials else the request would be denied.</div><div id="wwID0EMD3U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Mobile application protection filter</span></div><div id="wwID0EDE3U" class="Choice_2_Continued">You can configure this filter to disable access for certain mobile application versions on a predefined set of mobile platforms. By disabling access to these versions, you are ensuring that all users are using the latest versions of the applications and taking advantage of the latest security and functional updates.</div><div id="wwID0EOE3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0EJF3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select the device type.</div><div id="wwID0E3F3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select the mobile application.</div><div id="wwID0EPG3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select the operator condition <span class="uicontrol">=</span>, <span class="uicontrol">&gt;</span>, <span class="uicontrol">&lt;</span>, <span class="uicontrol">&gt;=</span>, <span class="uicontrol">&lt;=</span> or <span class="uicontrol">&lt;&gt;</span>.</div><div id="wwID0E1H3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Type the mobile application version.</div><div class="ww_skin_page_overflow"><div id="wwID0ENI3U" class="List_3_Continued">You can add multiple entries by clicking <img class="Default" src="../yai-webhelp/images/add.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 30px; max-width: 54px; top: 0pt" alt="" />.</div></div><div id="wwID0EAJ3U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">SQL injection protection filter </span></div><div id="wwID0EXJ3U" class="Choice_2_Continued">You can use the SQL injection protection filter to block requests that could possibly cause an SQL injection attack. When this filter is enabled, <span class="ph">API Gateway</span> checks each request message for specific patterns of characters or keywords that are associated with potential SQL injection attacks. If a match is found in the request parameters or payload, <span class="ph">API Gateway</span> blocks the request from further processing.</div><div id="wwID0ELK3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the selected filter.</div><div id="wwID0EGL3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select the required filters as follows:</div><div id="wwID0E5L3U" class="List_4"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select <span class="uicontrol">Database-specific SQL injection protection</span> and select a database against which specific parameters needs to be checked.</div><div id="wwID0EVM3U" class="List_4_Continued">When enabled, <span class="ph">API Gateway</span> checks the incoming payload based on the specified database and GET or POST request parameters. If no parameter is specified, all input parameters are checked for possible SQL injection attack.</div><div id="wwID0EAN3U" class="List_4"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select <span class="uicontrol">Standard SQL injection protection</span> and specify one or more GET or POST request parameters that could be present in the incoming requests. Parameters can contain only alphanumeric characters, dollar sign ($), and underscore (_).</div><div class="ww_skin_page_overflow"><div id="wwID0EXN3U" class="List_4_Continued">You can add multiple entries by clicking <img class="Default" src="../yai-webhelp/images/add.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 30px; max-width: 54px; top: 0pt" alt="" />.</div></div><div id="wwID0EMO3U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Anti virus scan filter </span></div><div id="wwID0EDP3U" class="Choice_2_Continued">You can use the antivirus scan filter to configure <span class="ph">API Gateway</span> to interact with an Internet Content Adaptation Protocol (ICAP)-compliant server. An ICAP server is capable of hosting multiple services that you can use to implement features such as virus scanning or content filtering. Using the antivirus scan filter, <span class="ph">API Gateway</span> can leverage the ICAP protocol to scan all incoming HTTP requests and payloads for viruses.</div><div id="wwID0EXP3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0ESQ3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Type the antivirus ICAP engine name in the <span class="uicontrol">ICAP name</span> field.</div><div id="wwID0EJR3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Type the host name or IP address of the machine on which the ICAP server is running in the <span class="uicontrol">ICAP host name or IP address</span> field.</div><div id="wwID0EAS3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Type the port number on which the ICAP server is listening in the <span class="uicontrol">ICAP port number</span> field.</div><div id="wwID0EXS3U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Type the name of the service exposed by the ICAP server that you can use to scan your payload for viruses in the <span class="uicontrol">ICAP service name</span> field.</div><div id="wwID0EQT3U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">JSON threat protection filter </span></div><div id="wwID0EGU3U" class="Choice_2_Continued">You can use this filter to block attacks through JSON payload that have infinitely long strings or deeply nested payloads. <span class="ph">API Gateway</span> recommends that this protection should be combined with message size filter to identify infinite payloads.</div><div id="wwID0EQU3U" class="Choice_2_Continued">Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0E5U3U" class="Choice_2_Continued">You can specify any of these parameters as filter criteria. If you do not specify a value, the system applies a default value of -1, which means an unlimited value.</div><div class="ww_skin_page_overflow"><table class="rules3" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 30%"><div id="wwID0E4V3U" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 69.9%"><div id="wwID0EDW3U" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQW3U" class="Table_Cell"><span class="uicontrol">Container depth</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1W3U" class="Table_Cell">Specifies the maximum allowed containment depth, where the containers are objects or arrays.</div><div id="wwID0EAX3U" class="Table_Cell">For example, an array containing an object which contains an object would result in a containment depth of 3.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKX3U" class="Table_Cell"><span class="uicontrol">Object entry count</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUX3U" class="Table_Cell">Specifies the maximum number of entries allowed in an object.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5X3U" class="Table_Cell"><span class="uicontrol">Object entry name length field</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIY3U" class="Table_Cell">Specifies the maximum string length allowed for a property name within an object.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESY3U" class="Table_Cell"><span class="uicontrol">Array element count</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3Y3U" class="Table_Cell">Specifies the maximum number of elements allowed in an array.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGZ3U" class="Table_Cell"><span class="uicontrol">String value length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQZ3U" class="Table_Cell">Specifies the maximum length allowed for a string value.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1Z3U" class="Table_Cell"><span class="uicontrol">Applicable content type</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EE13U" class="Table_Cell">Specify any other content types to be included in the filter.</div><div class="ww_skin_page_overflow"><div id="wwID0EK13U" class="Table_Cell">You can add more entries by clicking <img class="Default" src="../yai-webhelp/images/add.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 30px; max-width: 54px; top: 0pt" alt="" />.</div></div></td></tr></table></div><div id="wwID0EA23U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">XML threat protection filter </span></div><div id="wwID0EW23U" class="Choice_2_Continued">You can use this filter to block attacks through XML payload that have infinitely long strings or deeply nested payloads. <span class="ph">API Gateway</span> recommends that this protection should be combined with message size filter to identify infinite payloads.</div><div id="wwID0EA33U" class="Choice_2_Continued">Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0EO33U" class="Choice_2_Continued">You can specify any of these parameters as filter criteria. If you do not specify a value, the system applies a default value of -1, which the system equates to no limit.</div><div class="ww_skin_page_overflow"><table class="rules3" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 29.3%"><div id="wwID0EN43U" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 70.6%"><div id="wwID0ET43U" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EA53U" class="Table_Cell"><span class="uicontrol">Namespace prefix length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EK53U" class="Table_Cell">Specifies a limit on the maximum number of characters permitted in the namespace prefix in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EU53U" class="Table_Cell"><span class="uicontrol">Namespace URI length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E553U" class="Table_Cell">Specifies a character limit for any namespace URIs present in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI63U" class="Table_Cell"><span class="uicontrol">Namespace count per element</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ES63U" class="Table_Cell">Specifies the maximum number of namespace definition allowed for any element.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E363U" class="Table_Cell"><span class="uicontrol">Child count</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGA4U" class="Table_Cell">Specifies the maximum number of child elements allowed for any element.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQA4U" class="Table_Cell"><span class="uicontrol">Attribute name length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1A4U" class="Table_Cell">Specifies a limit on the maximum number of characters permitted in any attribute name in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEB4U" class="Table_Cell"><span class="uicontrol">Attribute value length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOB4U" class="Table_Cell">Specifies a limit on the maximum number of characters permitted in any attribute value in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYB4U" class="Table_Cell"><span class="uicontrol">Attribute count per element</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECC4U" class="Table_Cell">Specifies the maximum number of attributes allowed for any element.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMC4U" class="Table_Cell"><span class="uicontrol">Element name length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWC4U" class="Table_Cell">Specifies a limit on the maximum number of characters permitted in any element name in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAD4U" class="Table_Cell"><span class="uicontrol">Text length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKD4U" class="Table_Cell">Specifies a character limit for any text node present in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUD4U" class="Table_Cell"><span class="uicontrol">Comment length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5D4U" class="Table_Cell">Specifies a character limit for any comments present in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIE4U" class="Table_Cell"><span class="uicontrol">Processing instruction target length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESE4U" class="Table_Cell">Specifies a limit on the maximum number of characters permitted in the target of any processing instructions in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3E4U" class="Table_Cell"><span class="uicontrol">Processing instruction data length</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGF4U" class="Table_Cell">Specifies a limit on the maximum number of characters permitted in the data value of any processing instructions in the XML document.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQF4U" class="Table_Cell"><span class="uicontrol">Node depth</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1F4U" class="Table_Cell">Specifies the maximum node depth allowed in the XML.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEG4U" class="Table_Cell"><span class="uicontrol">Applicable content types</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOG4U" class="Table_Cell">Specify any other content types to be included in the filter.</div><div class="ww_skin_page_overflow"><div id="wwID0EUG4U" class="Table_Cell">You can add multiple values by clicking <img class="Default" src="../yai-webhelp/images/add.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 30px; max-width: 54px; top: 0pt" alt="" />.</div></div></td></tr></table></div><div id="wwID0EKH4U" class="Choice_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Custom filter</span></div><div id="wwID0EAI4U" class="Choice_2_Continued">You can use the custom filter to invoke a service that is available on <span class="ph">API Gateway</span> to perform actions such as custom authentication of external clients in the DMZ, logging or auditing in the DMZ, or implementation of custom rules for processing various payloads.</div><div id="wwID0EQI4U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Set the <span class="uicontrol">Enable</span> button to the <span class="uicontrol">On</span> position to enable the filter.</div><div id="wwID0ELJ4U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Click <span class="uicontrol">Browse</span> and select a service to invoke it.</div><div id="wwID0ECK4U" class="List_3"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Select the user name of a user you want <span class="ph">API Gateway</span> to run the service. The default value is Administrator.</div><div id="wwID0E4K4U" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>6. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Save</span><span class="Command">. </span></div><div id="wwID0E3L4U" class="Step_Result_1">The new rule is created and appears in the list of rules in the Rules page.</div><div id="wwID0EKM4U" class="Body">The rule is applied to requests only if the rule is enabled. You can enable the rule in the Rules page by selecting the enable icon for the required rule.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>