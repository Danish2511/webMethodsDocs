<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Using the Externalized Configuration Files</title><link rel="Prev" href="co-externalizing_configurations_overview.html" title="Previous" /><link rel="Next" href="co-externalizing_configurations_default_scenario.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/co-understanding_externalized_configuration_files.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pyzU6xccchcIRQXH6WFbWbg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/co-understanding_externalized_configuration_files.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.033.html#wwconnect_header">Deployment</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/co-deploy_configuration.html#wwconnect_header">Deployment Configurations</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/co-externalizing_configurations_overview.html#wwconnect_header">Externalizing Configurations</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Using the Externalized Configuration Files</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EFZKM" class="Heading_4">Using the Externalized Configuration Files</div><div id="wwID0ENZKM" class="Body">The <span class="ph">API Gateway</span> administrator provides configuration settings in one or more external configuration files and creates the master configuration file listing the external configuration files. On startup, <span class="ph">API Gateway</span> reads <span class="filepath">config-sources.yml</span> file and loads all the external configuration source files that it references. The settings in the externalized configuration files override the respective internal configuration settings (such as uiconfiguration.properties, server.cnf). Once the <span class="ph">API Gateway</span> configuration space is updated, the rest of the <span class="ph">API Gateway</span> package gets loaded with the updated configuration settings.</div><div id="wwID0EG1KM" class="Note"><span class="Bold">Note:<br /></span>For settings that are not given in the externalized configuration files, <span class="ph">API Gateway</span> use the settings given in the internal configuration files.</div><div id="wwID0EB2KM" class="Body">The below sample externalized configuration file template contains the configuration settings that the <span class="ph">API Gateway</span> administrator wants to externalize. The given external configuration settings overwrite the respective internal configuration settings. For the configuration settings that are not specified in the externalized configuration file, the settings given in the respective internal configuration files take precedence.</div><div id="wwID0EL2KM" class="Preformatted"><br />apigw:<br />  elasticsearch:<br />    .....<br />  analyticsDataStore:<br />    .....<br />  kibana:<br />    .....<br />  filebeat:<br />    ......<br />  cluster:<br />    ......<br />  users:<br />    ......<br />  masterpassword:<br />    ......  <br />  ui:<br />    ......<br />  alias:<br />    ......<br /><br /></div><div id="wwID0EY2KM" class="Section_Title">Elasticsearch Configuration</div><div id="wwID0E42KM" class="Note"><span class="Bold">Note:<br /></span>Install and run Elasticsearch, version 8.2.3, if you are configuring an external Elasticsearch.</div><div id="wwID0ET3KM" class="Body">The Elasticsearch configuration and details section contains all the necessary properties for an Elasticsearch HTTP client using which <span class="ph">API Gateway</span> connects to either an externally running Elasticsearch server or to the Elasticsearch-powered API Data Store in <span class="ph">API Gateway</span>. The key configurations are as follows:</div><div id="wwID0EH4KM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">tenantId</span>. The <span class="ph">API Gateway</span> tenant id, using which the Elasticsearch indices are created for that tenant.</div><div id="wwID0EB5KM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">hosts</span>. A comma separated list of Elasticsearch instances. Example: host1:9200,host2:9240.</div><div id="wwID0EX5KM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">autostart</span>. <span class="emphasis">Optional</span>. If the value is not provided, by default it would be <span class="userinput">false</span>. <span class="ph">API Gateway</span> would connect to the given external Elasticsearch hosts. If the value is set to <span class="userinput">true</span>, <span class="ph">API Gateway</span> automatically starts the API Data Store. In this case, the hosts should point to API Data Store host and port. The default host for the API Data Store is localhost:9240.</div><div id="wwID0ECALM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">http</span>. The basic authentication credentials and HTTP-connection specific properties.</div><div id="wwID0EYALM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">https</span>. If the enabled property within https is set to <span class="userinput">true</span>, <span class="ph">API Gateway</span> uses the other https properties to connect to the configured hosts.</div><div id="wwID0EWBLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sniff</span>. These properties help in adding a new Elasticsearch node to the Elasticsearch cluster.</div><div id="wwID0EMCLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">outboundproxy</span>. Outbound proxy settings between <span class="ph">API Gateway</span> and Elasticsearch.</div><div id="wwID0EGDLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">clientHttpResponseSize</span>. Maximum Response payload size in MB.</div><div id="wwID0E4DLM" class="Body">A sample Elasticsearch configuration is as follows:</div><div id="wwID0ECELM" class="Preformatted">apigw:<br />  elasticsearch:<br />    tenantId: apigateway<br />    hosts: localhost:9200<br />    autostart: false<br />    http:<br />      username: elastic<br />      password: changeme<br />      keepAlive: true<br />      keepAliveMaxConnections: 10<br />      keepAliveMaxConnectionsPerRoute: 100<br />      connectionTimeout: 1000<br />      socketTimeout: 10000<br />      maxRetryTimeout: 100000<br />    https:<br />      enabled: false<br />      keystoreFilepath: C:/softwares/elasticsearch/config/keystore-new.jks<br />      truststoreFilepath: C:/softwares/elasticsearch/config/truststore-new.ks<br />      keystoreAlias: root-ca<br />      keystorePassword: 6572b9b06156a0ff778c<br />      truststorePassword: manage<br />      enforceHostnameVerification: false<br />    sniff:<br />      enable: false<br />      timeInterval: 1000<br />    outboundProxy:<br />      enabled: false<br />      alias: somealias<br />    clientHttpResponseSize: 1001231</div><div id="wwID0EOELM" class="Section_Title">Analytics Data Store Configuration</div><div id="wwID0ETELM" class="Note"><span class="Bold">Note:<br /></span>Install and run Elasticsearch, version 8.2.3, if you are configuring an external Elasticsearch.</div><div id="wwID0EJFLM" class="Body">The analytics data store configuration supports setting the analytics data store to store analytics data separately from the core data. It also contains the required properties to establish a communication channel between <span class="ph">API Gateway</span> and analytics data store to exchange data. The key configurations are as follows:</div><div id="wwID0EXFLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">tenantId</span>. The <span class="ph">API Gateway</span> tenant id, using which the Elasticsearch indices are created for that tenant.</div><div id="wwID0EPGLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">hosts</span>. A comma separated list of Elasticsearch instances. Example: host1:9200, host2:9240.</div><div id="wwID0EDHLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">http</span>. The basic authentication credentials and HTTP-connection specific properties.</div><div id="wwID0EXHLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">https</span>. The HTTPS-connection specific properties. If the enabled property within https is set to <span class="userinput">true</span>, <span class="ph">API Gateway</span> uses the other https properties to connect to the configured hosts.</div><div id="wwID0ETILM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sniff</span>. These properties help in adding a new Elasticsearch node to the Elasticsearch cluster.</div><div id="wwID0EHJLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">outboundproxy</span>. Outbound proxy settings between <span class="ph">API Gateway</span> and Elasticsearch.</div><div id="wwID0E6JLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">clientHttpResponseSize</span>. Maximum response payload size in MB.</div><div id="wwID0EUKLM" class="Body">A sample analytics data store configuration is as follows:</div><div id="wwID0EZKLM" class="Preformatted"><br />---<br />apigw:<br />  analyticsDataStore:<br />    tenantId: default<br />    hosts: localhost:9241<br />    http:<br />      username: analyticsdatastore<br />      password: changeme<br />      keepAlive: true<br />      keepAliveMaxConnections: 60<br />      keepAliveMaxConnectionsPerRoute: 20<br />      connectionTimeout: 2000<br />      socketTimeout: 40000<br />      maxRetryTimeout: 200000<br />    https:<br />      enabled: false<br />      keystoreFilepath: C:/softwares/analyticsdatastore/config/demouser-keystore.jks<br />      truststoreFilepath: C:/softwares/analyticsdatastore/config/truststore.jks<br />      keystoreAlias: cn=demouser<br />      keystorePassword: 6572b9b06156a0ff778c<br />      truststorePassword: 2c0820e69e7dd5356576<br />      enforceHostnameVerification: false<br />    sniff:<br />      enable: false<br />      timeInterval: 70000<br />    outboundProxy:<br />      enabled: false<br />      alias: somealias<br />    clientHttpResponseSize: 200</div><div id="wwID0EHLLM" class="Section_Title">Kibana Configuration</div><div id="wwID0EMLLM" class="Note"><span class="Bold">Note:<br /></span>Install Kibana, version 8.2.3, if configuring an external instance of Kibana.</div><div id="wwID0ECMLM" class="Body">The Kibana configuration supports setting the Kibana server URL, which can point to either the one that is run by <span class="ph">API Gateway</span> or any externally running server. It also contains the SSL certificate related settings that would be used to connect to the SSL protected Elasticsearch server. The key configurations are as follows:</div><div id="wwID0ESMLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">dashboardInstance</span>. The Kibana server URL in the format <span class="varname">scheme</span>://<span class="varname">hostname</span>:<span class="varname">port</span>. Example: <span class="codeph">http://vmabc:5601</span>.</div><div id="wwID0E2NLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">autostart</span>. <span class="emphasis">Optional</span>. If the value is not provided, by default it would be <span class="userinput">false</span>. <span class="ph">API Gateway</span> would connect to the given external Kibana server. If the value is set to <span class="userinput">true</span>, <span class="ph">API Gateway</span> automatically starts the internal Kibana server. In this case, the hosts should point to internal Kibana server host and port. The default value is <span class="codeph">http://localhost:9405</span>.</div><div id="wwID0EKPLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslCA</span>. A list of paths to the PEM file for the certificate authority for the Elasticsearch instance.</div><div id="wwID0EAQLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslCert</span>. The path to the PEM format certificate for SSL client authentication.</div><div id="wwID0EWQLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslKey</span>. The client certificate key used for client authentication. These files are used to verify the identity of Kibana to the Elasticsearch server when it is SSL protected.</div><div id="wwID0ENRLM" class="Body">A sample Kibana configuration is as follows:</div><div id="wwID0ESRLM" class="Preformatted"><br />apigw:<br />  kibana:<br />    dashboardInstance: http://localhost:9405<br />    autostart: true<br />    elasticsearch:<br />      sslCA: C:/softwares/elasticsearch/config/SAG-B1HPWT2.pem<br />      sslCert: C:/softwares/elasticsearch/config/SAG-B1HPWT2.crt<br />      sslKey: C:/softwares/elasticsearch/config/SAG-B1HPWT2.key</div><div id="wwID0EASLM" class="Section_Title">Filebeat Configuration</div><div id="wwID0EFSLM" class="Body">The Filebeat configuration supports configuring the SSL certificate related settings that are used to connect to the SSL protected Elasticsearch server. The key configurations are as follows:</div><div id="wwID0EQSLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslCA</span>. A list of paths to the PEM file for the certificate authority for the Elasticsearch instance.</div><div id="wwID0EGTLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslCert</span>. The path to the PEM format certificate for SSL client authentication.</div><div id="wwID0E3TLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslKey</span>. The client certificate key used for client authentication. These files are used to verify the identity of Kibana to Elasticsearch server when it is SSL protected.</div><div id="wwID0ETULM" class="Body">A sample Filebeat configuration is as follows:</div><div id="wwID0EYULM" class="Preformatted"><br />apigw:<br />  filebeat:<br />    output:<br />      elasticsearch:<br />        sslCA: C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.pem<br />        sslCert: C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.crt<br />        sslKey: C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.key</div><div id="wwID0EWVLM" class="Section_Title">Cluster Configuration</div><div id="wwID0E2VLM" class="Body">This section describes the cluster configuration steps for both peer-to-peer clustering using Apache Ignite or Terracotta Server Array.</div><div id="wwID0EAWLM" class="Body"><span class="inlinetitle">Peer-to-peer cluster configuration based on Apache Ignite technology</span></div><div id="wwID0EKWLM" class="Body">With peer-to-peer clustering the cluster members synchronize by using distributed caches. Therefore, each <span class="ph">API Gateway</span> server requires two ports. Hence, these ports have to be accessible for communication. If you have deployed the cluster on a traditional on-premise installation with real or virtual machines then the firewall must be open to the server ports.</div><div id="wwID0EUWLM" class="Body">In order to form a cluster, each cluster member requires information about possible other servers. If the cluster is deployed on a traditional on-premise installation, or as Docker containers, then you have to specify the names of the participating hosts. This is an initial member list. If you want to scale the cluster, you can include servers with host name that is not in the initial list. Such a server contacts any server in the initial list, and then negotiates joining the cluster.</div><div id="wwID0EZWLM" class="Body">If the cluster is deployed in a Kubernetes environment, the cluster specification requires the Kubernetes namespace and the name of the Kubernetes service that exposes the <span class="ph">API Gateway</span> deployment. New cluster members are then detected by checking the endpoints attached to the Kubernetes service.</div><div id="wwID0EDXLM" class="Body">In order to analyze the service endpoints you must start the <span class="ph">API Gateway</span> deployment with a service account with specific permissions. For details about the service account permissions, see 
    <a href="../yai-webhelp/co-clustering_kubernetes.html#wwID0EBZNV"
   
     title="API Gateway Clustering on Kubernetes"
    ><span class="heading-page">API Gateway Clustering on Kubernetes</span></a>.</div><div id="wwID0EYXLM" class="Body">The cluster configuration contains peer-to-peer cluster and the related Elasticsearch cluster settings.</div><div id="wwID0E4XLM" class="Note"><span class="Bold">Note:<br /></span>The cluster configuration for Elasticsearch clustering settings is only applicable to API Data Store.</div><div id="wwID0EUYLM" class="Body">The key configurations are as follows:</div><div id="wwID0E6YLM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">aware</span>, <span class="codeph">name</span>, <span class="codeph">sessTimeout</span>, <span class="codeph">actionOnStartupError</span>. These parameters have the same meaning as in Terracotta clustering. However, note that in this case they will not be applied to the server <span class="parmname">watt</span> properties.</div><div id="wwID0EG1LM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">ignite.discoveryPort</span>. The port that is used to discover the participating cluster members. Each cluster member opens this port in order to be discoverable. Each server tries to contact other servers through this port. The discoveryPort must be different from the communicationPort.</div><div id="wwID0E31LM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">ignite.communicationPort</span>. The port that is used to communicate between distributed caches. Each server opens this port to receive information and distribute distribute cache entries to other cluster members. The communicationPort must be different from the discoveryPort.</div><div id="wwID0ES2LM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">ignite.portRange</span>. The number of ports to include in the range available to multiple cluster members on the same host. The default value of the <span class="codeph">portRange</span> parameter is 0.</div><div id="wwID0EM3LM" class="List_1_Continued">The <span class="codeph">portRange</span> parameter applies to both the <span class="codeph">discoveryPort</span> and the <span class="codeph">communicationPort</span>. When you specify a non-zero portRange value, ensure that the resulting ranges for the discovery port and the communication port do not overlap.</div><div id="wwID0E53LM" class="List_1_Continued">Generally, each cluster member is deployed on its own host. However, for trial or demo purposes you might have multiple cluster members on the same host. In such a situation, each server requires its own discovery and communication port, and must know the other servers' ports. You can use the <span class="codeph">portRange</span> parameter to configure this scenario. The <span class="codeph">portRange</span> is a number that defines the size of a port range. For example, if you configure the port with port number 10100 and <span class="codeph">portRange</span> as 5, the resulting port range that is available is 10100 to 10105. When a server starts, it picks an unused port from the range 10100 to 10105, and uses the port to communicate with the other servers. Another server on start up can use an unused port from the same port range to communicate with the other servers. This allows all servers to use the same cluster configuration.</div><div id="wwID0ER4LM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">ignite.hostnames</span>. The list of initial host names participating in the cluster. The list is comma-separated.</div><div id="wwID0EH5LM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">ignite.k8sServiceName</span>. The name of the service that exposes the <span class="ph">API Gateway</span> deployment, in case of a Kubernetes cluster.</div><div id="wwID0EB6LM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">ignite.k8sNamespace</span>. The name of the Kubernetes namespace within which the <span class="ph">API Gateway</span> is deployed, in case of a Kubernetes cluster.</div><div id="wwID0E36LM" class="Body">A sample cluster configuration for an on-premise or Docker deployment is as follows:</div><div id="wwID0EBAMM" class="Preformatted">apigw:<br />  cluster:<br />    aware:       true<br />    name:        APIGatewayCluster<br />    sessTimeout: 60<br />    actionOnStartupError: standalone<br />    ignite:<br />      hostnames:         daeirnd33974,daeirnd33562,daeirnd33974<br />      discoveryPort:     10100<br />      communicationPort: 10400<br /></div><div id="wwID0EHAMM" class="Body">A sample cluster configuration for Kubernetes cluster is as follows:</div><div id="wwID0EMAMM" class="Preformatted">apigw:<br />  cluster:<br />    aware:       true<br />    name:        APIGatewayCluster<br />    sessTimeout: 60<br />    actionOnStartupError: standalone<br />    ignite:<br />      k8sServiceName:    api-gateway-service<br />      k8sNamespace:      api-gateway-namespace<br />      discoveryPort:     10100<br />      communicationPort: 10400<br /></div><div id="wwID0ESAMM" class="Body">A sample cluster configuration for multiple servers on the same host is as follows:</div><div id="wwID0EXAMM" class="Preformatted">apigw:<br />  cluster:<br />    aware:       true<br />    name:        APIGatewayCluster<br />    sessTimeout: 60<br />    actionOnStartupError: standalone<br />    ignite:<br />      hostnames:         localhost<br />      discoveryPort:     10100<br />      communicationPort: 10400<br />      portRange:         3<br />    </div><div id="wwID0E4AMM" class="Body"><span class="inlinetitle">Cluster configuration using Terracotta Server Array</span></div><div id="wwID0EHBMM" class="Note"><span class="Bold">Note:<br /></span>Install and run the Terracotta server (a version that is compatible with API Gateway 10.11) for clustering <span class="ph">API Gateway</span> instances.</div><div id="wwID0EBCMM" class="Body">The cluster configuration contains the Terracotta cluster settings. The key configurations are as follows:</div><div id="wwID0EMCMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">aware</span>, <span class="codeph">name</span>, <span class="codeph">tsaUrls</span>, <span class="codeph">sessTimeout</span>, <span class="codeph">actionOnStartupError</span>. All are required Terracotta cluster settings in the server <span class="parmname">watt</span> properties.</div><div id="wwID0EXDMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">terracottaLicenseFileName</span>. The Terracotta server license file name. The file should be present in the folder <span class="filepath_002c_varname">SAGInstallDir</span><span class="filepath">/common/conf</span>. <span class="ph">API Gateway</span> uses this file to join the Terracotta cluster.</div><div id="wwID0E3EMM" class="Body">A sample Cluster configuration is as follows:</div><div id="wwID0EBFMM" class="Preformatted"><br />apigw:<br />  cluster:<br />    aware: true<br />    name: APIGatewayTSAcluster<br />    tsaUrls: VMYAI105BVT06:9510<br />    terracottaLicenseFileName: terracotta-license.key<br />    sessTimeout: 20<br />    actionOnStartupError: standalone</div><div id="wwID0EHFMM" class="Body">For <span class="codeph">terracottaLicenseFileName</span> parameter a valid license file should be present in the <span class="filepath_002c_varname">SAGInstallDir</span><span class="filepath">/common/conf</span> location, otherwise the parameter is ignored.</div><div id="wwID0E2FMM" class="Note"><span class="Bold">Note:<br /></span>When cluster settings are given in the configuration files, the <span class="ph">API Gateway</span> server, on startup, updates the internal settings with the values from the configuration files but the <span class="ph">API Gateway</span> node does not join the cluster. You must restart the server for the cluster settings to become effective and for the <span class="ph">API Gateway</span> node to join the cluster.</div><div id="wwID0EFHMM" class="Section_Title">User Configuration</div><div id="wwID0EKHMM" class="Body">The user configuration supports configuring user and group information on the <span class="ph">API Gateway</span> server. By default, the local users created are assigned to the <span class="uicontrol">Everybody</span> group. The key configurations are as follows:</div><div id="wwID0E5HMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">firstName.</span> First name of the user.</div><div id="wwID0EUIMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">lastName.</span> Last name of the user.</div><div id="wwID0EKJMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">password.</span> Password of the user.</div><div id="wwID0EAKMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">emailAddresses.</span> List of email addresses of the user.</div><div id="wwID0EWKMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">active.</span> Active status of the user.</div><div id="wwID0EMLMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">language.</span> Preferred language of the user.</div><div id="wwID0ECMMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">groups.</span> Names of the groups the user belongs to.</div><div id="wwID0EZMMM" class="Body">A sample user configuration is as follows:</div><div id="wwID0E5MMM" class="Preformatted"><br />---<br />apigw:<br />  users:<br />    tstk:<br />      firstName: "stark"<br />      lastName: "Koop"<br />      password: "oops"<br />      emailAddresses: [ tstk@sag.com, tstk@sag.co.uk ]<br />      active: true<br />      groups:<br />      - "group1"<br />      - "group2"<br />    fred:<br />      firstName: "Fred"<br />      lastName: "Barker"<br />      password: "oops"<br />      emailAddresses: [ fred@sag.com ]<br />      active: true<br />      groups: [group1,group2]<br />    bob:<br />      firstName: "Bob"<br />      lastName: "Tate"<br />      password: "oops"<br />      emailAddresses: [ bob@sag.com ]<br />      active: true<br /></div><div id="wwID0EMNMM" class="Section_Title">Master Password Configuration</div><div id="wwID0ERNMM" class="Body">In <span class="ph">API Gateway</span>, you would be using passwords while enforcing security related policies, while connecting to various destinations such as, <span class="ph">API Portal</span>, <span class="ph">CentraSite</span>, Email, and SNMP, while configuring the security-related aliases, configuring outbound proxy servers, and so on.</div><div id="wwID0EDOMM" class="Body">To protect these passwords API Gateway encrypts them. By default, it encrypts them using Password-Based Encryption (PBE) standard, also known as PKCS5. This encryption method requires the use of an encryption key or master password that you specify.</div><div id="wwID0EIOMM" class="Body">The master password configuration supports configuring of encryption key or master password on the <span class="ph">API Gateway</span> server. The key configurations are as follows:</div><div id="wwID0EYOMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">expiry.</span> Expiry interval for the master password.</div><div id="wwID0EOPMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">oldPassword.</span> Current password of the user.</div><div id="wwID0EEQMM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">newPassword.</span> New password of the user.</div><div id="wwID0E2QMM" class="Body">A sample master password configuration is as follows:</div><div id="wwID0EARMM" class="Preformatted"><br />---<br />apigw:<br />  masterpassword:<br />    expiry: "60"<br />    oldPassword: "old1"<br />    newPassword: "new1"</div><div id="wwID0EORMM" class="Section_Title">UI Configuration</div><div id="wwID0ETRMM" class="Body">The UI configuration supports configuring HTTP and HTTPS port on the <span class="ph">API Gateway</span> server.</div><div id="wwID0E4RMM" class="Body">The key HTTP and HTTPS configurations are as follows:</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 29.5%"><div id="wwID0E3SMM" class="Table_Cell_Head">Parameters</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 70.4%"><div id="wwID0ECTMM" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPTMM" class="Table_Cell"><span class="codeph">maxHttpHeaderSize</span></div><div id="wwID0EYTMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5TMM" class="Table_Cell">Specifies the maximum size of the request and response HTTP header, specified in bytes. If not specified, this attribute is set to 8192 (8 KB).</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIUMM" class="Table_Cell"><span class="codeph">connectionTimeout</span></div><div id="wwID0ERUMM" class="Table_Cell">This parameter is applicable to HTTP.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXUMM" class="Table_Cell">This property specifies the time, in milliseconds, after which the connection times out.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EBVMM" class="Table_Cell"><span class="codeph">server</span></div><div id="wwID0EKVMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQVMM" class="Table_Cell">This property overrides the server header for the HTTP response.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1VMM" class="Table_Cell"><span class="codeph">maxSpareThreads</span></div><div id="wwID0EDWMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EJWMM" class="Table_Cell">Specifies the maximum number of request processing threads the connector creates, which determines the maximum number of simultaneous requests that <span class="ph">API Gateway</span> server can handle.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYWMM" class="Table_Cell"><span class="codeph">disableUploadTimeout</span></div><div id="wwID0EBXMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHXMM" class="Table_Cell">This flag allows the servlet container to use a different, usually longer connection timeout during data upload.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERXMM" class="Table_Cell"><span class="codeph">minSpareThreads</span></div><div id="wwID0E1XMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAYMM" class="Table_Cell">Specifies the minimum number of threads always kept running. This includes both active and idle threads.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EKYMM" class="Table_Cell"><span class="codeph">redirectPort</span></div><div id="wwID0ETYMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZYMM" class="Table_Cell">When a SSL port is required by the client, the request is redirected to this port number.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDZMM" class="Table_Cell"><span class="codeph">acceptCount</span></div><div id="wwID0EMZMM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESZMM" class="Table_Cell">Specifies the maximum queue length for incoming connection requests when all possible request processing threads are in use. Any requests received when the queue is full is refused. The default value is 100.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3ZMM" class="Table_Cell"><span class="codeph">port</span></div><div id="wwID0EF1MM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EL1MM" class="Table_Cell">Specifies the TCP port number on which this connector creates a server socket and awaits incoming connections.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EV1MM" class="Table_Cell"><span class="codeph">enableLookups</span></div><div id="wwID0E51MM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EE2MM" class="Table_Cell">Set to <span class="codeph">true</span> if you want calls to <span class="codeph">request.getRemoteHost()</span> to perform DNS lookup in order to return the actual host name of the remote client. Set to <span class="codeph">false</span> to skip the DNS lookup and return the IP address in string form instead (thereby improving performance).</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E22MM" class="Table_Cell"><span class="codeph">enabled</span></div><div id="wwID0EE3MM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EK3MM" class="Table_Cell">Enable or disable <span class="ph">API Gateway</span> web-app port.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EZ3MM" class="Table_Cell"><span class="codeph">alias</span></div><div id="wwID0EC4MM" class="Table_Cell">This parameter is applicable to HTTP and HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI4MM" class="Table_Cell">Identifies a proxy server and a port on the server through which you want to route requests.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ES4MM" class="Table_Cell"><span class="codeph">sslProtocol</span></div><div id="wwID0E24MM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EB5MM" class="Table_Cell">Specifies the SSL protocols to use. A single value may enable multiple protocols. For more information, see JVM documentation. If not specified, the default is <span class="codeph">TLS</span>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQ5MM" class="Table_Cell"><span class="codeph">sslEnabled</span></div><div id="wwID0EZ5MM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E65MM" class="Table_Cell">Use this attribute to enable SSL traffic on a connector. The default value is <span class="codeph">false</span>. To turn on SSL handshake or encryption or decryption on a connector set this value to <span class="codeph">true</span>.When turning this value to <span class="codeph">true</span>, set the scheme and the secure attributes to pass the correct <span class="codeph">request.getScheme()</span> and <span class="codeph">request.isSecure()</span> values to the servlets.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E56MM" class="Table_Cell"><span class="codeph">keystoreType</span></div><div id="wwID0EHANM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENANM" class="Table_Cell">The keystore file type to use for the server certificate. If not specified, the default value is <span class="codeph">JKS</span>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3ANM" class="Table_Cell"><span class="codeph">keystoreFile</span></div><div id="wwID0EFBNM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELBNM" class="Table_Cell">The pathname of the keystore file where the server certificate is stored. By default, the pathname is the file <span class="codeph">.keystore</span> in the operating system home directory of the user that is running Tomcat. If the <span class="codeph">keystoreType</span> doesn't need a file use " " (empty string) for this parameter.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5BNM" class="Table_Cell"><span class="codeph">keystorePass</span></div><div id="wwID0EHCNM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENCNM" class="Table_Cell">The password used to access the specified keystore file.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXCNM" class="Table_Cell"><span class="codeph">scheme</span></div><div id="wwID0EADNM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGDNM" class="Table_Cell">Set this attribute to the name of the protocol you wish to have returned by calls to <span class="codeph">request.getScheme()</span>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVDNM" class="Table_Cell"><span class="codeph">secure</span></div><div id="wwID0E5DNM" class="Table_Cell">This parameter is applicable to HTTPS.</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EEENM" class="Table_Cell">Set this attribute to <span class="codeph">true</span> if you wish to have calls to <span class="codeph">request.isSecure()</span> to return <span class="codeph">true</span> for requests received by this connector.</div></td></tr></table></div><div id="wwID0E2ENM" class="Body">For more information on HTTP and HTTPS port configuration, see 
    <a href="http://tomcat.apache.org/tomcat-8.5-doc/config/http.html#SSL_Support_-_Certificate"
   
     target="external_window"
    ><span class="heading-page">Apache Tomcat documentation</span></a>.</div><div id="wwID0ELFNM" class="Body">A sample UI configuration is as follows:</div><div id="wwID0EQFNM" class="Preformatted"><br />---<br />apigw:<br />  ui:<br />    http:<br />      maxHttpHeaderSize: "8192"<br />      connectionTimeout: "20001"<br />      server: "SoftwareAG-Runtime"<br />      maxSpareThreads: "78"<br />      disableUploadTimeout: "true"<br />      minSpareThreads: "23"<br />      redirectPort: "19073"<br />      acceptCount: "102"<br />      port: "11072"<br />      enableLookups: "false"<br />      enabled: "true"<br />      alias: "defaultHttp"<br />    https:<br />      maxHttpHeaderSize: "8192"<br />      server: "SoftwareAG-Runtime"<br />      maxSpareThreads: "72"<br />      disableUploadTimeout: "true"<br />      minSpareThreads: "22"<br />      acceptCount: "104"<br />      port: "11075"<br />      enableLookups: "false"<br />      enabled: "true"<br />      alias: "defaultHttps"<br />      sslProtocol: "tls"<br />      sslEnabled: "true"<br />      keystoreType: "xxy"<br />      keystoreFile: "Test2"<br />      keystorePass: "geheim"<br />      scheme: "xScheme"<br />      secure: "true"<br /></div><div id="wwID0E5FNM" class="Section_Title">Aliases Configuration</div><div id="wwID0EDGNM" class="Body">An alias in <span class="ph">API Gateway</span> holds environment-specific property values to use in policy routing configuration. <span class="ph">API Gateway</span> aliases can be defined through external configuration. The alias configuration supports configuring aliases on the <span class="ph">API Gateway</span> server.</div><div id="wwID0EVGNM" class="Body">The key configurations are as follows:</div><div id="wwID0EAHNM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">name.</span> A unique name for the alias.</div><div id="wwID0EWHNM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">description.</span> A description of the alias.</div><div id="wwID0EMINM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">type.</span> Type of the alias. The following aliases configuration are supported:</div><div id="wwID0EHJNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">simple</span></div><div id="wwID0E4JNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">endpoint</span></div><div id="wwID0ETKNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">httpTransportSecurityAlias</span></div><div id="wwID0EJLNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">soapMessageSecurityAlias</span></div><div id="wwID0E6LNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">samlIssuerAlias</span></div><div id="wwID0EVMNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">authServerAlias</span></div><div id="wwID0ELNNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">webmethodsAlias</span></div><div id="wwID0EBONM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">transformationAlias</span></div><div id="wwID0EXONM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">serviceRegistryAlias</span></div><div id="wwID0ENPNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">clientMetadataMapping</span></div><div id="wwID0EDQNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">awsConfigurationAlias</span></div><div id="wwID0EZQNM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">isConfigurationAlias</span></div><div id="wwID0ERRNM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">owner.</span> Owner of the alias.</div><div id="wwID0EISNM" class="Body">Sample configuration of the supported aliases are as follows:</div><div id="wwID0ENSNM" class="Body"><span class="inlinetitle_002c_codeph">simple</span><span class="inlinetitle"> alias configuration:</span></div><div id="wwID0E4SNM" class="Preformatted"><br />apigw:<br />  aliases:<br />    simpleAlias1:<br />        type: "simple"<br />        value: "vmspar02w"<br /></div><div id="wwID0EDTNM" class="Body"><span class="inlinetitle_002c_codeph">endpoint</span><span class="inlinetitle"> alias configuration:</span></div><div id="wwID0ETTNM" class="Preformatted"><br />apigw:<br />  aliases:<br />      endpointAlias1:<br />          type: "endpoint"<br />          endPointURI: "http://vmspar02w:9998"<br />          connectionTimeout: 30<br />          readTimeout: 30<br />          suspendDurationOnFailure: 0<br />          optimizationTechnique: "None"<br />          passSecurityHeaders: false<br />          keystoreAlias: "ksAlias"<br /></div><div id="wwID0EZTNM" class="Body"><span class="inlinetitle_002c_codeph">httpTransportSecurityAlias</span><span class="inlinetitle"> configuration:</span></div><div id="wwID0EJUNM" class="Preformatted"><br />apigw:<br />  aliases:<br />    httpSec1:<br />      type: "httpTransportSecurityAlias"<br />      authType: "HTTP_BASIC"<br />      authMode: "INCOMING_HTTP_BASIC_AUTH"<br />      httpAuthCredentials:<br />        userName: "Bob"<br />        password: "R3Vlc3NJdA=="<br />        domain: "EUR"<br /></div><div id="wwID0EPUNM" class="Body"><span class="inlinetitle_002c_codeph">isConfigurationAlias</span><span class="inlinetitle"> configuration:</span></div><div id="wwID0E6UNM" class="Preformatted"><br />apigw:<br />  aliases:<br />    myIsAlias:<br />      type: "isConfigurationAlias"<br />      url: "http://localhost:5555"<br />      username: "Administrator"<br />      password: "bXlwYXNz"<br />      keystoreAlias: "DEFAULT_IS_KEYSTORE"<br />      keyAlias: "ssos"<br />      packageName: "WmAPIGateway"<br />      folderName: "test2"<br />      importSwaggerBasedOnTags: "false"<br />      enableMTOM: "true"<br />      enforceWSICompliance: "true"<br />      validateSchemaWithXerces: "true"<br />      contentModelComplianceForWSDL: "Lax"<br /><br /></div><div id="wwID0EFVNM" class="Body"><span class="inlinetitle_002c_codeph">authServerAlias</span><span class="inlinetitle"> configuration:</span></div><div id="wwID0EVVNM" class="Preformatted"><br />apigw:<br />  aliases: <br />   testAuthServer:<br />      type: "authServerAlias"<br />      description: "Test Auth server"<br />      tokenGeneratorConfig:<br />        expiry: "0"<br />        accessTokenExpInterval: "3600"<br />        authCodeExpInterval: "600"<br />        algorithm: "null"<br />      supportedGrantTypes: ["authorization_code","client_credentials","implicit"]<br />      authServerType: "EXTERNAL"<br />      localIntrospectionConfig: <br />        issuer: "testIssuer"<br />        trustStoreAlias: "DEFAULT_IS_TRUSTSTORE"<br />        certificateAlias: "sso"<br />        jwksuri: "http://mytest.com"<br />        description: "Issuer description"<br />      remoteIntrospectionConfig:<br />        introspectionEndpoint: "http://myendpoint"<br />        clientId: "1234"<br />        clientSecret: "c2VjcmV0"<br />        user: "Administrator"<br />      metadata:<br />        authorizeURL: "http://softwareag.com/authorize"<br />        accessTokenURL: "http://softwareag.com/accessToken"<br />        refreshTokenURL: "http://softwareag.com/authorize/refresh"<br />      sslConfig:<br />        keyStoreAlias: "DEFAULT_IS_KEYSTORE"<br />        keyAlias: "ssos"<br />        trustStoreAlias: "DEFAULT_IS_TRUSTSTORE"<br /><br /></div><div id="wwID0E2VNM" class="Body">The properties of the supported aliases are as follows:</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 40%"><div id="wwID0E1WNM" class="Table_Cell_Head">Type</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 60%"><div id="wwID0EAXNM" class="Table_Cell_Head">Parameters</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENXNM" class="Table_Cell"><span class="codeph">simple</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXXNM" class="Table_Cell"><span class="codeph">value.</span> Value of the simple alias.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGYNM" class="Table_Cell"><span class="codeph">endpoint</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3YNM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">endPointURI.</span> The default URI or components of the URI such as service name.</div><div id="wwID0ESZNM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">connectionTimeout.</span> Time interval (in seconds) after which a connection attempt times out.</div><div id="wwID0EI1NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">readTimeout.</span> Time interval (in seconds) after which a socket read attempt times out.</div><div id="wwID0E51NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">suspendDurationOnFailure.</span> Time to suspend the request upon a failure.</div><div id="wwID0EU2NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">optimizationTechnique.</span> Type of optimization technique used for SOAP messages.</div><div id="wwID0EK3NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">passSecurityHeaders.</span> Boolean value whether to pass security headers or not.</div><div id="wwID0EA4NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">keystoreAlias.</span> Keystore alias name that is used for the signing or encryption.</div><div id="wwID0EW4NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">keyAlias.</span> Key alias in the particular keyStore .</div><div id="wwID0EM5NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">truststoreAlias.</span> Truststore alias name to validate the server certificate.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EI6NM" class="Table_Cell"><span class="codeph">httpTransportSecurityAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E56NM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">authType.</span> The type of authentication you want to use while communicating with the native API.</div><div id="wwID0EZAOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The authentication types supported are: <span class="codeph">HTTP_BASIC</span>, <span class="codeph">NTLM</span>, <span class="codeph">OAUTH2</span>, <span class="codeph">KERBEROS</span>, <span class="codeph">JWT</span>, <span class="codeph">ALIAS</span>, and <span class="codeph">REMOVE_INCOMING_HTTP_HEADERS</span>.</div><div id="wwID0EKCOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">authMode.</span> Authentication mode to use while communicating with the native API.</div><div id="wwID0EFDOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The authentication modes supported are: <span class="codeph">NEW</span>, <span class="codeph">INCOMING_HTTP_BASIC_AUTH</span>, <span class="codeph">INCOMING_WSS_USER</span>, <span class="codeph">INCOMING_X509</span>, <span class="codeph">DELEGATE_INCOMING</span>, <span class="codeph">INCOMING_OAUTH_TOKEN</span>, <span class="codeph">INCOMING_JWT</span>, <span class="codeph">TRANSPARENT</span>, and <span class="codeph">INCOMING_KERBEROS</span>.</div><div id="wwID0E5EOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">httpAuthCredentials.</span> Credentials to use for HTTP authentication. The authentication credentials supported are:</div><div id="wwID0EZFOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">userName.</span> Specify a username to access the native API.</div><div id="wwID0EPGOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">password.</span> Specify a password to access the native API.</div><div id="wwID0EFHOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">domain.</span> Specify a domain to access the native API.</div><div id="wwID0E4HOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">kerberosCredentials.</span> Credentials to use for Kerberos authentication. The authentication credentials supported are:</div><div id="wwID0EYIOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">clientPrincipal.</span> A unique identity to which Kerberos can assign tickets.</div><div id="wwID0EOJOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">clientPassword.</span> Password for the client principal.</div><div id="wwID0EEKOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">servicePrincipal.</span> A unique identifier of a service instance.</div><div id="wwID0E1KOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">servicePrincipalNameForm.</span> The format in which you want to specify the principal name of the service that is registered with the principal database. <span class="codeph">servicePrincipalNameForm</span> value can be <span class="codeph">hostbased</span> or <span class="codeph">username</span>.</div><div id="wwID0E3LOM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">requestDelegateToken.</span> Boolean value whether the token needs to be delegated or not.</div><div id="wwID0EUMOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">oauth2Token.</span> OAuth2 token to use for authentication.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EQNOM" class="Table_Cell"><span class="codeph">transformationAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGOOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">fileName.</span> Name of the file.</div><div id="wwID0E3OOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">content.</span> Content of the file.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYPOM" class="Table_Cell"><span class="codeph">serviceRegistryAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOQOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">endpointURI.</span> Endpoint to use to communicate with the service registry.</div><div id="wwID0EEROM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">heartBeatInterval.</span> <span class="ph">API Gateway</span> pings the service registry on the configured interval for every API.</div><div id="wwID0E5ROM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">username.</span> Username to use in the basic authentication when communicating with the service registry.</div><div id="wwID0EUSOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">password.</span> Password to use in the basic authentication when communicating with the service registry.</div><div id="wwID0EKTOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">keystoreAlias.</span> A keystore is a repository of private key. This keystore contains the private key to use for the SSL communication with the service registry.</div><div id="wwID0EAUOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">keyAlias.</span> The key alias is the private key to use for signing when using SSL communication with the service registry.</div><div id="wwID0EWUOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">trustStoreAlias.</span> A truststore is a repository of public keys. This truststore contains the public key of the service registry to use for the SSL communication with the service registry.</div><div id="wwID0EMVOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">customHeaders.</span> Custom headers to send while communicating with the service registry.</div><div id="wwID0ECWOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">discoveryInfo.</span> Contains information like resource path and HTTP method to use while discovering a service in service registry.</div><div id="wwID0EYWOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">registrationInfo.</span> Contains information like resource path and HTTP method to use while registering a service in service registry.</div><div id="wwID0EOXOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">deRegistrationInfo.</span> Contains information like resource path and HTTP method to use while de-registering a service from service registry.</div><div id="wwID0EEYOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">serviceRegistryType.</span> Contains the information about the type of service registry.</div><div id="wwID0E1YOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">connectionTimeout.</span> The time interval (in seconds) after which a connection attempt times out while communicating with service registry.</div><div id="wwID0EQZOM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">readTimeout.</span> The time interval (in seconds) after which a socket read attempt times out while communicating with service registry.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EM1OM" class="Table_Cell"><span class="codeph">awsConfigurationAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EC2OM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">region.</span> The configured AWS instance region detail.</div><div id="wwID0EY2OM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">accessKey.</span> The access key ID for the AWS instance. This is used to sign the requests.</div><div id="wwID0EO3OM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">secretKey.</span> The secret access key for the AWS instance. This is used to sign the requests.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EK4OM" class="Table_Cell"><span class="codeph">samlIssuerAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EA5OM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">issuerCommunicationMode.</span> Mode of communication to the STS.</div><div id="wwID0EW5OM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">issuerPolicy.</span> The webMethods Integration Server service name.</div><div id="wwID0EM6OM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">issuerAuthScheme.</span> The authentication type to use for communicating to STS.</div><div id="wwID0ECAPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">issuerAuthMode.</span> Mode of communication to STS.</div><div id="wwID0EYAPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">wssCredentials.</span> Credentials for the WSS Username token.</div><div id="wwID0EOBPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">kerberosCredentials.</span> Credentials for the Kerberos token.</div><div id="wwID0EECPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">endpoint.</span> The endpoint URI of the STS.</div><div id="wwID0E1CPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">samlVersion.</span> SAML version used for authentication.</div><div id="wwID0EQDPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">wsTrustVersion.</span> WS-Trust version that <span class="ph">API Gateway</span> must use to send the RST to the SAML issuer.</div><div id="wwID0EKEPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">appliesTo.</span> Specify the scope for which this security token is required.</div><div id="wwID0EAFPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">extendedParameters.</span> Extensions to the <span class="codeph">wst:RequestSecurityToken</span> element for requesting specific types of keys, algorithms, or key and algorithms, as specified by a given policy in the return tokens.</div><div id="wwID0E1FPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">signAndEncryptConfig.</span> Private and public keys to use signature and encryption.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EWGPM" class="Table_Cell"><span class="codeph">webmethodsAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EMHPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">serviceName.</span> The webMethods Integration Server service name.</div><div id="wwID0ECIPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">runAsUser.</span> The user name you want <span class="ph">API Gateway</span> to use to invoke the IS service.</div><div id="wwID0E3IPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">complyToISSpec.</span> Set to true, if you want the input and the output parameters to comply to the IS Spec specified.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYJPM" class="Table_Cell"><span class="codeph">clientMetadataMapping</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOKPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">providerName.</span> Name of the provider.</div><div id="wwID0EELPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">implNames.</span> Map of specification names to the implementation names of the service provider.</div><div id="wwID0E1LPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">extendedValuesV2.</span> List of headers that needs to be sent along with the client management request.</div><div id="wwID0EQMPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">generateCredentials.</span> Specifies whether <span class="ph">API Gateway</span> should generate <span class="codeph">clientId</span> and <span class="codeph">client secret</span>.</div><div id="wwID0ESNPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">supportedApplicationTypes.</span> List of <span class="codeph">application_type</span> values supported by the authorization server provider.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESOPM" class="Table_Cell"><span class="codeph">soapMessageSecurityAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIPPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">authType.</span> Type of authentication.</div><div id="wwID0E5PPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">authMode.</span> Mode of authentication</div><div id="wwID0EUQPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">wssCredentials.</span> Credentials required for the WSS Username token.</div><div id="wwID0EKRPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">kerberosCredentials.</span> Credentials for the Kerberos token.</div><div id="wwID0EASPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">samlIssuerConfig.</span> SAML issuer configuration name.</div><div id="wwID0EWSPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">signAndEncryptConfig.</span> Private and public keys to use for signature and encryption.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ESTPM" class="Table_Cell"><span class="codeph">isConfigurationAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIUPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">url.</span> URL of the Integration Server.</div><div id="wwID0E6UPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">username.</span> User credentials required to access the Integration Server instance.</div><div id="wwID0EWVPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">password.</span> Password required to access the Integration Server instance.</div><div id="wwID0ENWPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">keystoreAlias.</span> The text identifier for the Integration Server keystore file. The keystore contains the private keys and certificates (including the associated public keys) of Integration Server.</div><div id="wwID0EEXPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">keyAlias.</span> The alias for a specific key in the specified keystore.</div><div id="wwID0E2XPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">packageName.</span> Default package name where the alias is published.</div><div id="wwID0ESYPM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">folderName.</span> Default folder name where the alias is published.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EPZPM" class="Table_Cell"><span class="codeph">authServerAlias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EF1PM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">description.</span> Description of the auth server.</div><div id="wwID0E21PM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">tokenGeneratorConfig.</span> Specifies the token information that would be added as a bearer token in the HTTP request for client authentication.</div><div id="wwID0ER2PM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">supportedGrantTypes.</span> Specifies the list of grant types that are supported by API Gateway. The grant types supported are:</div><div id="wwID0EM3PM" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">authorization_code</span>, <span class="codeph"> client_credentials</span>, and <span class="codeph"> implicit</span>.</div><div id="wwID0EM4PM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">localIntrospectionConfig.</span> Specifies the introspection endpoint to check that access tokens used in client requests are currently active and are valid to invoke the protected resources.</div><div id="wwID0EC5PM" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">sslConfig.</span> Specifies the SSL configuration information.</div></td></tr></table></div><div id="wwID0EG6PM" class="Section_Title">Consolidating Externalized Configuration Files</div><div id="wwID0EL6PM" class="Body">You can consolidate the configurations of different inter-components and cluster in a single configuration file.</div><div id="wwID0EQ6PM" class="Body">A sample consolidated configuration file is as follows:</div><div id="wwID0EV6PM" class="Preformatted"><br />apigw:  <br />	elasticsearch:    <br />			tenantId: "apigateway"    <br />			hosts: "localhost:9240"    <br />			autostart: "true"    <br />			http:      <br />					username: ""      <br />					password: "@secure.elasticsearch.http.password"      <br />					keepAlive: "true"      <br />					keepAliveMaxConnections: 10      <br />					keepAliveMaxConnectionsPerRoute: 100      <br />					connectionTimeout: 1000      <br />					socketTimeout: 10000      <br />					maxRetryTimeout: 100000    <br />			https:      <br />					enabled: "false"      <br />					truststoreFilepath: "C:/softwares/elasticsearch-<span class="varname">version</span>/config/truststore-new.ks"      <br />					keystoreAlias: "root-ca"      <br />					truststorePassword: "@secure.elasticsearch.http.truststore.password"      <br />					enforceHostnameVerification: "false"    <br />			sniff:      <br />					enable: "false"      <br />					timeInterval: 1000    <br />			outboundProxy:      <br />					enabled: "false"      <br />					alias: "esoutboundproxyalias"    <br />			clientHttpResponseSize: 1001231  <br />	kibana:    <br />			dashboardInstance: "http://localhost:9405"    <br />			autostart: "true"    <br />		elasticsearch:      <br />			sslCA: "C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.pem"  <br />		filebeat:    <br />			output:      <br />				elasticsearch:        <br />					sslCA: "C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.pem"  <br />analyticsDataStore:<br />    tenantId: default<br />    hosts: "localhost:9241"<br />    http:<br />      username: analyticsdatastore<br />      password: changeme<br />      keepAlive: true<br />      keepAliveMaxConnections: 60<br />      keepAliveMaxConnectionsPerRoute: 20<br />      connectionTimeout: 2000<br />      socketTimeout: 40000<br />      maxRetryTimeout: 200000<br />    https:<br />      enabled: false<br />      keystoreFilepath: C:/softwares/analyticsdatastore/config/demouser-keystore.jks<br />      truststoreFilepath: C:/softwares/analyticsdatastore/config/truststore.jks<br />      keystoreAlias: cn=demouser<br />      keystorePassword: 6572b9b06156a0ff778c<br />      truststorePassword: 2c0820e69e7dd5356576<br />      enforceHostnameVerification: false<br />    sniff:<br />      enable: false<br />      timeInterval: 70000<br />    outboundProxy:<br />      enabled: false<br />      alias: somealias<br />    clientHttpResponseSize: 200<br />cluster:    <br />		aware: "true"    <br />		name: "APIGatewayTSAcluster"    <br />		tsaUrls: "VMYAI105BVT06:9510"    <br />		terracottaLicenseFileName: "terracotta-license.key"    <br />		sessTimeout: "20"    <br />		actionOnStartupError: "standalone"    <br />users:<br />    tstk:<br />      firstName: "stark"<br />      lastName: "Koop"<br />      password: "oops"<br />      emailAddresses: [ tstk@sag.com, tstk@sag.co.uk ]<br />      active: true<br />      groups:<br />      - "group1"<br />      - "group2"<br />    fred:<br />      firstName: "Fred"<br />      lastName: "Barker"<br />      password: "oops"<br />      emailAddresses: [ fred@sag.com ]<br />      active: true<br />      groups: [group1,group2]<br />    bob:<br />      firstName: "Bob"<br />      lastName: "Tate"<br />      password: "oops"<br />      emailAddresses: [ bob@sag.com ]<br />      active: true<br />masterpassword:<br />    expiry: "60"<br />    oldPassword: "old1"<br />    newPassword: "new1"<br />ui:<br />    http:<br />      maxHttpHeaderSize: "8192"<br />      connectionTimeout: "20001"<br />      server: "SoftwareAG-Runtime"<br />      maxSpareThreads: "78"<br />      disableUploadTimeout: "true"<br />      minSpareThreads: "23"<br />      redirectPort: "19073"<br />      acceptCount: "102"<br />      port: "11072"<br />      enableLookups: "false"<br />      enabled: "true"<br />      alias: "defaultHttp"<br />    https:<br />      maxHttpHeaderSize: "8192"<br />      server: "SoftwareAG-Runtime"<br />      maxSpareThreads: "72"<br />      disableUploadTimeout: "true"<br />      minSpareThreads: "22"<br />      acceptCount: "104"<br />      port: "11075"<br />      enableLookups: "false"<br />      enabled: "true"<br />      alias: "defaultHttps"<br />      sslProtocol: "tls"<br />      sslEnabled: "true"<br />      keystoreType: "xxy"<br />      keystoreFile: "Test2"<br />      keystorePass: "geheim"<br />      scheme: "xScheme"<br />      secure: "true"<br />aliases:<br />    simpleAlias1:<br />        type: "simple"<br />        value: "vmspar02w"<br />    endpointAlias1:<br />          type: "endpoint"<br />          endPointURI: "http://vmspar02w:9998"<br />          connectionTimeout: 30<br />          readTimeout: 30<br />          suspendDurationOnFailure: 0<br />          optimizationTechnique: "None"<br />          passSecurityHeaders: false<br />          keystoreAlias: "ksAlias"<br />    httpSec1:<br />          type: "httpTransportSecurityAlias"<br />          authType: "HTTP_BASIC"<br />          authMode: "INCOMING_HTTP_BASIC_AUTH"<br />          httpAuthCredentials:<br />             userName: "Bob" <br />             password: "R3Vlc3NJdA==" <br />             domain: "EUR"<br />   myIsAlias:<br />          type: "isConfigurationAlias"<br />          url: "http://localhost:5555"<br />          username: "Administrator"<br />          password: "bXlwYXNz"<br />          keystoreAlias: "DEFAULT_IS_KEYSTORE"<br />          keyAlias: "ssos"<br />          packageName: "WmAPIGateway"<br />          folderName: "test2"<br />          importSwaggerBasedOnTags: "false"<br />          enableMTOM: "true"<br />          enforceWSICompliance: "true"<br />          validateSchemaWithXerces: "true"<br />          contentModelComplianceForWSDL: "Lax"<br />  testAuthServer:<br />          type: "authServerAlias"<br />          description: "Test Auth server"<br />          tokenGeneratorConfig:<br />            expiry: "0"<br />            accessTokenExpInterval: "3600"<br />            authCodeExpInterval: "600"<br />            algorithm: "null"<br />          supportedGrantTypes: ["authorization_code","client_credentials","implicit"]<br />          authServerType: "EXTERNAL"<br />          localIntrospectionConfig: <br />            issuer: "testIssuer"<br />            trustStoreAlias: "DEFAULT_IS_TRUSTSTORE"<br />            certificateAlias: "sso"<br />            jwksuri: "http://mytest.com"<br />            description: "Issuer description"<br />         remoteIntrospectionConfig:<br />            introspectionEndpoint: "http://myendpoint"<br />            clientId: "1234"<br />            clientSecret: "c2VjcmV0"<br />            user: "Administrator"<br />         metadata:<br />            authorizeURL: "http://softwareag.com/authorize"<br />            accessTokenURL: "http://softwareag.com/accessToken"<br />            refreshTokenURL: "http://softwareag.com/authorize/refresh"<br />        sslConfig:<br />            keyStoreAlias: "DEFAULT_IS_KEYSTORE"<br />            keyAlias: "ssos"<br />            trustStoreAlias: "DEFAULT_IS_TRUSTSTORE"</div><div id="wwID0EMAAO" class="Body">Similarly, you can consolidate separate property files into a single file as shown in the following sample.</div><div id="wwID0ERAAO" class="Preformatted"><br />apigw.elasticsearch.tenantId=apigateway<br />apigw.elasticsearch.autostart=true<br />apigw.elasticsearch.hosts=localhost:9240<br />apigw.elasticsearch.clientHttpResponseSize=1001231<br />apigw.elasticsearch.http.keepAlive=true<br />.<br />.<br />.<br />apigw.kibana.dashboardInstance=http://localhost:9405<br />apigw.kibana.elasticsearch.sslCert=/path/to/your/client.crt<br />apigw.kibana.elasticsearch.sslKey=/path/to/your/client.key<br />apigw.kibana.elasticsearch.sslCA=C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.pem<br />.<br />.<br />.<br />.<br />apigw.filebeat.output.elasticsearch.sslCert=/path/to/your/client.crt<br />apigw.filebeat.output.elasticsearch.sslKey=/path/to/your/client.key<br />apigw.filebeat.output.elasticsearch.sslCA=C:/softwares/elasticsearch-<span class="varname">version</span>/config/SAG-B1HPWT2.pem<br />.<br />.<br />.<br />apigw.cluster.tsaUrls=daeirnd33974:9510<br />apigw.cluster.actionOnStartupError=standalone<br />apigw.cluster.name=APIGatewayTSAcluster<br />apigw.cluster.sessTimeout=20<br />apigw.cluster.terracottaLicenseFileName=terracotta-license.key<br /></div><div id="wwID0EKBAO" class="Section_Title">Master configuration YAML file and its usage</div><div id="wwID0EPBAO" class="Body">The master configuration file, <span class="filepath">config-sources.yml</span>, contains the paths, metadata, and properties for the other configuration files. The master configuration file and the other configuration files should be present in the folder <span class="filepath_002c_varname">SAGInstallDir</span><span class="filepath">\IntegrationServer\instances\</span><span class="filepath_002c_varname">instance_name</span><span class="filepath">\packages\WmAPIGateway\resources\configuration</span>. The master configuration file can contain references to both YAML and Properties file types.</div><div id="wwID0EJCAO" class="Body">The master configuration file is read by <span class="ph">API Gateway</span> on startup. Using this file <span class="ph">API Gateway</span> reads the different configurations provided in the folder. If any entry has an invalid file name or path it is ignored but the error is logged into the <span class="ph">API Gateway</span> logs.</div><div id="wwID0E2CAO" class="Body">A sample master configuration file is as follows:</div><div id="wwID0EADAO" class="Preformatted">######################## Master configuration ############################<br /><br /># This is the master configuration file which contains the configuration <br /># source definitions.<br />#<br /><br />#=======================  Sources configuration ==========================<br /><br />sources:<br /><br />#--------------------- YAML file configuration source --------------------<br /><br />- type: YAML<br />  allowEdit: true<br />  properties:<br />    location: allExternal-settings.yml<br /><br />#------------------- Properties file configuration source ----------------<br /><br />#- type: PROPERTIES<br /># allowEdit: true<br /># properties:<br /># location: system-settings.properties<br />#<br /><br />#==================================  END =================================</div><div id="wwID0EGDAO" class="Body">The table lists and explains the properties of a configuration file source entry.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 27.2%"><div id="wwID0EFEAO" class="Table_Cell_Head">Property</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 72.7%"><div id="wwID0ELEAO" class="Table_Cell_Head">Detail</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYEAO" class="Table_Cell"><span class="codeph">type</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EDFAO" class="Table_Cell">Indicates the type of the configuration source. The applicable types are YAML, PROPERTIES and CC_YAML.</div><div id="wwID0EPFAO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">YAML</span>. A YAML configuration file.</div><div id="wwID0EFGAO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">PROPERTIES</span>. A properties configuration file.</div><div id="wwID0E2GAO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">CC_YAML</span>. A YAML configuration file, which is reserved for Command Central updates.</div><div id="wwID0ESHAO" class="Note"><span class="Bold">Note:<br /></span><span class="ph">Command Central</span> support for <span class="ph">API Gateway</span> is deprecated and will be removed in future releases.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUIAO" class="Table_Cell"><span class="codeph">allowEdit</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6IAO" class="Table_Cell">Indicates whether this file can be updated from <span class="ph">API Gateway</span> and is useful for hiding passwords.</div><div id="wwID0EJJAO" class="Table_Cell">Valid values are <span class="codeph">true</span> and <span class="codeph">false</span>.</div><div id="wwID0ECKAO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the value is set to <span class="userinput">true</span>, it hides the clear text passwords.</div><div id="wwID0EZKAO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>If the value is set to <span class="userinput">false</span>, it displays the clear text passwords.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXLAO" class="Table_Cell"><span class="codeph">properties</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECMAO" class="Table_Cell">Properties that enable <span class="ph">API Gateway</span> to connect to the defined configuration source. For the 10.5 release only the <span class="codeph">location</span> property is supported.</div><div id="wwID0EWMAO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="codeph">location</span>. An absolute or relative path to a component-specific configuration file. In case of relative path, the file would be located relative to the system-defined location <span class="filepath"> </span><span class="filepath_002c_varname">SAGInstallDir</span><span class="filepath">\IntegrationServer\instances\instance_name\packages\WmAPIGateway\resources\configuration.</span></div><div id="wwID0EYNAO" class="Note"><span class="Bold">Note:</span>&nbsp;</div><div id="wwID0ETOAO" class="List_1_-_Note_-_Note"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>For the CC_YAML file type, the location is fixed as <span class="filepath">cc-config.yml</span>. This file must not be modified manually as it is updated directly by Command Central. Instead, use the Command Central interfaces to modify this file.</div><div id="wwID0EKPAO" class="List_1_-_Note_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="ph">Command Central</span> support for <span class="ph">API Gateway</span> is deprecated and will be removed in future releases.</div></td></tr></table></div><div id="wwID0ELQAO" class="Note"><span class="Bold">Note:<br /></span>The master configuration filename <span class="filepath">config-sources.yml</span> is system-defined. A file with a different name is not treated as the master configuration file.</div><div id="wwID0ENRAO" class="Section_Title">Hiding Clear Text Passwords in Configuration Files</div><div id="wwID0ESRAO" class="Body">To prevent unauthorized users from reading the credentials in the configuration files and other potential threats, the Administrator can enable hiding of such secrets by setting the <span class="codeph">allowEdit</span> flag to <span class="codeph">true</span> in the master configuration file. When <span class="codeph">allowEdit</span> is set to <span class="codeph">true</span> the secret values in the configuration files are stored in the Password manager and the plain text values in the files are replaced with the Password manager keys on API Gateway startup. After this, a user can see only the password keys in the files. On startup, API Gateway would retrieve the passwords for those settings from the Password manager using those keys and hence it is advised not to alter any of the password manager key values in the file. The passwords can be modified at any time and the same are replaced with the Password manager keys in the next API Gateway startup.</div><div id="wwID0EISAO" class="Body">This table provides the list of the settings and their respective Password manager keys.</div><div class="ww_skin_page_overflow"><table class="rules1" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 55.5%"><div id="wwID0EHTAO" class="Table_Cell_Head">Setting</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 44.4%"><div id="wwID0ENTAO" class="Table_Cell_Head">Password manager key replacement</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAUAO" class="Preformatted"><br />apigw:<br />   elasticsearch: <br />			http: <br />			username: elastic	</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EHUAO" class="Table_Cell">@secure.elasticsearch.http.password</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXUAO" class="Preformatted"><br />apigw: <br />			elasticsearch: <br />			https: <br />			keystorePassword: 6572b9b06156a0ff778c </div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E5UAO" class="Table_Cell">@secure.elasticsearch.http.keystore.password</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOVAO" class="Preformatted"><br />apigw:<br />			elasticsearch: <br />			https: <br />			truststorePassword: 6572b9b06156a0ff778c</div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EVVAO" class="Table_Cell">@secure.elasticsearch.http.truststore.password</div></td></tr></table></div><div id="wwID0EHWAO" class="Section_Title">Properties File Support for Externalized Configurations</div><div id="wwID0EMWAO" class="Body">In addition to YAML files, configurations can be saved in Properties files as well. The property names are the same as those in the YAML configuration files. The property names in Properties files are delimited by a "." for forming the property name. For example. the <span class="codeph">tenantId</span> property under apigw &gt; elasticsearch in YAML, can be specified as <span class="codeph">apigw.elasticsearch.tenantId</span> in the properties file.</div><div id="wwID0E1WAO" class="Body">A sample Properties file is as follows:</div><div id="wwID0E6WAO" class="Preformatted">apigw.elasticsearch.tenantId=default<br />apigw.elasticsearch.autostart=false<br />apigw.elasticsearch.hosts=vmabc\:9240<br />apigw.elasticsearch.http.password=admin123<br />apigw.elasticsearch.http.username=admin<br />apigw.kibana.dashboardInstance=http://localhost:9405<br />apigw.kibana.elasticsearch.sslCert=/path/to/your/client.crt</div><div id="wwID0ENXAO" class="Section_Title">Environment Variables Support for Externalized configurations</div><div id="wwID0ESXAO" class="Body">All the supported externalized configurations can be defined through environment variables. The environment variable names are the same as the property names. Instead of the <span class="codeph">.</span> delimiter the <span class="codeph">_</span> delimiter is used.</div><div id="wwID0EAYAO" class="Body">The main purpose of the environment variables is to inject a configuration into an <span class="ph">API Gateway</span> container during startup.</div><div id="wwID0EKYAO" class="Body">A sample externalized configuration with environment variable is as follows:</div><div id="wwID0EPYAO" class="Preformatted"><br />apigw_elasticsearch_tenantId=default<br />apigw_elasticsearch_autostart=false<br />apigw_elasticsearch_hosts=vmabc\:9240<br />apigw_elasticsearch_http.password=admin123<br />apigw_elasticsearch_http_username=admin<br />apigw_kibana_dashboardInstance=http://localhost:9405<br />apigw_kibana_elasticsearch_sslCert=/path/to/your/client.crt<br /></div><div id="wwID0E4YAO" class="Section_Title">Configuring Multiple Configuration Files and Its Effects</div><div id="wwID0ECZAO" class="Body">The master configuration file can have many entries (0 to N) for defining multiple configuration files as configuration sources. When such a file is used to start API Gateway, the configuration values from all the files would be merged into a single effective configuration. If the same configuration value is present in two files, then the value in the file which has a higher preference is given priority. The order of preference is in the reverse order in which they are defined in the master configuration file, that is, the configuration values that are defined in the last configuration file entry would have the highest preference. A sample use case is explained below.</div><div id="wwID0EHZAO" class="Body">Assume <span class="filepath">file1.yml</span> has the following configurations.</div><div id="wwID0ERZAO" class="Preformatted">apigw:<br />  elasticsearch:<br />    tenantId: default</div><div id="wwID0EXZAO" class="Body">And, <span class="filepath">file2.properties</span> has the following configurations.</div><div id="wwID0EB1AO" class="Preformatted">apigw.elasticsearch.tenantId=apigateway</div><div id="wwID0EH1AO" class="Body">And, <span class="filepath">file3.yml</span> has the following configurations.</div><div id="wwID0ER1AO" class="Preformatted">apigw:<br />  elasticsearch:<br />    http:<br />      username: admin<br />      password: admin123<br />  kibana:<br />    dashboardInstance: http://localhost:5601</div><div id="wwID0EX1AO" class="Body">Then the combined configuration that becomes effective is as follows.</div><div id="wwID0E31AO" class="Body">Effective <span class="filepath">config.yml</span> configuration:</div><div id="wwID0EG2AO" class="Preformatted">apigw:<br />  elasticsearch:<br />    tenantId: apigateway<br />    http:<br />      username: admin<br />      password: admin123<br />  kibana:<br />    dashboardInstance: http://localhost:5601</div><div id="wwID0EU2AO" class="Section_Title">Limitation</div><div id="wwID0EZ2AO" class="Body">If you have defined cluster configuration in the externalized configuration file, on startup the <span class="ph">API Gateway</span> server updates the internal settings with the values from the externalized configuration files but the node in the cluster will not be updated. <span class="ph">API Gateway</span> server restart is required for the cluster settings to become effective and to join the cluster.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>