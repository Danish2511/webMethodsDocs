<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Adding an External Authorization Server</title><link rel="Prev" href="gtw_configure_provider.html" title="Previous" /><link rel="Next" href="gtw_map_oauth_scope.html" title="Next" /><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_api_gtw_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/yai-webhelp/gtw_configure_auth_server_ext.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pAKL6ix2EIZYklYkfg0530A" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/yai-webhelp/gtw_configure_auth_server_ext.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Gateway</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.032.html#wwconnect_header">Administering API Gateway</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/_api_gtw_integrated_webhelp.1.303.html#wwconnect_header">Security Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../yai-webhelp/co-config_oauth_jwt_openid.html#wwconnect_header">OAuth, JWT, and OpenID Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Adding an External Authorization Server</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E5JUU" class="Heading_3">Adding an External Authorization Server</div><div id="wwID0EUKUU" class="Prerequisite"><span class="inlinetitle">Pre-requisites:</span></div><div id="wwID0E6KUU" class="Body">You must have the <span class="ph">API Gateway</span>'s manage security configurations functional privilege assigned to add an authorization server.</div><div id="wwID0ERLUU" class="Body">As an alternative to using API Gateway as the authorization server, you can use a third-party server as the authorization server. To use an external authorization server, you must configure your third-party authorization server.</div><div id="wwID0EWLUU" class="procedure"><span><img src="icon_task_xpe.png" alt="*" border="0" width="20" height="13" /></span>To add an external authorization server</div><div class="ww_skin_page_overflow"><div id="wwID0ECMUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command">Expand the menu options icon <img class="Default" src="../yai-webhelp/images/menu_icon.jpg" width="100%" style="display: inline; float: none; left: 0pt; max-height: 25px; max-width: 21px; top: 0pt" alt="" />, in the title bar, and select </span><span class="Command_002c_uicontrol">Administration</span><span class="Command">. </span></div></div><div id="wwID0EKNUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command">Select </span><span class="Command_002c_uicontrol">Security &gt; OAuth/JWT/OpenID</span><span class="Command">. </span></div><div id="wwID0EJOUU" class="Step_Info_1">The available and configured internal authorization servers and external authorization servers are listed in the respective sections.</div><div id="wwID0EPOUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Add authorization server</span><span class="Command"> in the </span><span class="Command_002c_wintitle">External authorization servers </span><span class="Command">section. </span></div><div id="wwID0EUPUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command">Type a name for the external authorization server. </span></div><div id="wwID0EMQUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Command">Type a description for the external authorization server that is being configured. </span></div><div id="wwID0EERUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>6. </span></span><span class="Command">Provide the discovery endpoint in the </span><span class="Command_002c_uicontrol">Discovery URL</span><span class="Command"> field and click </span><span class="Command_002c_uicontrol">Discover</span><span class="Command">. </span></div><div id="wwID0EJSUU" class="Step_Info_1">When you specify the discovery URL, <span class="ph">API Gateway</span> fetches data from the URL response and auto-populates the fields with the fetched data.</div><div id="wwID0EUSUU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>7. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Introspection</span><span class="Command"> and provide the local or remote introspection details to validate the incoming tokens. </span></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 25.2%"><div id="wwID0EXUUU" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 74.7%" colspan="2"><div id="wwID0E4UUU" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 100%" colspan="3"><div id="wwID0EMVUU" class="Table_Cell"><span class="uicontrol">Local introspection</span>. Provide the following information to validate the tokens locally by API Gateway.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0E3VUU" class="Table_Cell"><span class="uicontrol">Issuer</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0EGWUU" class="Table_Cell">Name of the token issuer.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0ESWUU" class="Table_Cell"><span class="uicontrol">JWKS URI</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0E3WUU" class="Table_Cell">Specifies JSON Web Key Signature endpoint to retrieve the corresponding public certificates for performing local introspection.</div><div id="wwID0EEXUU" class="Table_Cell">After an <span class="ph">API Gateway</span> node restarts, when there is an authorization request with a JWT token claim <span class="emphasis">kid</span>, the required certificates for the claim are retrieved and stored in cache. For the subsequent requests with the same claim, the local introspection is performed from the certificates in the cache instead of retrieving the certificates afresh until <span class="ph">API Gateway</span> restarts.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0E3XUU" class="Table_Cell"><span class="uicontrol">Truststore alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0EGYUU" class="Table_Cell">Specify the alias of the truststore on <span class="ph">API Gateway</span> that holds the Certificate Authority (CA) certificate of third-party authorization server.</div><div id="wwID0ESYUU" class="Table_Cell">This is required if the JWKS URI is not available for the authorization server and you want to configure this certificate directly.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0E3YUU" class="Table_Cell"><span class="uicontrol">Certificate alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0EGZUU" class="Table_Cell">Alias of the certificate used to validate the token.</div><div id="wwID0EOZUU" class="Table_Cell">The <span class="uicontrol">Certificate alias</span> field contains a list of the available aliases in the selected truststore. If there are no configured truststores, this field is empty.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 100%" colspan="3"><div id="wwID0E4ZUU" class="Table_Cell"><span class="uicontrol">Remote introspection</span>. Provide the following information to validate the tokens remotely if local introspection cannot be done.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0EN1UU" class="Table_Cell"><span class="uicontrol">Introspection endpoint</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0EX1UU" class="Table_Cell">URL of the token introspection endpoint of a third-party OAuth 2.0 authorization server. <span class="ph">API Gateway</span> uses the introspection endpoint to check that access tokens used in client requests are currently active and are valid to invoke the protected resources.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0EI2UU" class="Table_Cell"><span class="uicontrol">Gateway user</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0ES2UU" class="Table_Cell">The name of the Gateway user that <span class="ph">API Gateway</span> uses to invoke the token introspection endpoint.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0ED3UU" class="Table_Cell"><span class="uicontrol">Client ID</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0EN3UU" class="Table_Cell">ID of the introspection client on the authorization server that <span class="ph">API Gateway</span> uses to introspect the access tokens.</div><div id="wwID0EZ3UU" class="Note"><span class="Bold">Note:<br /></span>Introspection client is any OAuth2 confidential client in <span class="ph">API Gateway</span>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25.2%"><div id="wwID0EY4UU" class="Table_Cell"><span class="uicontrol">Client secret</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 74.7%" colspan="2"><div id="wwID0EC5UU" class="Table_Cell">Password of the introspection client that <span class="ph">API Gateway</span> uses to introspect the access tokens.</div></td></tr></table></div><div id="wwID0EV5UU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>8. </span></span><span class="Command">In the </span><span class="Command_002c_wintitle">Dynamic client registration</span><span class="Command"> section, provide the following information if you want to dynamically create a client from </span><span class="Command_002c_Command">API Gateway</span><span class="Command"> when required. </span></div><div id="wwID0E66UU" class="Note_1"><span class="Bold">Note:<br /></span>The dynamic client registration is not supported for external authorization servers when you publish an application from <span class="ph">CentraSite</span> to <span class="ph">API Gateway</span>.</div><div id="wwID0E5AVU" class="Step_Info_1">You would use this configuration only if you do not intend to use any of the existing clients.</div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 20.3%"><div id="wwID0EHCVU" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 79.6%" colspan="2"><div id="wwID0ENCVU" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0E3CVU" class="Table_Cell"><span class="uicontrol">Enabled</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0EGDVU" class="Table_Cell">Specifies whether dynamic client registration is enabled.</div><div class="ww_skin_page_overflow"><div id="wwID0EODVU" class="Table_Cell">Click the toggle button to change the state to <img class="Default" src="../yai-webhelp/images/active_policy.png" width="100%" style="display: inline; float: none; left: 0pt; max-height: 17px; max-width: 32px; top: 0pt" alt="" /> to enable dynamic client registration.</div></div><div id="wwID0E4DVU" class="Table_Cell">By default this option is disabled.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0EHEVU" class="Table_Cell"><span class="uicontrol">Provider name</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0EREVU" class="Table_Cell">Select the name of the third-party provider.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0E4EVU" class="Table_Cell"><span class="uicontrol">Client registration URL</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0EHFVU" class="Table_Cell">Specifies the corresponding REST endpoint URLs for the client configuration of REST APIs.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0ETFVU" class="Table_Cell"><span class="uicontrol">Authentication type</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0E4FVU" class="Table_Cell">Specifies the type of authentication scheme that <span class="ph">API Gateway</span> would use to communicate with the external authorization server for client management.</div><div id="wwID0EJGVU" class="Table_Cell">Select one of the following authentication type:</div><div id="wwID0EUGVU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Basic</span>. Specifies the username and password information that would be passed in the authorization header of HTTP request for client authentication.</div><div id="wwID0EPHVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Username</span>. The username to access the protected resources of REST APIs.</div><div id="wwID0EFIVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Password</span>. A valid password associated with the username.</div><div id="wwID0E4IVU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Token</span>. Specifies the token information that would be added as a bearer token in the HTTP request for client authentication.</div><div id="wwID0EYJVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Token type</span>. The type of token that would be contained in the HTTP request.</div><div id="wwID0EOKVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Token</span>. The token that would be contained in the HTTP requests.</div><div id="wwID0EGLVU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Refresh token</span>. Specifies the refresh token information that would be added as a bearer token in the HTTP request for client authentication.</div><div id="wwID0E4LVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Refresh token</span>. The refresh token that you would get from the external authorization server for the registered client ID and client secret.</div><div id="wwID0ERMVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Client ID</span>. The client ID that you want to specify from the external authorization server.</div><div id="wwID0EFNVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Client secret</span>. A valid client secret associated with the client ID.</div><div id="wwID0E2NVU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Client credentials</span>. Specifies the client information for which the application is created in the external authorization server.</div><div id="wwID0ESOVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Scope</span>. The scope of the client application that you want to specify from the external authorization server.</div><div id="wwID0EGPVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Client ID</span>. The client ID that you want to specify from the external authorization server.</div><div id="wwID0E1PVU" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">Client secret</span>. A valid client secret associated with the client ID.</div><div id="wwID0EQQVU" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span><span class="uicontrol">None </span>. Specifies that you could create the client dynamically in the external authorization server without using any type of authorization.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.3%"><div id="wwID0ELRVU" class="Table_Cell"><span class="uicontrol">Supported grant types</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.6%" colspan="2"><div id="wwID0EVRVU" class="Table_Cell">Specifies the list of grant types that are supported by <span class="ph">API Gateway</span>. Basically, grant types are the ways to get an access token from the external authorization server.</div><div id="wwID0EBSVU" class="Table_Cell">Provide the grant type, in the Supported grant types field and click <span class="uicontrol">+Add</span>.</div><div id="wwID0ELSVU" class="Table_Cell">You can add more than one grant by clicking <span class="uicontrol">+Add</span>.</div></td></tr></table></div><div id="wwID0E3SVU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>9. </span></span><span class="Command">In the </span><span class="Command_002c_wintitle">SSL Configuration</span><span class="Command"> section, provide the following information for SSL configuration, if the authorization server wants the 2-way SSL for the requests. </span></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 19.9%"><div id="wwID0E6UVU" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 80%" colspan="2"><div id="wwID0EFVVU" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 19.9%"><div id="wwID0EUVVU" class="Table_Cell"><span class="uicontrol">Keystore alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 80%" colspan="2"><div id="wwID0E5VVU" class="Table_Cell">Alias of the keystore containing the private key that is used for a secured communication between <span class="ph">API Gateway</span> and the authorization server.</div><div id="wwID0EKWVU" class="Table_Cell">You can view all the keystore aliases available in <span class="ph">API Gateway</span>. If there are no configured keystore aliases, the list box contains only the default keystore, <span class="varname">DEFAULT_IS_KEYSTORE</span>.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 19.9%"><div id="wwID0E5WVU" class="Table_Cell"><span class="uicontrol">Key alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 80%" colspan="2"><div id="wwID0EIXVU" class="Table_Cell">Alias for the private key to use to validate the HTTP requests from the client.</div><div id="wwID0EQXVU" class="Table_Cell">You can view all the aliases available in the selected keystore. If there are no configured keystores, this list box is empty.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 19.9%"><div id="wwID0E1XVU" class="Table_Cell"><span class="uicontrol">Truststore alias</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 80%" colspan="2"><div id="wwID0EEYVU" class="Table_Cell">Alias of the truststore on <span class="ph">API Gateway</span> that holds the Certificate Authority (CA) certificate of third-party authorization server.</div><div id="wwID0EQYVU" class="Note"><span class="Bold">Note:<br /></span>You need to select a truststore alias only when all of the following are true:</div><div id="wwID0EMZVU" class="List_1_-_Note_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The client account on the third-party authorization server is configured to use mutual (two-way) SSL, and</div><div id="wwID0E6ZVU" class="List_1_-_Note_-_Note_-_not_first"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The authorization server’s Certificate Authority certificate is not in the set of well-known authorities trusted by the JVM in which <span class="ph">API Gateway</span> runs.</div></td></tr></table></div><div id="wwID0E61VU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>10. </span></span><span class="Command">In the </span><span class="Command_002c_wintitle">Metadata</span><span class="Command"> section, provide the following information for the authorization server metadata, which is used for the communication to portal. </span></div><div class="ww_skin_page_overflow"><table class="rules2" cellspacing="0" summary=""><tr><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 20.2%"><div id="wwID0EC4VU" class="Table_Cell_Head">Field</div></td><td class="Table_Cell_Head" style="background-color: #CFCFCE; border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 79.7%" colspan="2"><div id="wwID0EI4VU" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.2%"><div id="wwID0EX4VU" class="Table_Cell"><span class="uicontrol">Access token URL</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.7%" colspan="2"><div id="wwID0EB5VU" class="Table_Cell">The endpoint URL on the authorization server through which the client application exchanges the authorization code, client ID, and client secret, for an access token.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.2%"><div id="wwID0EN5VU" class="Table_Cell"><span class="uicontrol">Authorize URL</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.7%" colspan="2"><div id="wwID0EX5VU" class="Table_Cell">The endpoint URL on the authorization server through which the end user authenticates and grants authorization to the client application.</div></td></tr><tr><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 20.2%"><div id="wwID0ED6VU" class="Table_Cell"><span class="uicontrol">Refresh token URL</span></div></td><td class="Table_Cell" style="border-bottom-color: Black; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 79.7%" colspan="2"><div id="wwID0EN6VU" class="Table_Cell">The endpoint URL on the authorization server through which the client application refreshes an expired access token.</div></td></tr></table></div><div id="wwID0E26VU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>11. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Scopes</span><span class="Command">. </span></div><div id="wwID0E1AWU" class="Step_Info_1">OAuth 2.0 scopes provide a way to limit the amount of access that is granted to an access token. For example, an access token issued to a client application may be granted READ and WRITE access to the protected resources, or just the READ access. You can implement your APIs to enforce any scope or a combination of scopes as required. So, if a client receives a token that has READ scope, and it tries to invoke an API endpoint that requires WRITE access, the invocation fails.</div><div id="wwID0E6AWU" class="Body_1">You can provide the meaning to the scope in OAuth/OpenID scopes management section.</div><div id="wwID0EGBWU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>12. </span></span><span class="Command">Provide the scope, in the Scope field that is registered in the authorization server and click </span><span class="Command_002c_uicontrol">+Add</span><span class="Command">. </span></div><div id="wwID0EFCWU" class="Step_Info_1">You can add more than one scope by clicking <span class="uicontrol">+Add</span>.</div><div id="wwID0EQCWU" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>13. </span></span><span class="Command">Click </span><span class="Command_002c_uicontrol">Add</span><span class="Command">. </span></div><div id="wwID0EPDWU" class="Step_Result_1">The external authorization server is added. You can add as many authorization servers as required, but only one is the default at any given time.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2016-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>