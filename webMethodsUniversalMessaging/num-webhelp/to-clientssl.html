<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Client SSL Configuration</title><link rel="Prev" href="co-ssl_server_config.html" title="Previous" /><link rel="Next" href="co-jmsclientssl.html" title="Next" /><link rel="StyleSheet" href="css/_universal_messaging_docset_reverb_diba2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_universal_messaging_docset_reverb_diba2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/num-webhelp/to-clientssl.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pVDFtIDuP8jcvLqT9F6UMJA" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/num-webhelp/to-clientssl.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Universal Messaging</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/to-title_concepts.html#wwconnect_header">Concepts</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/to-header_security.html#wwconnect_header">Security</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/to-header_ssl.html#wwconnect_header">Using SSL</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Client SSL Configuration</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E4TRO" class="Heading_3">Client SSL Configuration</div><div id="wwID0EFURO" class="Body">This section describes how to use SSL/TLS in your Universal Messaging Java client applications. Universal Messaging supports various wire protocols (see 
    <a href="../num-webhelp/to-communicationprotocols.html#wwID0EX1PM"
   
     title="Communication Protocols and RNAMEs"
    ><span class="heading-page">Communication Protocols and RNAMEs</span></a>) including SSL enabled sockets and HTTPS. The example programs contained in the Universal Messaging package will all work with SSL enabled on the realm server.</div><div id="wwID0EVURO" class="Body">By default, the Universal Messaging Java client uses the TLS protocols supported by the JVM.</div><div id="wwID0E1URO" class="Note"><span class="Bold">Note:<br /></span>With some JVMs, you might need to configure additional JVM parameters to use TLS 1.3 with your client applications.</div><div id="wwID0EQVRO" class="Body">Universal Messaging supports client SSL certificates in .jks (java keystore) or PKCS12 format.</div><div id="wwID0EVVRO" class="Body">Once you have created an SSL enabled interface for your realm (see the description of how to do this in the section "Creating an SSL network interface" of the Enterprise Manager documentation), you need to ensure that your client application passes the required SSL properties either via custom setters on the session attributes or via system properties used by your JSSE-enabled JVM. The Universal Messaging download contains some sample Java keystore files that will be used in this example.</div><div id="wwID0E1VRO" class="Body">The first such keystore is the client keystore, called <span class="filepath">client.jks</span>, which can be found in your installation directory, under the <span class="filepath">client/</span><span class="filepath_002c_varname">&lt;umserver&gt;</span><span class="filepath">/bin</span> directory. The second is the client truststore called <span class="filepath">nirvanacacerts.jks</span>, which is also located in the <span class="filepath">client/</span><span class="filepath_002c_varname">&lt;umserver&gt;</span><span class="filepath">/bin</span> directory. On <span class="Keyword">Windows</span>, these files exist once you run the '<span class="uicontrol">Server/</span><span class="uicontrol_002c_varname">&lt;umserver&gt;</span><span class="uicontrol">/Create Demo SSL Certificates</span>' shortcut.</div><div id="wwID0EOXRO" class="Body">If you would like to add your own client certificates please see the section "How to generate certificates" of the Enterprise Manager documentation.</div><div id="wwID0E1XRO" class="Section_Title">Using Custom SSL Properties</div><div id="wwID0E6XRO" class="Body">Using the sample keystores, you can use the following steps to set the SSL properties on a session.</div><div id="wwID0EKYRO" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span>Construct your session attributes object:</div><div id="wwID0E4YRO" class="Preformatted_1">nSessionAttributes sessionAttributes = new nSessionAttributes(rname);</div><div id="wwID0EEZRO" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span>Set your required SSL attributes using these methods:</div><div id="wwID0EXZRO" class="Preformatted_1">attribs.setKeystore(String keyStorePath, String keyStorePassword)<br />attribs.setKeystore(String keyStorePath, String keyStorePassword, <br />    String certificateAlias); <br />    // Certificate alias specifies which certificate the client can use <br />    // if client validation is enabled on the interface being connected to<br />attribs.setTruststore(String trustStorePath, String trustStorePassword);<br /></div><div id="wwID0E4ZRO" class="Numbered_1_Continued">So your session attributes should look like this:</div><div id="wwID0EC1RO" class="Preformatted_1">attribs.setKeystore(%INSTALLDIR%\client\<span class="varname">&lt;umserver&gt;</span>\bin\client.jks, password); <br />attribs.setTruststore(%INSTALLDIR%\client\<span class="varname">&lt;umserver&gt;</span>\bin\nirvanacacerts.jks,<br /> password);<br /></div><div id="wwID0ET1RO" class="Numbered_1_Continued">In addition to this you are also able to set a list of enabled cipher strings the client can use and the SSL protocol:</div><div id="wwID0EY1RO" class="Preformatted_1">attribs.setEnabledCiphers(String[] enabledCiphers);<br />attribs.setSSLProtocol("TLSv1.3,TLSv1.2");<br /></div><div id="wwID0E61RO" class="Numbered_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span>Construct your session with the constructed session attributes:</div><div id="wwID0ES2RO" class="Preformatted_1">nSession session = nSessionFactory.create(attribs);<br />session.init();<br /></div><div id="wwID0EC3RO" class="Section_Title">Using JSSE SSL System Properties</div><div id="wwID0EH3RO" class="Body">Using the example keystores, the following system properties are required by the Universal Messaging sample apps and must be specified in the command line as follows:</div><div id="wwID0EM3RO" class="Important"><span class="Bold">Important:<br /></span>The CKEYSTORE, CKEYSTOREPASSWD, CAKEYSTORE, and CAKEYSTOREPASSWD system properties are deprecated.</div><div id="wwID0ED4RO" class="Preformatted"><br />-DCKEYSTORE=%INSTALLDIR%\client\<span class="varname">&lt;umserver&gt;</span>\bin\client.jks<br />-DCKEYSTOREPASSWD=password<br />-DCAKEYSTORE=%INSTALLDIR%\client\<span class="varname">&lt;umserver&gt;</span>\bin\nirvanacacerts.jks<br />-DCAKEYSTOREPASSWD=password<br /></div><div id="wwID0EU4RO" class="Body">where:</div><div id="wwID0EZ4RO" class="Body">CKEYSTORE (deprecated) is the client keystore location</div><div id="wwID0E54RO" class="Body">CKEYSTOREPASSWD (deprecated) is the password for the client keystore</div><div id="wwID0ED5RO" class="Body">CAKEYSTORE (deprecated) is the CA keystore file location</div><div id="wwID0EI5RO" class="Body">CAKEYSTOREPASSWD (deprecated) is password for the CA keystore</div><div id="wwID0EN5RO" class="Body">The above system properties are used by the Universal Messaging sample apps, but are mapped to system properties required by a JSSE-enabled JVM by the utility program 'com.pcbsys.foundation.utils.fEnvironment', which all sample applications use. If you do not wish to use this program to perform the mapping between Universal Messaging system properties and those required by the JVM, you can specify the SSL properties directly. To do this in your own applications, set the following system properties:</div><div id="wwID0ES5RO" class="Preformatted"><br />-Djavax.net.ssl.keyStore=%INSTALLDIR%\client\<span class="varname">&lt;umserver&gt;</span>\bin\client.jks<br />-Djavax.net.ssl.keyStorePassword=password<br />-Djavax.net.ssl.trustStore=%INSTALLDIR%\client\<span class="varname">&lt;umserver&gt;</span>\bin\nirvanacacerts.jks<br />-Djavax.net.ssl.trustStorePassword=password<br /></div><div id="wwID0ED6RO" class="Body">where :</div><div id="wwID0EI6RO" class="Body">javax.net.ssl.keyStore is the client keystore location</div><div id="wwID0EN6RO" class="Body">javax.net.ssl.keyStorePassword is the password for the client keystore</div><div id="wwID0ES6RO" class="Body">javax.net.ssl.trustStore is the CA keystore file location</div><div id="wwID0EX6RO" class="Body">javax.net.ssl.trustStorePassword is password for the CA keystore</div><div id="wwID0E36RO" class="Body">As well as the above system properties, if you are intending to use https, both the Universal Messaging sample apps and your own applications will require the following system property to be passed in the command line:</div><div id="wwID0EBASO" class="Preformatted"><br />-Djava.protocol.handler.pkgs="com.sun.net.ssl.internal.www.protocol"<br /></div><div id="wwID0EHASO" class="Body">As well as the above, the RNAME (see 
    <a href="../num-webhelp/to-communicationprotocols.html#wwID0EX1PM"
   
     title="Communication Protocols and RNAMEs"
    ><span class="heading-page">Communication Protocols and RNAMEs</span></a>) used by your client application must correspond to the correct type of SSL interface, and the correct hostname and port that was configured earlier.</div><div id="wwID0E6ASO" class="Section_Title">Using the Universal Messaging Client System Properties for Secure Communication</div><div id="wwID0EEBSO" class="Body">Instead of the JSSE system properties, you can use the Universal Messaging client system properties to configure secure communication with Universal Messaging realms. The Universal Messaging client system properties configure only the connections to Universal Messaging realms and have no impact on the connections established to other endpoints, unlike the JSSE system properties. If both Universal Messaging client and JSSE system properties are configured, when you create a session to a Universal Messaging realm, the Universal Messaging client properties take precedence.</div><div id="wwID0EJBSO" class="Body">Universal Messaging supports client SSL certificates in .jks (java keystore) and PKCS12 format.</div><div id="wwID0EOBSO" class="Body">To configure secure communication in your own applications, set the following system properties:</div><div id="wwID0ETBSO" class="Preformatted">-Dcom.softwareag.um.client.ssl.keystore_path=<br />%INSTALLDIR%\client\Universal Messaging\bin\client.jks<br />-Dcom.softwareag.um.client.ssl.keystore_password=<span class="varname">password</span><br />-Dcom.softwareag.um.client.ssl.certificate_alias=<span class="varname">alias</span><br />-Dcom.softwareag.um.client.ssl.truststore_path=<br />%INSTALLDIR%\client\Universal Messaging\bin\nirvanacacerts.jks<br />-Dcom.softwareag.um.client.ssl.truststore_password=<span class="varname">password</span><br />-Dcom.softwareag.um.client.ssl.enabled_ciphers=AES-128,AES-192,AES-256<br />-Dcom.softwareag.um.client.ssl.ssl_protocol=TLS<br /></div><div id="wwID0EJCSO" class="Body">where:</div><div id="wwID0EUCSO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.keystore_path is the client keystore location</div><div id="wwID0EHDSO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.keystore_password is the password for the client keystore</div><div id="wwID0E1DSO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.certificate_alias is the alias of the certificate in the client keystore that is sent to the server if client certificate authentication is required</div><div id="wwID0ENESO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.truststore_path is the CA keystore file location</div><div id="wwID0EAFSO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.truststore_password is the password for the CA keystore</div><div id="wwID0ETFSO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.enabled_ciphers is a comma-separated list of ciphers from which the client is allowed to choose for secure communication</div><div id="wwID0EGGSO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.ssl_protocol is the protocol that is used for secure communication. You can restrict the client to use a specific version of TLS , for example:</div><div id="wwID0EZGSO" class="Preformatted_1">-Dcom.softwareag.um.client.ssl.ssl_protocol=TLSv1.3</div><div id="wwID0EJHSO" class="Section_Title">JMS Clients</div><div id="wwID0EOHSO" class="Body">In JMS, the RNAME corresponds to a JNDI reference. The example JMSAdmin application can be used to create a sample file based JNDI context, where the RNAME is specified as the content of the TopicConnectionFactoryFactory reference. Once your SSL interface is created you can simply change this value in your JNDI context to be the RNAME you require your JMS applications to use.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2013-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>