<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>JMS Client SSL Configuration</title><link rel="Prev" href="co-jmsadmin_intro.html" title="Previous" /><link rel="Next" href="co-jmseventmapping.html" title="Next" /><link rel="StyleSheet" href="css/_universal_messaging_docset_reverb_diba2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_universal_messaging_docset_reverb_diba2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/num-webhelp/co-jmsclientssl_2.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="plqoW8aD4tjw5LtReh0wevw" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/num-webhelp/co-jmsclientssl_2.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Universal Messaging</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/to-title_developer_guide.html#wwconnect_header">Developer Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/to-header_enterprise_apis.html#wwconnect_header">Enterprise APIs</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/co-index_dg_17.html#wwconnect_header">Enterprise Developer's Guide for Java</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../num-webhelp/to-title_provider_for_jms.html#wwconnect_header">Provider for JMS</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">JMS Client SSL Configuration</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EASGV" class="Heading_4">JMS Client SSL Configuration</div><div id="wwID0EISGV" class="Body">This section describes how to use SSL in your Universal Messaging Provider for JMS applications. Universal Messaging supports various wire protocols including SSL enabled sockets and HTTPS.</div><div id="wwID0ENSGV" class="Body">Once you have created an SSL enabled interface for your realm you need to ensure that your client application passes the required SSL properties either on the connection factory or via system properties used by your JSSE-enabled JVM. The Universal Messaging download contains some sample Java keystore files that will be used in this example.</div><div id="wwID0ESSGV" class="Body">The first such keystore is the client keystore, called <span class="filepath">client.jks</span>, which can be found in your installation directory, under the <span class="filepath">/server/Universal Messaging/bin</span> directory. The second is the truststore called <span class="filepath">nirvanacacerts.jks</span>, which is also located in the <span class="filepath">/server/Universal Messaging/bin</span> directory.</div><div id="wwID0EPTGV" class="Section_Title">Custom SSL Properties</div><div id="wwID0EUTGV" class="Body">Using the sample keystores, you can set custom SSL attributes on JMS as follows:</div><div id="wwID0EYTGV" class="Section_Division">Setting the SSL Attributes on the JNDI Context</div><div id="wwID0E4TGV" class="Body">In your properties object the following properties will set SSL attributes on the JNDI Context.</div><div id="wwID0ECUGV" class="Preformatted">env = new Properties();<br />env.setProperty("java.naming.factory.initial", <br />    "com.pcbsys.nirvana.nSpace.NirvanaContextFactory");<br />env.setProperty("java.naming.provider.url", rname);<br />env.setProperty("nirvana.ssl.keystore.path", <br />    %INSTALLDIR%\client\Universal Messaging\bin\client.jks);<br />env.setProperty("nirvana.ssl.keystore.pass", password);<br />env.setProperty("nirvana.ssl.keystore.cert", certAlias); <br />    // Certificate alias for the client to use when connecting to an interface <br />    // with client validation enabled<br />env.setProperty("nirvana.ssl.truststore.path", <br />    %INSTALLDIR%\client\Universal Messaging\bin\nirvanacacerts.jks);<br />env.setProperty("nirvana.ssl.truststore.pass", password);<br />env.setProperty("nirvana.ssl.protocol", "TLS");<br /></div><div id="wwID0EIUGV" class="Section_Division">Setting the SSL Attributes on the Connection Factory</div><div id="wwID0ETUGV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>You can set the SSL attributes using the same Properties object like this:</div><div id="wwID0EGVGV" class="Preformatted_1">connectionFactory.setProperties(env);<br />Connection con = connectionFactory.createConnection();</div><div id="wwID0ENVGV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>You can set the SSL attributes using the available setters:</div><div id="wwID0EAWGV" class="Preformatted_1">connectionFactory.setSSLStores(String keyStorePath, String keyStorePass, <br />    String trustStorePath, String trustStorePass);<br />connectionFactory.setSSLStores(String keyStorePath, String keyStorePass, <br />    String certificateAlias, String trustStorePath, String trustStorePass);<br /><br />connectionFactory.setSSLProtocol(String protocol);<br /><br />connectionFactory.setSSLEnabledCiphers(String[] enabledCiphers);<br /><br />Connection con = connectionFactory.createConnection();<br /></div><div id="wwID0EHWGV" class="Section_Division">Setting the SSL Attributes on the Connection</div><div id="wwID0EMWGV" class="Preformatted">Connection con = connectionFactory.createConnection(keyStorePath, keyStorePass, <br />   keyStoreCert, trustStorePath, trustStorePass, cipherSuite, protocol)</div><div id="wwID0E1WGV" class="Section_Title">JSSE SSL System Properties</div><div id="wwID0E6WGV" class="Body">The following system properties are used by the jsse implementation in your JVM. You can specify the SSL properties by passing the following as part of the command line for your JMS application:</div><div id="wwID0EEXGV" class="Preformatted"><br /> -Djavax.net.ssl.keyStore=%INSTALLDIR%\client\Universal Messaging\bin\client.jks<br /> -Djavax.net.ssl.keyStorePassword=password<br /> -Djavax.net.ssl.trustStore=%INSTALLDIR%\client\Universal Messaging\bin\nirvanacacerts.jks<br /> -Djavax.net.ssl.trustStorePassword=password<br /></div><div id="wwID0EKXGV" class="Body">where :</div><div id="wwID0EVXGV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>javax.net.ssl.keyStore is the client keystore location</div><div id="wwID0EIYGV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>javax.net.ssl.keyStorePassword is the password for the client keystore</div><div id="wwID0E2YGV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>javax.net.ssl.trustStore is the CA keystore file location</div><div id="wwID0EOZGV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>javax.net.ssl.trustStorePassword is password for the CA keystore</div><div id="wwID0EC1GV" class="Body">As well as the above system properties, if you are intending to use https, your JMS applications will require the following system property to be passed in the command line:</div><div id="wwID0EH1GV" class="Preformatted"><br /> -Djava.protocol.handler.pkgs="com.sun.net.ssl.internal.www.protocol"<br /></div><div id="wwID0EN1GV" class="Body">As well as the above, the RNAME used by the JMS application must correspond to the correct type of SSL interface, and the correct hostname and port that was configured earlier.</div><div id="wwID0ES1GV" class="Body">In JMS, the RNAME corresponds to a JNDI reference. The example JMSADmin application can be used to create a sample file based JNDI context, where the RNAME is specified as the content of the TopicConnectionFactoryFactory reference. Once your SSL interface is created you can simply change this value in your JNDI context to be the RNAME you require your JMS applications to use.</div><div id="wwID0E61GV" class="Section_Title">Using Universal Messaging Client System Properties</div><div id="wwID0EE2GV" class="Body">Instead of the JSSE system properties, you can use the Universal Messaging client system properties to configure secure communication with Universal Messaging realms. The Universal Messaging client system properties configure only the connections to Universal Messaging realms and have no impact on the connections established to other endpoints, unlike the JSSE system properties. If both Universal Messaging client and JSSE system properties are configured, when you create a session to a Universal Messaging realm, the Universal Messaging client properties take precedence.</div><div id="wwID0EJ2GV" class="Body">To configure secure communication in your own applications, set the following system properties:</div><div id="wwID0EO2GV" class="Preformatted">-Dcom.softwareag.um.client.ssl.keystore_path=<br />%INSTALLDIR%\client\Universal Messaging\bin\client.jks<br />-Dcom.softwareag.um.client.ssl.keystore_password=<span class="varname">password</span><br />-Dcom.softwareag.um.client.ssl.certificate_alias=<span class="varname">alias</span><br />-Dcom.softwareag.um.client.ssl.truststore_path=<br />%INSTALLDIR%\client\Universal Messaging\bin\nirvanacacerts.jks<br />-Dcom.softwareag.um.client.ssl.truststore_password=<span class="varname">password</span><br />-Dcom.softwareag.um.client.ssl.enabled_ciphers=AES-128,AES-192,AES-256<br />-Dcom.softwareag.um.client.ssl.ssl_protocol=TLS<br /></div><div id="wwID0EE3GV" class="Body">where:</div><div id="wwID0EP3GV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.keystore_path is the client keystore location</div><div id="wwID0EC4GV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.keystore_password is the password for the client keystore</div><div id="wwID0EV4GV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.certificate_alias is the alias of the certificate in the client keystore that is sent to the server if client certificate authentication is required</div><div id="wwID0EI5GV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.truststore_path is the CA keystore file location</div><div id="wwID0E25GV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.truststore_password is the password for the CA keystore</div><div id="wwID0EO6GV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.enabled_ciphers is a comma-separated list of ciphers from which the client is allowed to choose for secure communication</div><div id="wwID0EBAHV" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>com.softwareag.um.client.ssl.ssl_protocol is the protocol that is used for secure communication</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2013-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>