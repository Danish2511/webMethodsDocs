<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Managing Third-party Key Management Providers</title><link rel="Prev" href="co-assetmgt_api_portal_extension_points.html" title="Previous" /><link rel="Next" href="co-assetmgt_managing_access_tokens_912.html" title="Next" /><link rel="StyleSheet" href="css/_apiportal_integrated_webhelp_restructured_diba2.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_apiportal_integrated_webhelp_restructured_diba2_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/api-portal-integrated-webhelp/co-assetmgt_managing_keymgmt_providers.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pgQ_002bhQiZmmUdRHvSCP0PSXQ" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/api-portal-integrated-webhelp/co-assetmgt_managing_keymgmt_providers.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>API Portal</span>&nbsp;10.7 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../api-portal-integrated-webhelp/_apiportal_integrated_webhelp_restructured_diba2.1.006.html#wwconnect_header">webMethods API Portal for Administrators</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../api-portal-integrated-webhelp/_apiportal_integrated_webhelp_restructured_diba2.1.130.html#wwconnect_header">Managing API Assets</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../api-portal-integrated-webhelp/co-assetmgt_api_portal_extension_points.html#wwconnect_header">API Portal Extension Points</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Managing Third-party Key Management Providers</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EA2HO" class="Heading_3">Managing Third-party Key Management Providers</div><div id="wwID0EI2HO" class="Body">As part of managing key management providers you can register Providers, link and unlink APIs with Providers, and create protected APIs.</div><div id="wwID0EN2HO" class="Body">An external Provider can be registered in the following ways:</div><div id="wwID0EY2HO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>With call back URL</div><div id="wwID0EL3HO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>With SMTP details</div><div id="wwID0E53HO" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Without cal back URL and SMTP configuration</div><div id="wwID0EZ4HO" class="Section_Title">Registering a Provider with call back URL</div><div id="wwID0E54HO" class="Body">HTTP Method: POST</div><div id="wwID0ED5HO" class="Body">EndPoint URL: http://<span class="varname">&lt;host&gt;</span>:<span class="varname">&lt;port&gt;</span>/abs/apirepository/providers</div><div id="wwID0ET5HO" class="Body">Payload</div><div id="wwID0EY5HO" class="Preformatted">{<br />  {<br />  "apiportaluuid": "e500b8bb-26e5-4963-98c6-246789a2fc96",<br />  "providerurl": "http://sag.cs.org/external",<br />  "version": "9.12.0.3”<br />  "notificationPlugins": [<br />    {<br />      "id": "HTTP",<br />      "pluginParameters": {<br />        "com.aris.umc.apiportal.external.event.notify.endpoint": <br />        "http://sag.cs.org:53307/Centrasite/apimgmt/accesstokens/v1",<br />        "com.aris.umc.apiportal.external.event.notify.method": "POST",<br />        "com.aris.umc.apiportal.external.event.notify.contentType": "application<br />         /json"<br />      }<br />    }<br />  ]<br />}</div><div id="wwID0E55HO" class="Body">Usage: When consumers request, renew or revoke access tokens from <span class="ph">API Portal</span>, the request is sent to the POST endpoint that publishes the token to <span class="ph">API Portal</span>.</div><div id="wwID0EU6HO" class="Section_Title">Registering a Provider with SMTP details</div><div id="wwID0EZ6HO" class="Body">HTTP Method: POST</div><div id="wwID0E56HO" class="Body">EndPoint URL: http://<span class="varname">&lt;host&gt;</span>:<span class="varname">&lt;port&gt;</span>/abs/apirepository/providers</div><div id="wwID0EOAIO" class="Body">Payload</div><div id="wwID0ETAIO" class="Preformatted">{<br />  "name": "Test Provider",<br />  "short Description": "External Gateway",<br />  "longDescription": "An external non webmethods gateway which will poll for new <br />API subscriptions",<br />  "providerurl”: "",<br />  "notificationPlugins": [<br />    {<br />      "id": "SMTP",<br />      "pluginParameters": {<br />        "com.aris.umc.apiportal.external.event.notify.subject"<br />         :"New ${event.type}", <br />        "com.aris.umc.apiportal.external.event.notify.message":"Hello,/n/nThere <br />         is a new ${event.type} event received from webMethods API Portal <br />         (${event.portalURL}) /n /n Best Regards, /n /n API Portal Team/n/n*** <br />          This notification was sent automatically. <br />										Do not reply to this email.***" <br />          }<br />    }<br />  ]<br />}</div><div id="wwID0EZAIO" class="Body">Usage: When consumers request, renew or revoke access tokens from <span class="ph">API Portal</span>, the request details are mailed to the provider's mail id. The provider publishes the token to <span class="ph">API Portal</span> with the proper endpoint.</div><div id="wwID0EPBIO" class="Section_Title">Registering a Provider without call back URL and SMTP configuration</div><div id="wwID0EUBIO" class="Body">HTTP Method: POST</div><div id="wwID0EZBIO" class="Body">EndPoint URL: http://<span class="varname">&lt;host&gt;</span>:<span class="varname">&lt;port&gt;</span>/abs/apirepository/providers</div><div id="wwID0EJCIO" class="Body">Payload</div><div id="wwID0EOCIO" class="Preformatted">{<br />  "name": "Test Provider",<br />  "short Description": "External Gateway",<br />  "longDescription": "An external non webmethods gateway which will poll for <br />new API subscriptions",<br />  "providerurl”: ""<br />}</div><div id="wwID0EUCIO" class="Body">Usage: When consumers request, renew or revoke access tokens from <span class="ph">API Portal</span>, the event is stored in events database (in NEW state). The provider has to query the events and should update the status of the event.</div><div id="wwID0EGDIO" class="Section_Title">Linking an API with a Provider</div><div id="wwID0ELDIO" class="Body">HTTP Method: PUT</div><div id="wwID0EQDIO" class="Body">EndPoint URL: http://<span class="varname">&lt;host&gt;</span>:<span class="varname">&lt;port&gt;</span>/abs/apirepository/providers/&lt;providerId&gt;/apis</div><div id="wwID0EAEIO" class="Body">Payload</div><div id="wwID0EFEIO" class="Preformatted">[<br />  "api1_id",<br />  "api2_id"<br />]</div><div id="wwID0ELEIO" class="Body">Example:</div><div id="wwID0EQEIO" class="Preformatted">[<br />  "496ef631-23cf-11e6-4593-d4bed967adb3",<br />   "ac90c761-1e5d-11e6-3117-d4bed967adb3"<br />]</div><div id="wwID0E5EIO" class="Section_Title">Creating a protected API</div><div id="wwID0EDFIO" class="Body">HTTP Method: PATCH</div><div id="wwID0EIFIO" class="Body">EndPoint URL: http://<span class="varname">&lt;host&gt;</span>:<span class="varname">&lt;port&gt;</span>/abs/apirepository/apis/{api_id}</div><div id="wwID0EYFIO" class="Body">Payload</div><div id="wwID0E4FIO" class="Preformatted">[  <br />   {  <br />      "op":"replace",<br />      "path":"isProtected",<br />      "value":"true"<br />   }<br />]<br /></div><div id="wwID0ELGIO" class="Section_Title">Unlinking an API with a Provider</div><div id="wwID0EQGIO" class="Body">HTTP Method: DELETE</div><div id="wwID0EVGIO" class="Body">EndPoint URL: http://<span class="varname">&lt;host&gt;</span>:<span class="varname">&lt;port&gt;</span>/abs/apirepository/providers/&lt;providerId&gt;/apis</div><div id="wwID0EFHIO" class="Body">Payload</div><div id="wwID0EKHIO" class="Preformatted">[<br />  "api1_id",<br />  "api2_id"<br /><br />]</div><div id="wwID0EQHIO" class="Body">Example:</div><div id="wwID0EVHIO" class="Preformatted">[<br />  "496ef631-23cf-11e6-4593-d4bed967adb3",<br />   "ac90c761-1e5d-11e6-3117-d4bed967adb3"<br />]</div><div id="wwID0E2HIO" class="Body">When an API is linked with a provider (linked by means of call back URL method), then the request is processed as the provider has implemented the API.</div><div id="wwID0EAIIO" class="Body">When an API is linked with a provider (linked by means of SMTP notification method), then the request details are mailed to the provider's e-mail id. The provider then processes the request with the event-id received in the mail.</div><div id="wwID0EFIIO" class="Body">When an API is linked with a provider, who is configured without the call back URL or SMTP notification, then the provider has to query the event and process it.</div><div id="wwID0EKIIO" class="Body">When an API is not linked with any Provider, then the request details are mailed to the users of API Consumption Approver group in UMC. One of the user from that group processes the request with event-id received in the mail.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2014-2022&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>