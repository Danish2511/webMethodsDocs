<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Custom Applications in My webMethods Server Containers</title><link rel="Prev" href="co-install_components_in_container.html" title="Previous" /><link rel="Next" href="co-container_xmlimports.html" title="Next" /><link rel="StyleSheet" href="css/_my_webmethods_server_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/_my_webmethods_server_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/my-webmethods-server-webhelp/co-custom_app_deployment.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pgr0MHwqVpRo_002bFyjxaZPvkg" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/my-webmethods-server-webhelp/co-custom_app_deployment.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>My webMethods Server</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../my-webmethods-server-webhelp/to-about_mws_webhelp.html#wwconnect_header">My webMethods Server Webhelp</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../my-webmethods-server-webhelp/_my_webmethods_server_webhelp.1.139.html#wwconnect_header">Administering My webMethods Server</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../my-webmethods-server-webhelp/to-part_intro.html#wwconnect_header">Startup and Configuration</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../my-webmethods-server-webhelp/to-land_mws_in_containerized_env.html#wwconnect_header">Using My webMethods Server with Docker</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../my-webmethods-server-webhelp/co-about_mws_docker_env_vars.html#wwconnect_header">Running and Customizing My webMethods Server Containers</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../my-webmethods-server-webhelp/co-install_components_in_container.html#wwconnect_header">Installing My webMethods Server Components and Custom Applications</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Custom Applications in My webMethods Server Containers</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0EA14O" class="Heading_6">Custom Applications in My webMethods Server Containers</div><div id="wwID0EI14O" class="Body">Despite the general recommendation to include all required custom applications before generating a Docker image for a <span class="ph">My webMethods Server</span> installations, in certain occasions and especially for non-production environments you might require to install a custom application in a container on top of the image from which you start the container. <span class="ph">My webMethods Server</span> containers include a predefined directory <span class="codeph">/MWS/volumes/apps</span> on the container file system, in which you can place assets to copy to the <span class="codeph">/deploy</span> directory of the <span class="ph">My webMethods Server</span> instance. You can install custom applications in a container in one the following ways:</div><div id="wwID0EF24O" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Using the <span class="codeph">docker cp</span> command - to copy the application package from the host machine to the <span class="codeph">/MWS/volumes/apps</span> directory of a running container. This approach hot deploys the application and does not require restarting the container. However, you cannot use this approach if your application includes dependencies to external libraries. You cannot remove or uninstall an application that you hot-deploy using the <span class="codeph">docker cp</span> command.</div><div id="wwID0EC34O" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Using a bind-mounted directory from the host files system - use the <span class="codeph">-v</span> option of the <span class="codeph">docker run</span> command to bind mount a directory from the host that contains one or more applications to deploy when starting up a new container. At container startup <span class="ph">My webMethods Server</span> copies all files from the host directory to the <span class="codeph">/MWS/volumes/apps</span> of the container, and subsequently - to the<span class="codeph"> /deploy</span> directory for the instance. To remove an application, delete it from the mounted directory and restart the container.</div><div id="wwID0EH44O" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Using a named volume - use the <span class="codeph">-v</span> option of the <span class="codeph">docker run</span> command to mount a named volume that contains one or more applications to deploy when starting up a new container. At container startup <span class="ph">My webMethods Server</span> copies all files from the volume to the <span class="codeph">/MWS/volumes/apps</span> of the container, and subsequently - to the<span class="codeph"> /deploy</span> directory for the instance. To remove an application, delete it from the volume and restart the container.</div><div id="wwID0EO54O" class="Body"><span class="ph">My webMethods Server</span> persists a list of all deployed applications in a <span class="codeph">.properties</span> file on the <span class="codeph">MWS/volumes/data</span> directory in the container and its mounted volume, which is anonymous by default.</div><div id="wwID0E654O" class="Body">You can override the container locations of both the <span class="codeph">/apps</span> and the <span class="codeph">/data</span> directories, using the environment variables for <span class="ph">My webMethods Server</span>. For more information, see 
    <a href="../my-webmethods-server-webhelp/re-mws_docker_env_vars.html#wwID0ES62O"
   
     title="Environment Variables that My webMethods Server Containers Support"
    ><span class="heading-page">Environment Variables that My webMethods Server Containers
				Support</span></a>.</div><div id="wwID0EDA5O" class="Section_Title">Examples</div><div id="wwID0EMA5O" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The following example creates the named volume <span class="codeph">tasks</span> and uses it to deploy task applications to a container, created from the <span class="codeph">webM107</span> image:</div><div id="wwID0EFB5O" class="Preformatted_1">docker volume create tasks</div><div id="wwID0ELB5O" class="Preformatted_1">docker run -e<br />DB_URL="jdbc:wm:sqlserver://dbhost:1439;databaseName=MWSDOCKER;user=wmuser;password=manage"<br />-e DB_TYPE=ms -v tasks:/opt/softwareag/MWS/volumes/apps -p 8585:8585 webM107</div><div id="wwID0ERB5O" class="Note_1"><span class="Bold">Note:<br /></span>The custom task applications are copied to the volume from the host before issuing the docker run command.</div><div id="wwID0EIC5O" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The following example uses bind-mounts the host directory <span class="codeph">/home/myvm/taskapps </span>to deploy task applications to a container, created from the <span class="codeph">webM107</span> image:</div><div id="wwID0EBD5O" class="Preformatted_1">docker run -e<br />DB_URL="jdbc:wm:sqlserver://dbhost:1439;databaseName=MWSDOCKER;user=wmuser;password=manage"<br />-e DB_TYPE=ms -v<br />/home/myvm/taskapps:/opt/softwareag/MWS/volumes/apps -p 8585:8585<br />webM107</div><div id="wwID0EHD5O" class="Note_1"><span class="Bold">Note:<br /></span>The custom task applications must be present in the bind-mounted directory.</div><div id="wwID0E5D5O" class="List_1"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>The following example uses bind-mounts the host directory <span class="codeph">/home/myvm/taskapps </span>to deploy task applications to a container, created from the <span class="codeph">webM107</span> image and copies all applications to the <span class="codeph">/tasks</span> directory in the container, instead of in the default <span class="codeph">/apps</span> directory:</div><div id="wwID0E6E5O" class="Preformatted_1">docker run -e<br />DB_URL="jdbc:wm:sqlserver://dbhost:1439;databaseName=MWSDOCKER;user=wmuser;password=manage"<br />-e DB_TYPE=ms -v /home/myvm/taskapps:/opt/softwareag/MWS/tasks -e<br />APPS_DIR=/opt/softwareag/MWS/tasks -p 8585:8585<br />webM107</div><div id="wwID0EHF5O" class="Note"><span class="Bold">Note:<br /></span>The custom task applications must be present in the bind-mounted directory. The <span class="codeph">MWS/tasks</span> directory, referenced by the <span class="codeph">APPS_DIR</span> environment variable is created at container startup.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2004-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>