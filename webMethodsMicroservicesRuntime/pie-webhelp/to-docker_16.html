<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>Externalizing Log and Configuration Files When Running Integration Server in a Docker Container</title><link rel="Prev" href="to-docker_15.html" title="Previous" /><link rel="Next" href="to-docker_17.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/pie-webhelp/to-docker_16.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pN4IBTMIaDz1DEyL4iuzt1Og" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/pie-webhelp/to-docker_16.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-webhelp_intro_is_admin_guide.html#wwconnect_header">Integration Server Administrator's Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-docker.html#wwconnect_header">Using Integration Server with Docker</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-docker_12.html#wwconnect_header">Running the Docker Image in an On-Premise Docker Container</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">Externalizing Log and Configuration Files When Running Integration Server in a Docker Container</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E5OHZ" class="Heading_3">Externalizing Log and Configuration Files When Running <span class="ph">Integration Server</span> in a Docker Container</div><div id="wwID0EMPHZ" class="Body">When running <span class="ph">Integration Server</span> in a Docker container, <span class="ph">Integration Server</span> supports the use of Docker volumes to persist configuration and log files to a mounted directory on the host file system. A Docker volume exists outside of the Docker container on the file system of the host machine, making it accessible directly. Docker volumes can be used for externalizing the contents of the logs directory for the <span class="ph">Integration Server</span> instance and the <span class="ph">Integration Server</span> profile as well as the config directory for the <span class="ph">Integration Server</span> instance running in the Docker container.</div><div id="wwID0EGQHZ" class="Note"><span class="Bold">Note:<br /></span>Many container deployment solutions provide the ability to view the console logs STDOUT and STDERROR for a container. When running a Docker image of <span class="ph">Integration Server</span> in a Docker container, <span class="ph">Integration Server</span> writes the server log to the console as well as to the server.log file. You can also use the <span class="codeph">SAG_IS_AUDIT_STDOUT_LOGGERS</span> environment variable to indicate which file-based audit logs will write to STDOUT. For more information, see 
    <a href="../pie-webhelp/to-docker_14.html#wwID0EN4GZ"
   
     title="Writing Audit Logs to the Console"
    ><span class="heading-page">Writing Audit Logs to the Console</span></a>.</div><div id="wwID0ERRHZ" class="Body">To make use of volumes for configuration files and log files, supply one or more of the following environment variables when executing the <span class="codeph">docker run</span> command. Include the environment variables in the <span class="codeph">docker run</span> command immediately before the image name.</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 36.6%"><div id="wwID0EFTHZ" class="Table_Cell_Head">Environment Variable</div></td><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 63.3%"><div id="wwID0ELTHZ" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1THZ" class="Table_Cell"><span class="codeph">HOST_DIR</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGUHZ" class="Table_Cell">The path to the mounted directory on the HOST machine to which to write the files. Providing a <span class="codeph">HOST_DIR</span> parameter and value with the <span class="codeph">docker run</span> command externalizes the logs and configuration artifacts of <span class="ph">Integration Server</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E6UHZ" class="Table_Cell"><span class="codeph">SERVICE_NAME</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ELVHZ" class="Table_Cell">Name of a unique directory under <span class="codeph">HOST_DIR</span> for persisting <span class="ph">Integration Server</span> artifacts. When supplied, the logs and config directories are created under the <span class="codeph"> </span><span class="codeph_002c_varname">&lt;HOST_DIR&gt;</span><span class="codeph">/</span><span class="codeph_002c_varname">&lt;SERVICE_NAME&gt;</span><span class="codeph"> </span> directory and all artifacts of logs and config directories are persisted in the respective directories. If <span class="codeph">SERVICE_NAME</span> is not supplied, <span class="ph">Integration Server</span> instance name will be used for the name of the unique directory that gets created under the <span class="codeph"> </span><span class="codeph_002c_varname">&lt;HOST_DIR&gt;</span><span class="codeph"> </span> directory. <span class="ph">Software&nbsp;AG</span> recommends specifying a unique directory for each Docker container.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EIXHZ" class="Table_Cell"><span class="codeph">PERSIST_LOGS</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EUXHZ" class="Table_Cell">If set to true, the <span class="ph">Integration Server</span> running inside the Docker container persists the log files to <span class="varname">&lt;HOST_DIR&gt;</span>/<span class="varname">&lt;SERVICE_NAME&gt;</span>/logs where <span class="varname">&lt;SERVICE_NAME&gt;</span> is replaced by <span class="varname">&lt;INSTANCE_NAME&gt;</span> if the <span class="codeph">SERVICE_NAME</span> environment variable is not specified. <span class="ph">Integration Server</span> externalizes the logs located in the <span class="ph"> </span><span class="ph_002c_emphasis">Integration&nbsp;Server_directory</span><span class="ph"> </span>/instances/<span class="varname">&lt;instanceName&gt;</span>/logs and profiles/IS_<span class="varname">&lt;instanceName&gt;</span>/logs directories. If set to false, the <span class="ph">Integration Server</span> running inside the Docker container does not externalize the log files. The default is true.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E1ZHZ" class="Table_Cell"><span class="codeph">PERSIST_CONFIGS</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EF1HZ" class="Table_Cell">If set to true, the <span class="ph">Integration Server</span> running inside the Docker container persists the configuration files to the <span class="varname">&lt;HOST_DIR&gt;</span>/<span class="varname">&lt;SERVICE_NAME&gt;</span>/config directory where <span class="varname">&lt;SERVICE_NAME&gt;</span>is replaced by <span class="varname">&lt;INSTANCE_NAME&gt;</span> if the <span class="codeph">SERVICE_NAME</span> environment variable is not specified. If set to false, the <span class="ph">Integration Server</span> running inside the Docker container does not externalize the config files. The default is true.</div></td></tr></table></div><div id="wwID0EX2HZ" class="Example_Title">Example</div><div id="wwID0EL3HZ" class="Body">Consider the following <span class="codeph">docker run</span> command:</div><div id="wwID0EV3HZ" class="Preformatted">docker run -d --name IS_Default -p 5555 -p 9999 <br />       -v /opt/myfolder:/opt/myfolder <br />       -e HOST_DIR=/opt/myfolder -e SERVICE_NAME=demo is:microPkg</div><div id="wwID0E23HZ" class="Body">The configuration and log files will be written to the directory /opt/myfolder/demo with log files written to /opt/myfolder/demo/logs and configuration files written to /opt/myfolder/demo/config. Note that the opt/myfolder/demo/logs directory contains the log files from the <span class="ph"> </span><span class="ph_002c_emphasis">Integration&nbsp;Server_directory</span><span class="ph"> </span>/instances/<span class="varname">instanceName</span>/logs directory and the profiles/IS_default/logs directory.</div><div id="wwID0ER4HZ" class="Note"><span class="Bold">Note:<br /></span>In the example above, you need to supply <span class="codeph">-v /opt/myfolder:/opt/myfolder</span> only if the folder is not mounted on the machine executing the Docker container and is not visible to the Docker container.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>