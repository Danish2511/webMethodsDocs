<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>pub.jms.wmjms:receiveStream</title><link rel="Prev" href="pub_jms_waitForReply.html" title="Previous" /><link rel="Next" href="pub_jms_wmjms_sendStream.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/pie-webhelp/pub_jms_wmjms_receiveStream.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pMGvtkeSMsMJiZXMGjhsg0A" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/pie-webhelp/pub_jms_wmjms_receiveStream.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-webhelp_intro_is_bis_guide.html#wwconnect_header">Built-In Services Reference Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/JMS%20folder.html#wwconnect_header">JMS Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/JMS%20folder2.html#wwconnect_header">Summary of Elements in This Folder</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">pub.jms.wmjms:receiveStream</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0ET2TDB" class="Heading_3">pub.jms.wmjms:receiveStream</div><div id="wwID0ES3TDB" class="Body">WmPublic. <span class="emphasis">Deprecated</span> - There is no replacement service.</div><div id="wwID0E43TDB" class="Body">Receives a large message stream from a queue or topic on the <span class="ph">webMethods Broker</span>.</div><div id="wwID0ER4TDB" class="Section_Title">Input Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25%"><div id="wwID0E35TDB" class="Table_Cell"><span class="varname">consumer</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 75%"><div id="wwID0EI6TDB" class="Table_Cell"><span class="bisdatatype">Object</span> A message consumer object that the service uses to receive the large message stream. Create the message consumer object using the 
    <a href="../pie-webhelp/pub_jms_createConsumer.html#wwID0EN44CB"
   
     title="pub.jms:createConsumer"
    ><span class="apiname-only">pub.jms:createConsumer</span></a> service.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECAUDB" class="Table_Cell"><span class="varname">timeout</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EOAUDB" class="Table_Cell"><span class="bisdatatype">java.lang.Long</span>. Optional. Time to wait (in milliseconds) for the first part of the message stream. If you do not specify a <span class="varname">timeout</span> value, the consumer does not wait.</div></td></tr></table></div><div id="wwID0ELBUDB" class="Section_Title">Output Parameters</div><div class="ww_skin_page_overflow"><table class="norules1" cellspacing="4" summary=""><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 25%"><div id="wwID0EWCUDB" class="Table_Cell"><span class="varname">stream</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 75%"><div id="wwID0ECDUDB" class="Table_Cell"><span class="bisdatatype">Object</span> A com.webmethods.jms.impl.WmJMSInputStream received by the consumer.</div><div id="wwID0ENDUDB" class="Table_Cell">If the <span class="varname">timeout</span> value elapses before a message is received, <span class="varname">stream</span> will be null.</div></td></tr></table></div><div id="wwID0EKEUDB" class="Section_Title">Usage Notes</div><div id="wwID0EPEUDB" class="Body"><span class="ph">webMethods Broker</span> is deprecated, resulting in the deprecation of the <span class="apiname">pub.jms.wmjms:receiveStream</span> service. There is no replacement service.</div><div id="wwID0E5EUDB" class="Body">When using <span class="ph">webMethods Broker</span> as the JMS provider, the <span class="ph">webMethods</span> message streaming feature allows you to stream large amounts of data or a large file from a message producer to a message consumer.</div><div id="wwID0EMFUDB" class="Important"><span class="Bold">Important:<br /></span>You can only send and receive large messages from <span class="ph">Integration Server</span> when working with the <span class="ph">webMethods Broker</span>. For more information about how the <span class="ph">webMethods</span> message streaming feature works on the <span class="ph">webMethods Broker</span>, see the <span class="ph"> </span><span class="ph_002c_Citation">webMethods Broker Messaging Programmer’s Guide</span>.</div><div id="wwID0E4GUDB" class="Body">Large message streams cannot be sent or received as part of a transaction. If the JMS connection alias used by the consumer has a transaction type of LOCAL_TRANSACTION or XA_TRANSACTION, <span class="ph">Integration Server</span> throws an exception, specifically com.wm.app.b2b.server.jms.JMSSubsystemException, when it executes the 
    <a href="../pie-webhelp/pub_jms_wmjms_receiveStream.html#wwID0ET2TDB"
   
     title="pub.jms.wmjms:receiveStream"
    ><span class="apiname-only">pub.jms.wmjms:receiveStream</span></a> service.</div><div id="wwID0EQHUDB" class="Body">The <span class="varname">consumer</span> that you use to receive the message determines the destination from which this services receives messages and the JMS connection alias used to receive the messages. You can create a message consumer object using the 
    <a href="../pie-webhelp/pub_jms_createConsumer.html#wwID0EN44CB"
   
     title="pub.jms:createConsumer"
    ><span class="apiname-only">pub.jms:createConsumer</span></a> service.</div><div id="wwID0EEIUDB" class="Body">The <span class="varname">timeout</span> value specifies how long the message consumer waits for the initial part of the message stream. If a message is not returned when the time out period elapses, the 
    <a href="../pie-webhelp/pub_jms_wmjms_receiveStream.html#wwID0ET2TDB"
   
     title="pub.jms.wmjms:receiveStream"
    ><span class="apiname-only">pub.jms.wmjms:receiveStream</span></a> returns a null value.</div><div id="wwID0EYIUDB" class="Body">The <span class="term">read timeout</span> is the maximum length of time the consumer waits between receiving subsequent pieces of the message stream. After the read timeout elapses, the consumer calls InputStream.read() to read the next byte of the stream. If the next byte of the stream is not available, <span class="ph">Integration Server</span> throws a WmReadTimeoutException. The read timeout only applies after the consumer receives the first part of the message stream. The <span class="codeph">watt.server.jms.wmjms.lms.readTimeout</span> property determines the read timeout value. The default is 30000 milliseconds.</div><div id="wwID0EKJUDB" class="Body">Make sure to code your service to handle a WmReadTimeoutException. When an WmReadTimeoutException occurs, it suggests that <span class="ph">Integration Server</span> did not receive the entire message stream. When this occurs, you need to close the stream, which will acknowledge it to the <span class="ph">webMethods Broker</span>. You can close the stream from a Java service by calling Input.Stream.close. You can also close the stream using the 
    <a href="../pie-webhelp/pub_io_close.html#wwID0EIWXCB"
   
     title="pub.io:close"
    ><span class="apiname-only">pub.io:close</span></a> service.</div><div id="wwID0EBKUDB" class="Body">If the connection between the <span class="ph">Integration Server</span> and <span class="ph">webMethods Broker</span> fails during execution of the 
    <a href="../pie-webhelp/pub_jms_wmjms_receiveStream.html#wwID0ET2TDB"
   
     title="pub.jms.wmjms:receiveStream"
    ><span class="apiname-only">pub.jms.wmjms:receiveStream</span></a> service, <span class="ph">Integration Server</span> throws a WmConnectionException. When this occurs, <span class="ph">Integration Server</span> rolls the message back to the <span class="ph">webMethods Broker</span> automatically. The message can be received when the connection to the <span class="ph">webMethods Broker</span> is re-established.</div><div id="wwID0EILUDB" class="Body">You can code your service to implement recoverability logic. This means that the next time the message stream is received, the service re-processes the message stream from the point at which processing stopped. To resume processing from the correct point, the service needs to keep track of the message ID and byte position. For more details, com.webmethods.jms.impl.WmJMSInputStream.</div><div id="wwID0ENLUDB" class="Body">After the 
    <a href="../pie-webhelp/pub_jms_wmjms_receiveStream.html#wwID0ET2TDB"
   
     title="pub.jms.wmjms:receiveStream"
    ><span class="apiname-only">pub.jms.wmjms:receiveStream</span></a> receives and processes the last part of the message stream, you need to close the stream. InputStream.read() returns "-1" when the end of the stream is reached. You can close the stream from a Java service by calling Input.Stream.close. You can also close the stream using the 
    <a href="../pie-webhelp/pub_io_close.html#wwID0EIWXCB"
   
     title="pub.io:close"
    ><span class="apiname-only">pub.io:close</span></a> service. Closing the stream explicitly acknowledges the message to the provider.</div><div id="wwID0EFMUDB" class="Body">The <span class="varname">consumer</span> used to receive large message streams from the <span class="ph">webMethods Broker</span> can specify an <span class="varname">acknowledgmentMode</span> of <span class="codeph">AUTO_ACKNOWLEDGE</span> or <span class="codeph">CLIENT_ACKNOWLEDGE</span>. <span class="ph">webMethods Broker</span> does not permit the use of the <span class="varname">acknowledgmentMode</span> is <span class="codeph">DUPS_OK_ACKNOWLEDGE</span> for the  <span class="ph">webMethods</span> message streaming feature.</div><div id="wwID0EWNUDB" class="Body">You might want to use the scheduler capabilities within <span class="ph">Integration Server</span> to schedule a service that receives and then process large messages from <span class="ph">webMethods Broker</span> For more information about scheduling services, see <span class="ph"> </span>
    <a href="../pie-webhelp/to-schedule_services_4.html#wwID0EAIXW"
   
     title="Scheduling a User Task"
    ><span class="ph_002c_heading-page">Scheduling a User Task</span></a><span class="ph">.</span></div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright © 2007-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>