<!DOCTYPE html ><html xml:lang="en" lang="en" data-highlight-require-whitespace="true" xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8" /><meta http-equiv="Content-Style-Type" content="text/css" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="shortcut icon" href="favicon.ico" type="image/x-icon" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><title>How to Publish a Document</title><link rel="Prev" href="to-publishing_documents_5.html" title="Previous" /><link rel="Next" href="to-publishing_documents_7.html" title="Next" /><link rel="StyleSheet" href="css/is_integrated_webhelp.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/skin.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/social.css" type="text/css" media="all" /><link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" /><!--[if IE 7]><link rel="StyleSheet" href="css/is_integrated_webhelp_IE7.css" type="text/css" media="all" /><![endif]--><link rel="StyleSheet" href="css/print.css" type="text/css" media="print" /><script type="text/javascript">
    'use strict';

    var redirect_url, page_hash;

    if ((window === window.top) && (window.navigator.userAgent.indexOf('bot/') === -1)) {
        // Redirect
        //
        redirect_url = "../index.html#page/pie-webhelp/to-publishing_documents_6.html";
        if (window.document.location.hash.length > 1) {
            // Sanitize and append it
            //
            page_hash = window.document.location.hash.substring(1);
            page_hash = page_hash.replace(/[\\><:;"]|%5C|%3C|%3E|%3A|%3B|%22/gi, '');
            redirect_url += '#' + page_hash;
        }
        window.document.location.replace(redirect_url);
    }
</script><script type="text/javascript" src="scripts/common.js"></script><script type="text/javascript" src="scripts/page.js"></script><script type="text/javascript" src="scripts/search-client.js"></script><script type="text/javascript" src="scripts/unidata.js"></script><script type="text/javascript" src="scripts/unibreak.js"></script></head><body id="pkCxrGxfffEBUGSDbMuBE8Q" class="ww_skin_page_body" onload="Page.OnLoad('../index.html#page/pie-webhelp/to-publishing_documents_6.html');"><header id="wwconnect_header"><!-- Produkt Name und Version in Breadcrumbs SQ --><div class="ww_skin_breadcrumbs"><span>Integration Server</span>&nbsp;10.15 |
		     <span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-webhelp_intro_is_pubsub_guide.html#wwconnect_header">Publish-Subscribe Developerâ€™s Guide</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-publishing_documents.html#wwconnect_header">Publishing Documents</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_parent"><a href="../pie-webhelp/to-publishing_documents_5.html#wwconnect_header">Publishing a Document</a></span><span class="ww_skin_breadcrumbs_divider"> | </span><span class="ww_skin_breadcrumbs_current">How to Publish a Document</span></div><div class="ww_skin_page_toolbar"><a class="ww_behavior_print ww_skin ww_skin_print" title="Print" href="#">&nbsp;</a></div></header><div id="wwID0E1M5NB" class="Heading_3">How to Publish a Document</div><div id="wwID0EKN5NB" class="Body">The following describes the general steps you take to create a service that publishes a document.</div><div id="wwID0EWN5NB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>1. </span></span><span class="Command"> </span><span class="Command_002c_inlinetitle">Create a document reference to the publishable document type that you want to publish.</span><span class="Command"> You can accomplish this by: </span></div><div id="wwID0EAP5NB" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Declaring a document reference in the input signature of the publishing service</div><div id="wwID0ETP5NB" class="List_2_Continued">-OR-</div><div id="wwID0EZP5NB" class="List_2"><span class="WebWorks_Number" style="width: 18pt"><span><img src="chapterTOC_bullet.png" alt="*" border="0" width="10" height="10" /></span></span>Inserting a MAP step in the publishing service and adding the document reference to <span class="uicontrol">Pipeline Out</span>. You must <span class="emphasis">immediately</span> link or assign a value to the document reference. If you do not, the document reference is automatically cleared the next time the Pipeline view is refreshed.</div><div class="ww_skin_page_overflow"><div id="wwID0EYQ5NB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>2. </span></span><span class="Command"> </span><span class="Command_002c_inlinetitle">Add content to the document reference.</span><span class="Command"> You can add content by linking fields to the document reference or by using the </span><span class="Command_002c_uicontrol">Set Value</span><span class="Command"> modifier <img class="Default" src="../pie-webhelp/images/pipesetvalue.gif" width="100%" style="display: inline; float: none; left: 0pt; max-height: 16px; max-width: 16px; top: 0pt" alt="" /> to assign values to the fields in the document reference. </span></div></div><div id="wwID0EHS5NB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>3. </span></span><span class="Command"> </span><span class="Command_002c_inlinetitle">Assign values to fields in the envelope (_</span><span class="Command_002c_inlinetitle_002c_varname">env</span><span class="Command_002c_inlinetitle"> field) of the document reference.</span><span class="Command"> When a service or adapter notification publishes a document, </span><span class="Command_002c_Command">Integration Server</span><span class="Command"> and the messaging provider (</span><span class="Command_002c_Command">Broker</span><span class="Command"> or </span><span class="Command_002c_Command">Universal Messaging</span><span class="Command">) automatically assign values to many fields in the document envelope. However, you can manually set some of these fields. </span><span class="Command_002c_Command">Integration Server</span><span class="Command">, </span><span class="Command_002c_Command">Broker</span><span class="Command">, and </span><span class="Command_002c_Command">Universal Messaging</span><span class="Command"> do not overwrite fields that you set manually. For more information about assigning values to fields in the document envelope, see </span>
    <a href="../pie-webhelp/to-publishing_documents_3.html#wwID0EXC4NB"
   
     title="Setting Fields in the Document Envelope"
    ><span class="Command_002c_heading-page">Setting Fields in the Document
						Envelope</span></a><span class="Command">. </span></div><div id="wwID0EAV5NB" class="Note_1"><span class="Bold">Note:<br /></span>If you assign a value to the <span class="varname">uuid</span> field in the document envelope, <span class="ph">Integration Server</span> uses that value only if the <span class="apiname">pub.publish:publish</span> service sends a document to <span class="ph">Universal Messaging</span>. If the <span class="apiname">pub.publish:publish</span> service publishes a document to <span class="ph">Broker</span> or locally, <span class="ph">Integration Server</span> overwrites the assigned <span class="varname">uuid</span> value with one that <span class="ph">Integration Server</span> generates upon publish.</div><div id="wwID0EAX5NB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>4. </span></span><span class="Command"> </span><span class="Command_002c_inlinetitle">Set values for custom header fields.</span><span class="Command"> When publishing a document to </span><span class="Command_002c_Command">Universal Messaging</span><span class="Command">, you can add custom header fields to the document by assigning values to a </span><span class="Command_002c_varname">_properties</span><span class="Command"> document variable in the publishable document type. </span><span class="Command_002c_Command">Integration Server</span><span class="Command"> adds the contents of </span><span class="Command_002c_varname">_properties</span><span class="Command"> as name=value pairs to the header. Subscribers of the publishable document type can register filters that indicate which documents the subscriber wants to receive based on the custom header field contents. When </span><span class="Command_002c_Command">Universal Messaging</span><span class="Command"> receives the published document, it applies the filter and only routes the document to the subscriber if the filter criteria is met. </span></div><div id="wwID0E4Y5NB" class="Step_1"><span class="WebWorks_Number" style="width: 18pt"><span>5. </span></span><span class="Command"> </span><span class="Command_002c_inlinetitle">Invoke pub.publish:publish to publish the document.</span><span class="Command"> This service takes the document you created and publishes it. </span></div><div id="wwID0EB15NB" class="Note_1"><span class="Bold">Note:</span><span class="ph">Integration Server</span> issues a ServiceException when the dispatcher is shut down during the execution of this service. Make sure to code your service to handle this situation.</div><div id="wwID0E115NB" class="Body_1">The <span class="apiname">pub.publish:publish</span> service expects to find a document (IData object) named <span class="varname">document</span> in the pipeline. If you are building a flow service, you will need to use the Pipeline view to map the document you want to publish to <span class="varname">document</span>.</div><div id="wwID0EP25NB" class="Body_1">In addition to the document reference you map into <span class="varname">document</span>, you must provide the following parameter to <span class="apiname">pub.publish:publish</span>.</div><div class="ww_skin_page_overflow"><table class="norules2" cellspacing="4" summary=""><tr><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 29.9%"><div id="wwID0EF45NB" class="Table_Cell_Head">Name</div></td><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 70%"><div id="wwID0EL45NB" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E145NB" class="Table_Cell"><span class="varname">documentTypeName</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EG55NB" class="Table_Cell">A String specifying the fully qualified name of the publishable document type that you want to publish. The publishable document type must exist on <span class="ph">Integration Server</span>.</div></td></tr></table></div><div id="wwID0EV55NB" class="Body_1">You may also provide the following optional parameters:</div><div class="ww_skin_page_overflow"><table class="norules2" cellspacing="4" summary=""><tr><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 30.4%"><div id="wwID0EHA6NB" class="Table_Cell_Head">Name</div></td><td class="Table_Cell_Head" style="border-bottom-color: #0899CC; border-bottom-style: solid; border-bottom-width: thin; padding-left: 2pt; padding-right: 2pt; width: 69.5%" colspan="2"><div id="wwID0ENA6NB" class="Table_Cell_Head">Description</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 30.4%"><div id="wwID0E5A6NB" class="Table_Cell"><span class="varname">local</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 69.5%" colspan="2"><div id="wwID0EKB6NB" class="Table_Cell">A String indicating whether you want to publish the document locally. When you publish a document locally, <span class="ph">Integration Server</span> does not send the document to the messaging provider. The document remains on the publishing <span class="ph">Integration Server</span>. Only subscribers on the same <span class="ph">Integration Server</span> can receive and process the document.</div><div id="wwID0E5B6NB" class="Table_Cell">The <span class="varname">local</span> parameter applies only when the publishable document type specified for <span class="varname">documentTypeName</span> uses the <span class="ph">Broker</span> connection alias. A publishable document type that specifies <span class="ph">Universal Messaging</span> as the messaging provider cannot be published locally. A publishable document type that specifies the IS_LOCAL_CONNECTION alias can be published locally only. <span class="ph">Integration Server</span> uses the <span class="varname">local</span> value only if the publishable document type uses a <span class="ph">Broker</span> connection alias.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 30.4%"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 18.1%"><div id="wwID0EPD6NB" class="internalheadrule">Set to...</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top; width: 51.3%"><div id="wwID0EVD6NB" class="internalheadrule">To...</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGE6NB" class="Table_Cell"><span class="codeph">true</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERE6NB" class="Table_Cell">Publish the document locally.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECF6NB" class="Table_Cell"><span class="codeph">false</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ENF6NB" class="Table_Cell">Publish the document to the configured messaging provider. This is the default.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EYF6NB" class="Table_Cell"><span class="varname">delayUntilServiceSuccess</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top" colspan="2"><div id="wwID0EEG6NB" class="Table_Cell">A String specifying that <span class="ph">Integration Server</span> will delay publishing the document until the top-level service executes successfully. If the top-level service fails, <span class="ph">Integration Server</span> will not publish the document.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EAH6NB" class="internalheadrule">Set to...</div></td><td class="internalheadrule" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EGH6NB" class="internalheadrule">To...</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0EXH6NB" class="Table_Cell"><span class="codeph">true</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ECI6NB" class="Table_Cell">Delay publishing until after the top-level service executes successfully.</div><div id="wwID0EII6NB" class="Note"><span class="Bold">Note:</span><span class="ph">Integration Server</span> does not return a status when this parameter is set to <span class="codeph">true</span>.</div></td></tr><tr><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0ERJ6NB" class="Table_Cell"><span class="codeph">false</span></div></td><td class="Table_Cell" style="padding-left: 2pt; padding-right: 2pt; vertical-align: top"><div id="wwID0E3J6NB" class="Table_Cell">Publish the document when the <span class="apiname">publish</span> service executes.</div></td></tr></table></div><div id="wwID0EWK6NB" class="Note"><span class="Bold">Note:<br /></span>The watt.server.control.maxPublishOnSuccess parameter controls the maximum number of documents that <span class="ph">Integration Server</span> can publish on success at one time. You can use this parameter to prevent the server from running out of memory when a service publishes many, large documents on success. By default, this parameter is set to 50,000 documents. Decrease the number of documents that can be published on success to help prevent an out of memory error. For more information about this parameter, see <span class="ph"> </span><span class="ph_002c_Citation">webMethods Integration Server Administratorâ€™s Guide</span>.</div><footer><!-- Related Topics --><!--                --><!-- Disqus --><!--        --><!-- Google Translation --><!--                    --><!-- SQ insert Footer --><br /><hr style="border:1px solid; border-color: #1776BF; " /><!-- FRWE: Why is the font family information hard-coded?? --><div style="font-family: 'Roboto', Sans-Serif; font-size: 10px; margin-top: 6px; margin-bottom: 6px; text-align: center;"><a href="http://www.softwareag.com/licenses">Copyright Â© 2007-2023&nbsp;Software AG, Darmstadt, Germany and/or Software AG USA, Inc., Reston, VA, USA, and/or its subsidiaries and/or its affiliates and/or their licensors</a></div><!-- SQ insert Date 
	 <div style="text-align: center; font-weight: bold;" wwpage:content="pub-date">January 1, 2015</div> --><!-- old Footer 2016
	  <div class="footer">Copyright &#169; <span wwpage:content="sag:product-copyrfirst"></span>, <span wwpage:content="sag:organization-copyrholder"></span>, <a href="http://sag.com/" wwpage:attribute-href="sag:organization-url" wwpage:content="sag:organization-url">http://sag.com/</a>
   --><!-- SQ Variablen --><!-- Copyright Test --><!--	  <div style="text-decoration: underline">Copyright Import Test:</div>
	  <wwpage:Import wwpage:content-from-file="Copyright/copyright_en.asp" />
	  <br></br>--><!--
	  <!-\- SQ Variables - Information from xresources -\->
	  <div style="text-decoration: underline">From xresources:</div>
	  <div>sag:organization-id == <span wwpage:content="sag:organization-id"></span></div>
	  <div>sag:organization-name == <span wwpage:content="sag:organization-name"></span></div>
	  <div>sag:organization-copyrholder == <span wwpage:content="sag:organization-copyrholder"></span></div>
	  <div>sag:organization-url == <span wwpage:content="sag:organization-url"></span></div>
	  
	  <div>sag:family-id == <span wwpage:content="sag:family-id"></span></div>
	  <div>sag:family-name == <span wwpage:content="sag:family-name"></span></div>
	  <div>sag:family-organization == <span wwpage:content="sag:family-organization"></span></div>
	  
	  <div>sag:product-id == <span wwpage:content="sag:product-id"></span></div>
	  <div>sag:product-name == <span wwpage:content="sag:product-name"></span></div>
	  <div>sag:product-copyrfirst == <span wwpage:content="sag:product-copyrfirst"></span></div>
	  <div>sag:product-family == <span wwpage:content="sag:product-family"></span></div>
	  
	  <!-\- SQ Variables - Values from DITA-Map and Keymap-\->
	  <br></br>
	  <div style="text-decoration: underline">From DITA/Book-Map:</div>
	  <div>ProdInfo Prodname == <span wwpage:replace="wwvars:ProdInfoProdName"></span></div>
	  <div>ProdInfo Mod First == <span wwpage:replace="wwvars:ProdInfoModFirst"></span></div>
	  <div>ProdInfo Mod Last == <span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>ProdInfo Rel First == <span wwpage:replace="wwvars:ProdInfoRelFirst"></span></div>
	  <div>ProdInfo Rel Last == <span wwpage:replace="wwvars:ProdInfoRelLast"></span></div>
	  <div>ProdInfo Vers First == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span></div>
	  <div>ProdInfo Vers Last == <span wwpage:replace="wwvars:ProdInfoVersLast"></span></div>
	  <div>ProdInfo vrm vers.rel.mod == <span wwpage:replace="wwvars:ProdInfoVersFirst"></span>.<span wwpage:replace="wwvars:ProdInfoRelLast"></span>.<span wwpage:replace="wwvars:ProdInfoModLast"></span></div>
	  <div>BookID PartNo == <span wwpage:replace="wwvars:BookPartNo"></span></div>
	  <div>othermeta release-version == <span wwpage:replace="wwvars:ReleaseVersion"></span></div>
	  <div>othermeta release-date == <span wwpage:replace="wwvars:ReleaseDate"></span></div>
	  <div>othermeta release-edition == <span wwpage:replace="wwvars:ReleaseEdition"></span></div>
	  <div>othermeta product == <span wwpage:replace="wwvars:Product"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">From x_runtime/keymap.ditamap:</div>
	  <div>sag:product-shortname == <span wwpage:replace="wwvars:sag:product-shortname"></span></div>
	  <div>sag:product-longname == <span wwpage:replace="wwvars:sag:product-longname"></span></div>
	  <div>versionAdd == <span wwpage:replace="wwvars:versionAdd"></span></div>
	  <div>yearFYLY == <span wwpage:replace="wwvars:yearFYLY"></span></div>
	  <div>fingerprint == <span wwpage:replace="wwvars:fingerprint"></span></div>
	  <div>sag:CopyrightDeclaration == <span wwpage:replace="wwvars:sag:CopyrightDeclaration"></span></div>
	  <div>pdfReleaseDate == <span wwpage:replace="wwvars:pdfReleaseDate"></span></div>
	  <div>documentID == <span wwpage:replace="wwvars:documentID"></span></div>
	  <br></br>
	  <div style="text-decoration: underline">Reserve:</div>
	  <div>organization == <span wwpage:content="organization"></span></div>
	  <div>product-name == <span wwpage:content="product-name"></span></div>
	  <div>copyright-first == <span wwpage:content="copyright-first"></span></div>
	  <div>copyright-last == <span wwpage:content="copyright-last"></span></div>
	  <div>copyright-first-b == <span wwpage:content="wwvars:copyright-first-b"></span></div>
	  <div>copyright-last-b == <span wwpage:content="copyright-last-b"></span></div>
	  <div>doc-id-one == <span wwpage:content="doc-id-one"></span></div>
	  <div>doc-id-two == <span wwpage:content="doc-id-two"></span></div>  
	  <div>Published == <span wwpage:content="pub-date"></span></div>
	  --></footer></body></html>